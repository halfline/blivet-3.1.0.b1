commit c9afa483554e925be9e23d16c5228789d71de919
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 2 13:52:06 2018 -0400

    New version: 3.1.0.b1

commit 23ccb1d4b934214a6e1e90a6d309019183f82f85
Merge: ddc24c71 20ae5ea9
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 2 12:24:11 2018 -0400

    Merge branch '3.1-devel' into 3.1-release

commit ddc24c71bad10208b11ea0c45853898fadd7030b
Merge: 9acc115b ecb727a9
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 2 12:15:11 2018 -0400

    Merge pull request #689 from dwlehman/spec-updates
    
    Spec file updates for python 2/3 and Fedora dist-git.

commit 20ae5ea9c5aad63df85f7117c72beab48a2d096d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 25 14:36:58 2018 -0400

    Re-add nvdimm plugin Recommends on 3.1+.
    
    (This reverts commit 495be07cb10c6997b20b9a180d75297a131f0012,
    which removed the nvdimm Recommends on 3.0-devel since nvdimm
    support does not exist on that branch.)

commit ecb727a9414a0b5b507eb9d6c264b1edb24a4ad3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 1 12:28:58 2018 -0400

    Spec file updates for python 2/3 and Fedora dist-git.

commit b90f85756f124c0b4e450ddd993cca39ec6ee1ca
Merge: 8f2c0aba 495be07c
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Apr 23 13:04:53 2018 +0200

    Merge branch '3.0-devel' into 3.1-devel

commit 9acc115baf8ecf0270e454148b3c3d87a6be55f6
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 20 14:48:13 2018 -0400

    New version: 3.0.1

commit 1ab8d92b72b968f803b3ec6d1069ed39ffb90c99
Merge: 02dba3e6 495be07c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 20 14:34:38 2018 -0400

    Merge branch '3.0-devel' into 3.0-release

commit 495be07cb10c6997b20b9a180d75297a131f0012
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 20 14:18:22 2018 -0400

    Remove Recommends for nvdimm libblockdev plugin.
    
    This was erroneously added when switching to weak dependencies for the
    plugins.

commit 02dba3e6bbac1bfe7c79c83382e3be5ec866e296
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 20 14:19:07 2018 -0400

    Update zanata version.

commit c10922eeb80fd1af01c507bd5c6d14c51569d160
Merge: 2ce5ad4c 79d20c92
Author: japokorn <japokorn@redhat.com>
Date:   Fri Apr 20 12:45:25 2018 +0200

    Merge pull request #682 from japokorn/3.0-devel-weak_dependencies
    
    Weak dependencies for libblockdev plugins

commit 79d20c92b7f206379812b89487535c88fa952d8a
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Wed Apr 4 09:57:41 2018 +0200

    Weak dependencies for libblockdev plugins
    
    - libblockdev plugins now use only weak dependencies
    - added libblockdev plugins dependency tests to verify that:
        - destroy|create|resize_device fails (properly) w/o necessary plugin
        - no BlockDevNotImplementedError is raised in case of missing plugin
            (due to confusing nature of this exception - it does not inform
             about a missing dependency)

commit 2ce5ad4c3af5685bd98ae4362c53a378f43a554d
Merge: 0ab5443c d5873422
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 19 08:08:08 2018 +0200

    Merge pull request #678 from vojtechtrefny/3.0-devel_fix-safe-dbus
    
    Fix how we check return value for call_sync in safe_dbus

commit 8f2c0abafad9e47ae95c4e24042706a2d6e2a472
Merge: 7ae76e4a c07d83ff
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 19 08:07:54 2018 +0200

    Merge pull request #681 from vojtechtrefny/3.1-devel_nvdimm
    
    NVDIMM support

commit 0ab5443c277dbada093b4f95f58fe556312b0aa3
Merge: 565c26d4 854994b7
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 19 08:07:41 2018 +0200

    Merge pull request #685 from vojtechtrefny/3.0-devel_blockdev-log-levels
    
    Translate log levels from libblockdev to python log levels

commit 565c26d4c50b110b852f15d90b5a9783ddcf66bf
Merge: 2d23e26c ced49457
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 19 08:07:06 2018 +0200

    Merge pull request #683 from rvykydal/fix-deprecated-iscsi-firmware-option
    
    Replace deprecated iscsi_firmware dracut option

commit 2d23e26ce9d1cda2c7e84ae6de3a45e03b063da8
Merge: a2039313 0ef2b70a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Apr 17 07:58:18 2018 +0200

    Merge pull request #684 from vojtechtrefny/3.0-devel_mdraid-stop-settle
    
    Try to wait after stopping an MD array

commit 854994b7ee1675c88a4dd34c8e92ada15fb1d3df
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Apr 16 14:58:38 2018 +0200

    Translate log levels from libblockdev to python log levels
    
    Libblockdev uses syslog log levels for logging and these are not
    the same as python logging levels so we need to "translate"
    these.
    Also ignore debug logs from libblockdev and don't save these
    to program.log.

commit 0ef2b70a2fbebf28428641ce971e725f7d20533f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 12 11:04:34 2018 +0200

    Try to wait after stopping an MD array
    
    Sometimes after running 'mdadm --stop' it takes some time before
    the device in /dev disappears. udev settle should fix this.
    
    Resolves: rhbz#1563631

commit ced494573e9db17989927e588e459fbadf88c05e
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Wed Apr 11 17:24:41 2018 +0200

    Replace deprecated iscsi_firmware dracut option
    
    The supported option is rd.iscsi.firmware
    
    Resolves: rhbz#1566133

commit c07d83fff3b63f572ccbce58c7ef637a4fdc6df3
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 13 14:46:32 2018 +0100

    Add 'nvdimm' tag for NVDIMM namespaces

commit c93770cee800acdda4810a4897c1cbf421d66cd1
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Feb 27 16:10:12 2018 +0100

    Add test for NVDIMMNamespaceDevicePopulator

commit 962abe9da81deb835b96ff247a3eb3d156dff6f6
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 7 15:00:25 2018 +0100

    Add populator helper for NVDIMM namespaces
    
    Helper for adding block-like NVDIMM namespaces to the devicetree.

commit e1a335984838daf84aeada0cdd413e383ecae696
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 7 14:58:12 2018 +0100

    Add 'NVDIMMNamespaceDevice' device representing NVDIMM namespaces

commit 740fe29954f0de04eb76e63cc1ec240b92fb6cb1
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 7 14:56:13 2018 +0100

    Add a function for identifying NVDIMM namespaces

commit 9a608a942a16a29756243ca079e63ea4d993e62f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 7 14:54:40 2018 +0100

    Add a singleton for NVDIMM namespaces management
    
    This currently allows changing mode of the namespace and getting
    information about available namespaces.

commit d111428f019de58f0639183c184c069538a8845b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 7 14:35:26 2018 +0100

    Add NVDIMM plugin to list of requested plugins

commit 7ae76e4ad0b3076aef5b234b0b301442b4983675
Merge: 48b72986 a2039313
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 5 07:58:30 2018 +0200

    Merge branch '3.0-devel' into 3.1-devel

commit a20393135108ec5ba887f54f38a238cdc345ee17
Merge: 48b72986 27306dd3
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 5 07:57:24 2018 +0200

    Merge pull request #680 from vojtechtrefny/3.0-devel_nvdimm-revert
    
    Revert "Merge pull request #658 from vojtechtrefny/3.0-devel_nvdimm-s…

commit 27306dd351d0d1ac348962536bb2138eca054905
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Apr 4 08:34:41 2018 +0200

    Revert "Merge pull request #658 from vojtechtrefny/3.0-devel_nvdimm-support"
    
    This reverts commit 4a8f4fcf547ddcdaff0b03f223bcae63f82ea435, reversing
    changes made to 6e7eedfc9e4cbe3ed2b9ac1dc158d4609fb2f338.

commit dfddc8931b5fe38d7ff3afa81d8e2d7ab3373be0
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 2 13:08:41 2018 -0400

    New version: 3.0.0

commit 48b72986f63d0c84124ecdd8712bc8552a8b7a15
Merge: c46c1d34 a64f8f5d
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 29 15:21:15 2018 -0400

    Merge pull request #672 from hroncok/nopy2
    
    Conditionalize the Python 2 subpackage and don't build it on EL > 7 and Fedora > 28

commit c46c1d34e310cbbda69b936e9333395384fe7e8b
Merge: 4a8f4fcf 292298fb
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Mar 29 09:32:29 2018 +0200

    Merge pull request #665 from vojtechtrefny/3.0-devel_remove-pocketlint-build-requires
    
    Remove dependency on pocketlint

commit d587342253bf56f73cf3c353e66290a4adef9466
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Mar 29 09:00:37 2018 +0200

    Fix how we check return value for call_sync in safe_dbus

commit 4a8f4fcf547ddcdaff0b03f223bcae63f82ea435
Merge: 6e7eedfc d4792dd0
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 27 13:25:19 2018 +0200

    Merge pull request #658 from vojtechtrefny/3.0-devel_nvdimm-support
    
    NVDIMM support

commit a64f8f5db635cd3720824e30547fd2b03ca864ca
Author: Miro Hrončok <miro@hroncok.cz>
Date:   Tue Mar 20 21:54:00 2018 +0100

    Conditionalize the Python 2 subpackage and don't build it on EL > 7 and Fedora > 28
    
    - Use bcond for with python3, allow it on RHEL > 7
    - This reverts commit 243b84bb9629a09e77dcb9f8fb87414f5b679c33
    - See https://src.fedoraproject.org/rpms/python-blivet/pull-request/2

commit 6e7eedfc9e4cbe3ed2b9ac1dc158d4609fb2f338
Merge: 44dc15f3 243b84bb
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 20 15:48:45 2018 -0400

    Merge pull request #670 from dwlehman/specfile-python3-conditional
    
    Fix python3 conditional in rpm spec file.

commit 44dc15f32bb94298c6c964ed30a6df5bf22b4050
Merge: 5100a58e 9dfe3cfa
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 20 15:35:59 2018 -0400

    Merge pull request #671 from AdamWill/md-no-wwn
    
    Don't use a 'wwn' kwarg for MDBiosRaidArrayDevice (#1557957)

commit 9dfe3cfa695f788716655e51915dfb4fa9d8fcd6
Author: Adam Williamson <awilliam@redhat.com>
Date:   Mon Mar 19 16:48:38 2018 -0700

    Don't use a 'wwn' kwarg for MDBiosRaidArrayDevice (#1557957)
    
    MDBiosRaidArrayDevice's parent class doesn't take a 'wwn' kwarg,
    so the populator for it shouldn't pass one.
    
    For more details, see comment 15 on the bug.
    
    Resolves: rhbz#1557957
    
    Signed-off-by: Adam Williamson <awilliam@redhat.com>

commit d4792dd0d2824eedbcf8cd8d28434ed8f6e938dc
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 13 14:46:32 2018 +0100

    Add 'nvdimm' tag for NVDIMM namespaces

commit 5100a58ee19fa2606e0791265b4d4ef25b51ecdc
Merge: d7d29e17 e106b99c
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 13 09:15:55 2018 +0100

    Merge pull request #666 from vojtechtrefny/3.0-devel_upstream-url-fix
    
    Fix upstream URL in spec

commit 243b84bb9629a09e77dcb9f8fb87414f5b679c33
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 12 14:09:45 2018 -0400

    Fix python3 conditional in rpm spec file.

commit d7d29e1711c87b928a9b830afd0afc7e1724f2e3
Merge: 52fe6504 39aa7041
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 12 10:58:32 2018 -0400

    Merge pull request #668 from dwlehman/udev-get-device-by-node
    
    Add option to get udev device by device node path

commit e106b99cfc35258b33923449cc8b1cb5190cb80f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 7 15:15:24 2018 +0100

    Fix upstream URL in spec
    
    Our old website is no longer working.

commit 39aa7041481f6e5cf954e67661f2cb55d43f9441
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 8 11:40:48 2018 -0500

    Allow device specification by node to udev.get_device. (#1524700)

commit 292298fbf343d8846ce37d168665b19a8871034a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 7 10:45:46 2018 +0100

    Do not try to update potfile during make all
    
    'update-po' target tries to create new potfile and it needs the
    translation-canary tool to do that and it isn't in the source
    tarball.

commit 69b9f4644721826c8695f47a58a1361ec2bd9d2e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 6 17:10:15 2018 +0100

    Use '-p1' when applying patches with autosetup
    
    Otherwise patches from git don't apply.

commit 21ca1754c8c2d36a8effe4a79c16abad212bf35e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 6 15:37:39 2018 +0100

    Remove dependency on pocketlint
    
    It is not needed during build. This was already removed on
    2.1-devel but not completely removed on 3.0-devel.

commit 52fe6504e6880eb980e13def220b53eb3bd4ead5
Merge: ecb2f5e4 4c58ccbd
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 6 11:37:10 2018 +0100

    Merge pull request #663 from poncovka/3.0-devel-s390_label_types
    
    Dasd is a valid label type on s390x (#1538550)

commit 4c58ccbd1aba4904d8d33ce5699b43bbaaffa9ec
Author: Vendula Poncova <vponcova@redhat.com>
Date:   Tue Feb 27 13:49:10 2018 +0100

    Dasd is a valid label type on s390x (#1538550)
    
    Add the dasd label type to the list of valid label types for s390x.
    This bug was introduced in the commit ebd43b6.
    
    Resolves: rhbz#1538550

commit 43c91ee34b2defe336e9653e15169243dd4b870f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Feb 27 16:10:12 2018 +0100

    Add test for NVDIMMNamespaceDevicePopulator

commit 5251f696f0bd8a68efde2df7c4dc948c4494ac60
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 7 15:00:25 2018 +0100

    Add populator helper for NVDIMM namespaces
    
    Helper for adding block-like NVDIMM namespaces to the devicetree.

commit 6ae475fb80cdf1dd7f527ed0b952c613a5825ec3
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 7 14:58:12 2018 +0100

    Add 'NVDIMMNamespaceDevice' device representing NVDIMM namespaces

commit a14bf252c554c026215a69851c8649f705edaa5d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 7 14:56:13 2018 +0100

    Add a function for identifying NVDIMM namespaces

commit 037d12cf3d137e08cbb8fa698a1a9c50d20228ea
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 7 14:54:40 2018 +0100

    Add a singleton for NVDIMM namespaces management
    
    This currently allows changing mode of the namespace and getting
    information about available namespaces.

commit ecb2f5e4a6fcd6dbbae632c32771f64b07199c96
Merge: 94c86715 65091a96
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 20 11:33:50 2018 -0500

    Merge pull request #657 from rvykydal/3.0-devel-fix-fcoe-for-image-installs
    
    fcoe: remove /etc/fcoe dir if it exists before copying configuration …

commit ce4a0b07d77c81c066e05c7585fa436cfc4007bf
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 7 14:35:26 2018 +0100

    Add NVDIMM plugin to list of requested plugins

commit 65091a96bfd92bd25bff1df08f811f906f52c0a2
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Tue Feb 6 10:05:30 2018 +0100

    fcoe: remove /etc/fcoe dir if it exists before copying configuration (#1542846)
    
    On image installation or live installation the configuration directory may
    already exist.  Remove it in this case before copying the configuration (same
    as we do for iscsi).

commit 94c8671524f04e4d8700a2c939f8b55e315d617d
Merge: d02f4790 60f8f89e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 9 11:32:23 2018 -0500

    Merge pull request #648 from dwlehman/py2-test-fixes
    
    Python2 test fixes (3.0-devel)

commit 60f8f89e284db0dd289215c45c6bdbc391e7c5d2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 14 13:14:26 2017 -0500

    Avoid UnitTest.subTest due to python2 incompatibility.

commit b64747723b7504ceeaed425063eb2eb4b91e8d38
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 13 14:22:51 2017 -0500

    Adapt action test mock imports for compatibility w/ python2 & python3.

commit 3651fb2195ce8d062c34d0b50b19217dd13174ea
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 13 14:17:23 2017 -0500

    Use explicit super() syntax in config actions for py2 compat.

commit d02f4790e82aec5e4ff34b4c624e19f767e2880c
Merge: f1fd0f97 26df74ba
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Dec 12 09:28:56 2017 +0100

    Merge pull request #646 from vojtechtrefny/3.0-devel_libblockdev-runtime-deps
    
    Use libblockdev runtime dependency checks

commit 26df74ba194d8c992cb9f05192b621a5e681c6dd
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Nov 30 13:30:46 2017 +0100

    Use libblockdev runtime dependency checks (#1501249)
    
    By default libblockdev will fail to load a plugin during its
    initialization if one (or more) of the plugin runtime dependencies
    is missing. For example if the "swaplabel" utility is missing,
    loading of the swap module will fail.
    This commit disables dependency checks during init -- in the same
    situation swap plugin will load and only calling "swap_set_label"
    would fail (because the utility it uses is missing).
    Specification of all required "technologies" and "modes" is added
    to the "tasks" module so checking for external tools availability
    still checks if libblockdev supports everything we need.

commit f1fd0f97b6c573ecc08d5c84a1bd24bc7fe0210b
Merge: dea07acd 984d6ba3
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Nov 10 16:13:24 2017 +0100

    Merge pull request #643 from yurchor/3.0-devel
    
    Fix minor typos

commit 984d6ba39d95c1f03e5b03e98931c573307b7005
Author: Yuri Chornoivan <yurchor@ukr.net>
Date:   Thu Nov 9 15:46:42 2017 +0200

    Fix minor typos

commit a6d31e56dde62c08139d40c7ec85f60566c9f270
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 8 23:05:59 2017 -0500

    Update release notes for 3.0.0.

commit 47cf097244bceb48bcb62949843b6652881a48a4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 8 22:44:39 2017 -0500

    New version: 3.0.0.b1

commit c5bb16220cfc65878a71c0d454b93268c19c91ff
Merge: dea07acd ee16c10d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 8 22:34:14 2017 -0500

    Merge remote-tracking branch 'origin/2.1-release' into 3.0-release

commit dea07acd68645027f803da849546d58d8697202d
Merge: 4c598259 f7b9553d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Nov 8 09:58:49 2017 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit f7b9553d51b0b3d677f4ee07e333a731efaab3c5
Merge: f376fb17 44bd6738
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Nov 8 09:58:47 2017 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit 4c598259e79329033f082819762eab1d67d4348d
Merge: 439fe5bb 6a9f746a
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 7 12:19:13 2017 -0500

    Merge pull request #623 from dwlehman/anaconda-consolidation
    
    Move anaconda-specific code to anaconda

commit 44bd6738a49cd15398dd151cc2653f175efccf14
Merge: ec0fba0f 94feb0f6
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Nov 7 17:49:55 2017 +0100

    Merge pull request #642 from vojtechtrefny/2.1-devel_test-lang
    
    Add some reasonable default value for LANG variable in size_test

commit 94feb0f641a44da3f9e9f2a087f2b7458ff0ef7b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Nov 6 15:15:46 2017 +0100

    Add some reasonable default value for LANG variable in size_test
    
    LANG variable is sometimes not set in our testing environment so
    we need to set some reasonable default value to make the cleanup
    work.

commit 439fe5bb2170a774b0424f088a16a52a0b88c07d
Merge: 0966e105 f376fb17
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Oct 18 13:28:38 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit f376fb175a0a4b389c8fdb4192174f973c27de94
Merge: 28e633dc ec0fba0f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Oct 18 13:28:36 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit ec0fba0f18cc1e383efb1c93ff8c1407e7db5bb9
Merge: 4247141b b4407b21
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Oct 18 13:27:12 2017 +0200

    Merge pull request #640 from vojtechtrefny/2.1-devel_fix-fsminsize-error
    
    Fix AttributeError in fsminsize (#1502587)

commit 6a9f746a89b1588281923b523f10ec50f692dac0
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 17 15:52:08 2017 -0400

    Remove ksdata from Blivet.

commit 28e633dc9b088f56536529297485532baa562c2f
Merge: 816be956 4c572538
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Oct 16 15:43:09 2017 -0400

    Merge pull request #624 from dwlehman/dbus-unstable
    
    Mark the DBus interface as unstable.

commit 4247141bf6b704d629dc06104e67add3950d9c0a
Merge: 67f58772 0b3d5cd6
Author: japokorn <japokorn@redhat.com>
Date:   Mon Oct 16 13:01:32 2017 +0200

    Merge pull request #638 from japokorn/2.1-devel_subsystem
    
    DM device subsystem is now obtained by libblockdev

commit b4407b21415f6ede2542ef044fdc5d45b5dd5c48
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Oct 16 12:57:44 2017 +0200

    Fix AttributeError in fsminsize (#1502587)

commit 9423a0dcf04fe792d16b02bfe5dd7ee34697a304
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 16 13:15:22 2017 -0400

    Remove Blivet.write_dasd_conf and now-unused Blivet.write.

commit 24900f0401fd5d6eda9a3245c179b4da27f0e97f
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 24 10:13:02 2017 -0400

    Move blivet.partspec into pyanaconda.

commit e45d15a8fa7769f9236ef08c5072756e7bfe0eda
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 19 15:45:20 2017 -0400

    Make uboot partition weight match analogs on other platforms.

commit e586a8e634fb2f6530eec604a7750185a831c356
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 29 16:00:51 2017 -0400

    Move some cmdline option checking into Flags.

commit 88241d0121594fb5c36bc3909bfd49262e363295
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 29 15:59:42 2017 -0400

    Move platform module into pyanaconda.

commit e63438b867c031776f63df0f12cfa355045a6324
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 29 15:58:41 2017 -0400

    Add and use new platform detection functions in arch.

commit ebd43b67aaeae8bd969c5ef9ba7280a03f8f4935
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 29 15:39:21 2017 -0400

    Move disklabel selection logic into DiskLabel.

commit e26a8df3b09b2f7e9bcae0aa8156bcddeb1e9c8d
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 29 15:49:57 2017 -0400

    Move new partition weight calculation into PartitionDevice.

commit 3862c36825d6831c85ea847f9a2a82dc506eac34
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 19 14:07:34 2017 -0400

    Move osinstall and autopart into pyanaconda.

commit c1fc62043bd4d4fe2f22927bc9d802cc8766e2f5
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 29 15:51:22 2017 -0400

    Move default thin pool space reservation into devices.lvm.

commit 0b3d5cd61821a285a7a07339f155d6cf21b83bfb
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Wed Oct 4 13:49:07 2017 +0200

    DM device subsystem is now obtained by libblockdev
    
    Changed way of obtaining DM device subsystem value
    Now libblockdev function is called instead of UUID parsing

commit 4c572538910364e0e6944c17e64700563191afbe
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Oct 9 11:22:59 2017 -0400

    Document DBus interface.

commit 98efb385eb1ce8e981e969c92145d68da9bf8337
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 16 18:28:08 2017 -0400

    Mark the DBus interface as unstable.

commit 0966e105a2895cbfb848ff3c859b48de3e08f764
Merge: 35bb7c26 816be956
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Oct 9 17:17:14 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 816be9568194d6d0ed2d4569b4845d779d324440
Merge: b0812258 67f58772
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Oct 9 17:17:12 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 67f587728ef47461e6e4445fbfe0035b66b2d107
Merge: 72a1c359 09090e0e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Oct 9 17:16:09 2017 +0200

    Merge pull request #637 from vojtechtrefny/2.1-devel_autopart-read-only
    
    Do not try to use protected disks for autopart

commit 35bb7c26c7b27b7be7eb0a3c07efc6067602757b
Merge: a40f7f84 c4492486
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Oct 9 10:17:49 2017 +0200

    Merge pull request #635 from vojtechtrefny/3.0-devel_fix-populator-test
    
    Use InstallerStorage in setupDiskImagesNonZeroSizeTestCase

commit 09090e0ef77a4e7f12ad23b4769da1c95504305d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Oct 5 10:55:24 2017 +0200

    Do not try to use protected disks for autopart

commit c4492486f9dcdc951b833060703663b66f000bfa
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Oct 4 08:35:13 2017 +0200

    Use InstallerStorage in setupDiskImagesNonZeroSizeTestCase
    
    "osinstall.storage_initialize" expects "osinstall.InstallerStorage"
    not "blivet.Blivet".

commit ee16c10d48724590aac5e0382ebc540195dc712d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Sep 19 10:28:14 2017 +0200

    New version 2.1.11

commit 2257f9fd34a5de8770c5c0cb3b59bce86fc089ce
Merge: 28e599ef 72a1c359
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Sep 19 10:22:50 2017 +0200

    Merge branch '2.1-devel' into 2.1-release

commit a40f7f84add4f22f182666a4f9055aeed295141a
Merge: 680bdae8 b0812258
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Sep 19 08:41:06 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit b0812258095e5020668c60863eaeca7134baa8b7
Merge: aa903fe7 72a1c359
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Sep 19 08:27:01 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit aa903fe79ca4244227ff3ad0aa39869aede201c4
Merge: 46809f23 6efd845b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Sep 19 08:16:45 2017 +0200

    Merge pull request #628 from vojtechtrefny/2.2-devel_fix-test-dependencies
    
    Use Ansible playbook to install test dependencies

commit 72a1c359c1a7944e9cde36e0b76be8b0a57e57a7
Merge: ca541ae0 7e325f0d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Sep 19 08:16:18 2017 +0200

    Merge pull request #633 from vojtechtrefny/2.1-devel_remove-pocketlint-dep
    
    Remove build requires for pocketlint

commit ca541ae0f0ced224298362236e00e62b84632b70
Merge: b5df0092 3ca2f74c
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Sep 19 08:16:03 2017 +0200

    Merge pull request #632 from vojtechtrefny/2.1-devel_edd-skip
    
    edd_test: don't run on non-x86

commit 7e325f0d2f95180c69472dec4210f2ac56fad136
Author: Robert Kuska <rkuska@redhat.com>
Date:   Wed Nov 4 09:40:46 2015 +0100

    Remove build requires for pocketlint
    
    Listing python3-pocketlint as a BuildRequires is
    redundant as it is not used during the rpm build.

commit 3ca2f74c3317080325db2835793fd49d2b7302a3
Author: Peter Jones <pjones@redhat.com>
Date:   Wed Nov 11 17:07:16 2015 -0500

    edd_test: don't run on non-x86
    
    Since this doesn't make any sense on non-x86 machines anyway, and
    apparently I've got some endian bugs in it (which don't really
    matter...), just don't run the edd tests on non-x86.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 680bdae8362c7544ac41e1dc928064b7ec42eedb
Merge: 121fee20 46809f23
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Sep 13 14:31:51 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 46809f232d4c6e719cd6ef8d5764b7cbc418a4f1
Merge: abfc3e30 b5df0092
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Sep 13 14:31:49 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit b5df0092ca1cf32d1370e9368a4eb58047cf61d8
Merge: 1ca59c2d 2352e048
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Sep 13 14:30:49 2017 +0200

    Merge pull request #627 from vpodzime/fs_pre_resize_check
    
    Do file system check before resize (#1484575)

commit 121fee208a076fd179ab2a964dcf4fb9f034e588
Merge: 4969353f 4afaf8d6
Author: japokorn <japokorn@redhat.com>
Date:   Wed Sep 13 10:07:29 2017 +0200

    Merge pull request #629 from japokorn/3.0-devel-ks_tags_3
    
    Clearpart test tag fixes

commit 4afaf8d6d8bb332d3e373e7d16d8e617f548ca72
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Sep 11 14:47:17 2017 +0200

    Clearpart test tag fixes
    
    fixed selinux test
    fixed clearpart test

commit 4969353fc1d1acc5450a698a3aff13e354109a6f
Merge: ade1835b 0e7f2eeb
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Sep 11 13:32:31 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 0e7f2eeb625660aefcb4d72fd3469737e857793b
Merge: 1b103262 1ca59c2d
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Sep 11 13:29:44 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 1b103262e00f26dad844cc2a26784b525cfede55
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Fri Aug 18 15:58:45 2017 +0200

    Added support for device tags
    
    added tags support for ks parameter 'ignoredisk'
    added tests for 'ignoredisk' tags
    added tags support for ks parameter 'clearpart'
    added tests for 'clearpart' tags

commit 1ca59c2dc3728028122d5219455fee6cb0996052
Merge: 1ace027d ed804ee4
Author: japokorn <japokorn@redhat.com>
Date:   Mon Sep 11 13:29:06 2017 +0200

    Merge pull request #619 from japokorn/2.1-devel_disabled_selinux
    
    Fixed behavior when selinux is disabled

commit ade1835b5c4bb92cac5c2e6cff99266e012cd2ab
Merge: d419f9c3 54f4d04c
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Sep 11 13:15:30 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 54f4d04c282d422b736fa921458f2e2cc25df57a
Merge: abfc3e30 1ace027d
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Sep 11 12:50:44 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 1ace027dcbff6e296e4b0c7429f31cdd6dd7e820
Merge: 96bd7674 f5e554f7
Author: japokorn <japokorn@redhat.com>
Date:   Mon Sep 11 12:49:59 2017 +0200

    Merge pull request #626 from japokorn/2.1-devel-ks_tags_2
    
    Added support for device tags

commit f5e554f7def622778954ed45f3cc8b6cf010c834
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Fri Aug 18 15:58:45 2017 +0200

    Added support for device tags
    
    added tags support for ks parameter 'ignoredisk'
    added tests for 'ignoredisk' tags
    added tags support for ks parameter 'clearpart'
    added tests for 'clearpart' tags

commit d419f9c36cf9a6760ee3f9c2039d3bcae3bf4816
Merge: 254db3fa abfc3e30
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Sep 7 15:11:45 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit abfc3e30f571d1b76256880c1cdb768f1981525e
Merge: 5186f139 96bd7674
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Sep 7 15:11:43 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 96bd76747886ce0669956ad901af2ec1a295a2df
Merge: fb06d20e b6eb1266
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Sep 7 15:10:30 2017 +0200

    Merge pull request #620 from rvykydal/2.1-devel-port-fcoemon-patches-from-rhel
    
    2.1 devel port fcoemon patches from rhel

commit b6eb12665467c4171d262d91ba3e9373790bc1fa
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Wed Mar 30 10:03:56 2016 +0200

    fcoe: don't use dcb for autoconnecting of bnx2x and bnx2fc (#1261703)
    
    Also use fcoemon instead of fipvlan for bnx2fc.
    
    Resolves: rhbz#1261703

commit 061150524c219203464f14ebadd578e0a22701e1
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Aug 3 16:09:16 2015 +0200

    fcoe: replace fipvlan with fcoemon (#1085325)
    
    Same as dracut (#1129888), we are moving to use fcoemon which provides more
    robust approach than fipvlan.
    
    Resolves: rhbz#1085325

commit 6efd845bc9dcac868bd1dccd5e610a2c23c8d190
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Aug 29 14:32:24 2017 +0200

    Use Ansible playbook to install test dependencies
    
    List of dependencies moved from Makefile to a ansible playbook.
    "install-requires" target now uses Ansible to install dependencies
    instead of yum/dnf.

commit 2352e048579738f9575d3ff0ddba11e5c3c94579
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 29 13:18:05 2017 +0200

    Do not use read-only mode for e2fsck
    
    Because resize2fs is stupid and even though 'e2fsck -f -n' says
    the file system is clean, it just reports the file system has to
    be cleaned with 'e2fsck -f'. However, without '-p' (automatically
    do safe repairs) 'e2fsck -f' asks user for confirmation and we
    need to run it in a non-interactive mode.
    
    Related: rhbz#1484575

commit ed804ee42753962ea4a103d175f4bf539af7f5d3
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Aug 29 13:27:47 2017 +0200

    Fixed behavior when selinux is disabled
    
    selinux flag is set to True for the duration of the test

commit 7c319a55978e78ed9deb7f179d713705fc6259b9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 29 11:13:01 2017 +0200

    Do file system check before resize (#1484575)
    
    Otherwise the resize usually fails.

commit 28e599ef48f4c2cce5d5c4f7a943b33dd3c6629d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 17 12:10:15 2017 +0200

    New version 2.1.10

commit c92e65f8eda88cf8416cff01cc987903e5d6fa56
Merge: 56a12782 fb06d20e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 17 11:20:51 2017 +0200

    Merge branch '2.1-devel' into 2.1-release

commit 254db3fa97dd734343fefc24f194605969589fbb
Merge: 5cde33ac 813965e7
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 17 10:56:09 2017 +0200

    Merge pull request #622 from vojtechtrefny/3.0-devel_teardown-cleanup
    
    Use addCleanup for VM tests too

commit 5cde33acae37f20dbde28b33e67924e82df81c03
Merge: 174c562d 5186f139
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 17 10:05:04 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel
    
    Conflicts:
            tests/devicetree_test.py
            tests/formats_test/selinux_test.py

commit 5186f139aa8c4cf0062fb302903eec8b1d6ec2a9
Merge: 39db82f2 fb06d20e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 17 09:59:20 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit fb06d20e347fb086f354cca2b1f7ebb530ebac88
Merge: 2f2600c2 79f8027b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 17 09:58:08 2017 +0200

    Merge pull request #621 from vojtechtrefny/2.1-devel_teardown-cleanup
    
    Use addCleanup for test cleanup instead of clening in tearDown

commit 813965e759efcce37bd776e1d46281621d2435c7
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Aug 16 09:02:28 2017 +0200

    Use addCleanup for VM tests too

commit 79f8027b100721d57205f1d6f457dc9851214e51
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Aug 15 14:13:34 2017 +0200

    Use addCleanup for test cleanup instead of clening in tearDown
    
    In some cases when a test crashes, the tearDown method is not
    executed, using addCleanup method fixes this.

commit 174c562d8ac4fa4c210efb6911f6196542cec77f
Merge: ddaf6fb7 39db82f2
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Wed Jul 26 09:52:00 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 39db82f20d8d4904c0c4dc8912e595177c59e091
Merge: 557a2aa6 2f2600c2
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Wed Jul 26 09:51:54 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 557a2aa69cf49d28c7f8e480204c422a71d55a91
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Jul 18 16:54:19 2017 +0200

    Skip tests when SELinux is disabled
    
    SELinux tests no longer fail when SeLinux is disabled.
    Instead they are skipped.

commit 2f2600c2ca77a475540f153f63f53eb2978ec6d7
Merge: 1e258f8e f9e26b20
Author: japokorn <japokorn@redhat.com>
Date:   Wed Jul 26 09:50:50 2017 +0200

    Merge pull request #617 from japokorn/2.1-devel_disabled_selinux
    
    No longer skip test w/o selinux; mocked

commit f9e26b2022431c230b4e4cf24df61d1a5814c41c
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Thu Jul 20 14:52:34 2017 +0200

    No longer skip test w/o selinux; mocked
    
    Rather than skiping the test, parts of it that need selinux were mocked

commit ddaf6fb738058462fb82bc7992e1671bb386188f
Merge: 7fb0c598 bd39ac79
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Wed Jul 19 11:54:52 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit bd39ac7951bd47067e2108a6cad8fe68e969bae3
Merge: e6333656 1e258f8e
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Wed Jul 19 10:19:57 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 1e258f8e599f5e5f499185a77d32850d3e93c941
Merge: 92f006ba 2368b839
Author: japokorn <japokorn@redhat.com>
Date:   Wed Jul 19 10:18:39 2017 +0200

    Merge pull request #616 from japokorn/2.1-devel_disabled_selinux
    
    Skip tests when SELinux is disabled

commit 2368b839753b8c14ae59d76945fbb2b18cefe272
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Jul 18 16:54:19 2017 +0200

    Skip tests when SELinux is disabled
    
    SELinux tests no longer fail when SeLinux is disabled.
    Instead they are skipped.

commit 7fb0c598dc86eabf055d63a53f8af20a517ee37b
Merge: 20f96f21 4a9471a3
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jul 18 15:58:50 2017 +0200

    Merge pull request #615 from vojtechtrefny/3.0-devel_python2-mount-cache
    
    Revert "Use libmount for MountsCache"

commit 20f96f21e8a00b4fb4ba2de4077dd7f2a4ff924d
Merge: 92f51d33 e6333656
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Jul 17 13:43:35 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel
    
    changed flag variable

commit e6333656b4530c1252fbf90191900206434042f0
Merge: dfe333ea 92f006ba
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Jul 17 13:30:52 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 92f006bae884b963c9876266f3cf2ca6c1cb116e
Merge: 52d4d2e0 849c9ab9
Author: japokorn <japokorn@redhat.com>
Date:   Mon Jul 17 13:26:48 2017 +0200

    Merge pull request #606 from japokorn/2.1-devel-mount_selinux_test
    
    New test for selinux context setting when mounting

commit 4a9471a3c53981f499df1138a9c4fbf2f16cf399
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jul 17 09:19:42 2017 +0200

    Revert "Use libmount for MountsCache"
    
    This reverts commit dc5da7db13e01aa9406e494ecf31247a2e7ed9de.

commit 849c9ab97e62ae1f547e49a59ffc007f57c77ee3
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Jun 13 10:49:37 2017 +0200

    New test for selinux context setting when mounting
    
    Added new test for checking correct function parameters
    when setting selinux context while mounting

commit 92f51d3346f1e8397f39fe4a8989e5e5175de21a
Merge: 1db6e8e2 dfe333ea
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jul 12 07:13:40 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit dfe333ea24f057187248ad0a030d51fb1c28f3b6
Merge: 828de800 52d4d2e0
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jul 12 07:13:38 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 52d4d2e0cfa4336671979d734c799ffe678222c6
Merge: 01d3c9fc 15af54cb
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jul 12 07:12:52 2017 +0200

    Merge pull request #612 from vojtechtrefny/2.1-devel_hawkeye-remove
    
    Do not use package version to check version of installed tools

commit 01d3c9fc6d2dedb866d865c16af2009ebaeef27f
Merge: 0fe46b35 53ca4755
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 10 15:01:46 2017 -0400

    Merge pull request #614 from dwlehman/platform-tests
    
    Add tests for disklabel type selection and partition weight.

commit 56a1278203dc3842a53686a9a0899f92af57f81a
Merge: 81271401 0fe46b35
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jul 10 10:41:34 2017 +0200

    Merge branch '2.1-devel' into 2.1-release

commit 53ca4755b2bb9dbe3bc0bcdc15e9b4d07a13952f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 29 16:34:50 2017 -0400

    Add tests for disklabel type selection and partition weight.

commit 1db6e8e2b856be64dde5950fad5851faae9bdc92
Merge: f8d4e519 828de800
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 7 14:06:09 2017 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit 828de80017841d2db41940284357600574d77be6
Merge: 7c41fd64 0fe46b35
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 7 14:01:55 2017 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit 0fe46b357af15378212de52e2ff6d5ad410271bc
Merge: e26e741c 6ca1382e
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Jul 6 09:54:48 2017 +0200

    Merge pull request #613 from vpodzime/new_url
    
    Update the upstream git URL

commit 15af54cbee985014b4f987b6422b5f51ba59eab6
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jul 4 10:45:57 2017 +0200

    Do not use package version to check version of installed tools
    
    Just run the tool with "--version" (or similar) option to get its
    version. Querying RPM database to get version of installed package
    makes blivet impossible to use on other distributions than Fedora.

commit 6ca1382e510d8de9fd6769790efd89b5aecd8f9d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jul 5 09:57:46 2017 +0200

    Update the upstream git URL
    
    blivet has been moved under the storaged-project organization at
    GitHub.
    
    Also update the URL of the project pages.

commit e26e741c63b0a81efecf4f0ced0a18255e41e9eb
Merge: 2b17377f d81ed9e8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 28 14:45:42 2017 -0400

    Merge pull request #611 from dwlehman/part-count-limits

commit d81ed9e8eb4eb861927276b1632ff1a49263fc20
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 21 15:36:42 2017 -0400

    Stop enforcing obsolete limits on partition count. (#1460668)

commit 2b17377f76ea94d5b58d11476e33c525ad810503
Merge: 1991f4b6 32ba44ed
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Jun 28 09:50:31 2017 +0200

    Merge pull request #526 from vpodzime/safe_e2fsck
    
    Change how we run e2fsck to check ext filesystems

commit 32ba44edfa5cd4424154396b877cd5ad75e8c999
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Nov 22 08:52:34 2016 +0100

    Do not run FS check as part of updating (re)size info
    
    If the FS tools tell us the minimum size of the file system we are supposed to
    (see rhbz#1170803) consider that an evidence of the file system being in a good
    enough shape to be resized.
    
    Resolves: rhbz#1170803

commit 7c41fd64ace85964e541630080c4d59b236120fe
Merge: 84c00f56 029131c7
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 27 09:32:04 2017 -0400

    Merge pull request #609 from dwlehman/log-method-call
    
    Only run log_method_call when flags.debug is set.

commit 84c00f56fda558e4940b9d8bb63ed7ec25c7268b
Merge: 0dd01824 9b92c47b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jun 20 12:58:33 2017 +0200

    Merge pull request #604 from vojtechtrefny/2.2-devel_python2-spec
    
    Adjust Makefile and spec file for Python 2 compatibility

commit 029131c74670e474cc195a974b7667e9e0c920f2
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 16 13:10:46 2017 -0400

    Only run log_method_call when flags.debug is set.

commit 1991f4b6f1f0ae884e6fc657e9bc6e991bdbe6fb
Merge: 7e14f69b 34e0f56b
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Jun 15 09:04:40 2017 +0200

    Merge pull request #605 from vpodzime/thin_forward_ports
    
    Ports of thin provisioning related fixes on rhel7-branch

commit a43dc757eff7fe9417f72e25fc373d09439963de
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 18 14:01:49 2016 +0100

    Change how we run e2fsck to check ext filesystems
    
    The '-p' option means "Automatically repair ("preen") the file system.  This
    option will cause e2fsck to automatically fix any filesystem problems that can
    be safely fixed without human intervention." which is something we really
    shouldn't do as part of reset()/populate(). We should use '-n' instead "Open the
    filesystem read-only, and assume an answer of `no' to all questions." which
    guaranties no changes to be made on the file system.
    
    We might want to add the '-p' functionality back at some point, but it needs to
    be explicitly triggered by the user code (e.g. Anaconda). I think we need to add
    a 'clean' property and a 'repair' method to the formats.FS class so that users
    can see where the problem is (if any) and explicitly trigger a safe fixup
    attempt if they want to.
    
    Related: rhbz#1170803

commit 34e0f56b4a37129cd53d72f01e5b79c4f220bde7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jun 9 11:07:28 2017 +0200

    Round the recommended thpool metadata size to extents
    
    Otherwise LVM does it when creating the thin pool and we may end
    up with not enough space in the VG to create the data part of the
    pool (which happens afterwards).
    
    Resolves: rhbz#1456528
    
    (port of the commit 062360ce6498ee33b62a7ee6833e681d274522b4 from
    the rhel7-branch)

commit 09be928b62dc2a3c86cc5f9f78c55b0dd9e85faa
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 3 15:54:33 2017 +0200

    Respect thin pool's min size when setting its req_size
    
    When setting thin pool's size based on the sum of its thin LVs we
    need respect its minimum size. That can for example be its actual
    size if it already exists.
    
    Resolves: rhbz#1449963
    
    (Together with the recent changes for thin pool padding this also
    resolves rhbz#1435180.)
    
    (cherry picked from commit ba2ac50d8ea508fda639f207da87242d59e54a10)

commit 9b92c47b91dc014d707c2a268292c4a9078482cf
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jun 7 13:03:16 2017 +0200

    Adjust Makefile and spec file for Python 2 compatibility
    
    Allow building blivet with Python 2 and add a Python 2 subpackage.

commit 7e14f69b682d40758f91786fc7bfe7f4bf62d173
Merge: c14e6dfa 8b3e0a3c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 7 13:03:42 2017 -0400

    Merge pull request #597 from dwlehman/external-dep-tests
    
    external dependency tests

commit c14e6dfa4d2b07e14c2ea06dbbf8c98851fc48d0
Merge: 518e76ad 30d5180e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 7 13:03:02 2017 -0400

    Merge pull request #601 from dwlehman/missing-deps-fixes
    
    Fixes related to missing external deps

commit 30d5180ef1d821553862f20cc0b0f30d2327c230
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 1 13:57:11 2017 -0400

    Don't crash during populate when lvm plugin is missing.

commit f8d4e519f4158a679262c515ace77818626d2f84
Merge: c8d049e3 a2129a77
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Jun 6 11:22:24 2017 +0200

    Merge pull request #600 from M4rtinK/3.0-devel-rename_anaconda_log
    
    Adapt to anaconda_log rename

commit 0dd01824e543e0f88390ec9a9526bbce1be63981
Merge: 41c692a9 72a2e0ce
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 5 12:29:52 2017 -0400

    Merge pull request #587 from dwlehman/python2-blivet2
    
    python2 compatibility, part 1

commit a2129a77db6ec9b402afd02efa7d4fd82afbdfe3
Author: Martin Kolman <mkolman@redhat.com>
Date:   Fri Jun 2 13:57:34 2017 +0200

    Adapt to anaconda_log rename
    
    The anaconda_log module has been renamed to anaconda_logging
    in Anaconda 27.10-1.

commit c8d049e3d891401fd6c6c88bb3a7df09a6246839
Merge: 45234628 41c692a9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jun 2 10:49:35 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel
    
    Conflicts:
      blivet/__init__.py
      blivet/devicefactory.py

commit 41c692a94748f97d64f5dba117f2946f92b17f3e
Merge: a6d4faa9 518e76ad
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jun 2 10:44:07 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 518e76ad1d32671b05ed2640674aebecdbd87426
Merge: 6a7ec153 ef2bcefe
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Jun 2 10:43:39 2017 +0200

    Merge pull request #592 from vpodzime/lvm_factory_cleanups
    
    (LVM)Factory cleanups

commit ef2bcefed5725be693842bb887993ba56ce867ea
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 16 09:53:55 2017 +0200

    Actually add space for LUKS metadata when encrypting a VG
    
    LUKS metadata size is not the VG's extent size. We should use the
    correct value.

commit 19892b3d1b9e3d5e1f218085862c35f5b06c845c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 16 09:24:43 2017 +0200

    Only consider old and new device sizes when not growing to max
    
    If a container (VG) is requested to grow to its maximum size,
    there's no point in taking into account the size of the requested
    device and a potential old device when calculating the total
    space it needs. It will always be the maximum its parents (or
    available disks) allow.
    
    This simplifies the code quite a bit and it allows us to move it
    next to the other code dealing with the same case.
    
    Also, we can get rid of an obsolete misleading comment.

commit 8a3350286be72998f738ec8b3c6f2567cc0b6df7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 15 16:15:48 2017 +0200

    Do not reserve space for LVM metadata twice
    
    If we already have a VG in the LVMFactory, it can tell us how
    much LVM metadata space it will need. Only if we don't have a VG,
    we need to do the estimation on our own.

commit 6157a4376bd845c08869770198daf900118b1d09
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 15 15:40:32 2017 +0200

    Do not create a temporary list for sum()
    
    It can handle the generator expression/comprehension just fine.

commit 86f598684f8d0f99e5381bab84c868fc748f0a4e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 15 15:11:51 2017 +0200

    Refer to self.container as self.vg in the LVMFactory
    
    Because that's just what it really is. And it makes things like
    'self.container.pe_size' less confusing because no other thing
    than a VG has the 'pe_size' attribute. Of course all the code in
    the LVMFactory is specific to LVM where self.container is always
    a VG (or None). Even in the LVMThinPFactory for which it also
    makes things more explicit by mitigating the risk of confusing
    self.pool and self.container (because that factory actually has
    two containers).

commit 411f85629a8592312a2a311b2b5ac98a21cd4576
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 15 14:00:39 2017 +0200

    Add a couple of extra comments and docstrings to factories
    
    To make things clearer and easier to undestand without going back
    and forth in the long file.

commit cbaa8b5048f316a328dc632c4e5db0328dceefc7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 15 12:14:27 2017 +0200

    Use existing VG's PE size if available in LVMFactory
    
    It doesn't necessarily have to be the default.

commit 475970da0b03a920a59760417c2f176a603ed7d3
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 15 11:06:08 2017 +0200

    Add comments warning before a weird nomenclature in factories
    
    Child factories create parent devices. That can be quite
    confusing so we better add comments warning developers about this
    fact.

commit 72a2e0ce042b47570b4d130a49560554953aa719
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 1 16:15:00 2017 -0400

    Followup for custom six move for mock.

commit 20a9950b25408e2074b9547df475101d42a952c2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 1 13:56:40 2017 -0400

    Don't let device state block modification of the model.

commit 2436bf34d0dbfc3dbb2e04e482559e187da4adc9
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 1 13:55:59 2017 -0400

    Fix error message for format create w/ missing external dep.

commit 812714012d70518e5fddb4c6520199294eb66242
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jun 1 15:55:12 2017 +0200

    New version 2.1.9

commit 46cffa5f8d3d916f566c45303e36a1eb4c7da9b5
Merge: 24b80810 6a7ec153
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jun 1 15:50:47 2017 +0200

    Merge branch '2.1-devel' into 2.1-release

commit 6a7ec1536c72b7fbf83e3f8c923f2f7d3a63f5fc
Merge: 752eadeb c367d62a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jun 1 15:46:51 2017 +0200

    Merge pull request #598 from M4rtinK/2.1-devel-adapt_to_logging_changes
    
    Adapt to logging module name change

commit c367d62a516e541ad28636c8259321f1c53417ce
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed May 31 17:52:49 2017 +0200

    Adapt to logging module name change
    
    The anaconda_log module has been renamed to anaconda_logging,
    so change the name of the imported module accordingly.

commit 5c356f9c93f7fea74d710c60bf85e89f86d8a8ce
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 23 13:20:21 2017 -0400

    Silence pylint with regard to custom six move of mock.

commit 4c2a31f7f8b0ce5448e7b79c3d510e507c955df4
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 14:36:54 2017 -0400

    Allow overriding PYTHONPATH when running unit tests.

commit 44479aac7214e0c438e15499f480c95d7578b8d1
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 14:36:09 2017 -0400

    Supply some missing patches during device name tests.

commit cd6429c5ad018ca9ec5d25f30a1cd8182a7fdda2
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 14:23:56 2017 -0400

    Allow time for event handling in unit tests.

commit 51e43baa895f016cfaeb83fbcaa05db65883997f
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 14:30:43 2017 -0400

    python2: Don't try to call unbound method w/ wrong class type.

commit c31729f589ad5828909bc0337e45da8577b4a36a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 14:22:29 2017 -0400

    python2: threading compatibility.

commit 32e040d1a86763be0033ed4edab653c7652b5754
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 14:21:04 2017 -0400

    python2: compatibility for wraps when used on methods.

commit c2e55c9dc7ab10e00877a275bdbb50b73e52687a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 14:18:43 2017 -0400

    python2: adapt to absence of inspect.signature.

commit b36a06a52a2c1b2a9945d6966492f61250a7ec1d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 14:15:20 2017 -0400

    python2: python2 has no unittest.assertLogs.

commit 03f86fa65fba722bb01f8b3220958322fa220b76
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 14:05:22 2017 -0400

    python2: Handle unittest.assertRaisesRegex rename.

commit 338db723867168811036040e7c6e7f35c05ef963
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 13:02:54 2017 -0400

    python2: Add a custom six move for mock.

commit 19faa5991e6b8036ab1083bc5ccf573b722e0e50
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 12:13:34 2017 -0400

    python2: EddEntry support for len() and indexing.

commit 6351d8fcb717dee201e7db81a0318e5fb42448da
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 10 14:24:10 2017 -0400

    python2: Don't use 'default' kwarg to 'min'

commit 88b930c74e7816084b95b612cc6b84bc099d3ae1
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 2 16:04:10 2017 -0400

    python2: Use six.wraps instead of functools.wraps.

commit 0429c8bd93d94109db1b255dd10a70a61fda32c1
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 2 15:51:11 2017 -0400

    python2: Use six.raise_from for chained exceptions.

commit b1231420daa8ad05d62a74a743a2af40e0dcb5bc
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 2 15:19:36 2017 -0400

    python2: Use six.next for iterator advancement.

commit 28a7638997adecf3aeadfe7d4f924a9fe55ece0b
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 2 15:06:14 2017 -0400

    python2: Explicit args to super function.

commit aba96271c1e0184ed6a6778c31c3d2712d6fb45f
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 2 14:28:02 2017 -0400

    python2: Explicitly declare new-style classes.

commit 0067a1838820d06ed5b84cec94a9718e6d083fb1
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 2 14:15:42 2017 -0400

    python2: Use six.add_metaclass instead of metaclass kwarg.

commit bea93e80850b4f611592e3ab739fd853746215ae
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 12 12:12:50 2017 -0400

    Catch AttributeError if pyanaconda is missing in populator_test.

commit 4d24f7b9f8b7df6a18de072783beaed4b27d49bc
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 10 14:23:09 2017 -0400

    Use relative imports in blivet.dbus.blivet.

commit 8b3e0a3ce507e4b19db89929cae0ac31a9cea753
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 24 14:24:20 2017 -0400

    Expand coverage of devices_test.dependencies_test a bit.

commit 4523462803de19be6272d69e06c99f139f0ba593
Merge: a8bec6f4 a6d4faa9
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Thu May 25 10:12:37 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit a6d4faa9b609fabfb5e23857b0c5d8f53a8d383b
Merge: 0c29bc59 752eadeb
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Wed May 24 14:54:32 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 1e76d40322b5b42c87d6e53f43c6ffb5ea139e78
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 24 14:23:43 2017 -0400

    Account for external dep availabilty in StorageDevice.controllable.

commit 6a03b93fc5dd61f8a2fa2799f115f7f96053c864
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 24 14:21:09 2017 -0400

    Add the appropriate external dependency to LUKSDevice.

commit 752eadeb24fe17100ad1841e3a4d673bb6d93416
Merge: 861f4ff2 a09c3f86
Author: japokorn <japokorn@redhat.com>
Date:   Wed May 24 14:35:44 2017 +0200

    Merge pull request #585 from japokorn/2.1-devel-udev_log_spam_2
    
    Updated calls to avoid log spamming

commit a8bec6f417b8f4b4727f68bf27c9e42800de88be
Merge: 58bd164c 26a4d61d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 23 09:08:41 2017 +0200

    Merge pull request #591 from vojtechtrefny/3.0-devel_merge-fix
    
    Use "flags.keep_empty_ext_partitions" instead of "installer_mode"

commit 58bd164ca67e1c8cc2bf0460d22fdba612315b25
Merge: f4d01425 8aaab4b8
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 23 08:59:44 2017 +0200

    Merge pull request #595 from vojtechtrefny/3.0-devel_pylint-fixes
    
    pylint: disable pylint warning for InstallerStorage.get_free_space

commit f4d014259eece0cf9f719f38c7a2fa4de106f9b1
Merge: edf7b3a9 0c29bc59
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 23 08:54:20 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 0c29bc59454e89689e95c790255ab3aa3a1ce795
Merge: a4aed6fe a2d68b11
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 23 08:53:21 2017 +0200

    Merge pull request #594 from vojtechtrefny/2.2-devel_pylint-fixes
    
    pylint: ignore some pylint warnings in tests

commit a09c3f8698dd93c7caa21cd904d8edad8f57b84a
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Thu May 11 13:09:26 2017 +0200

    Updated calls to avoid log spamming
    
    Fix of excessive deprecation warnings in the logs.
    
    Due to nature of deprecation warnings origin (e.g. __getitem__ or
    __iter__ methods) it was almost impossible to find and fix all of its
    sources. Instead the Device class was substituted with its 'properties'
    attribute which directly fixes the problem.
    Couple of other minor changes was neccessary, though.

commit edf7b3a9aab9651e1faa06fcbf6946e27d758603
Merge: 9a8299f2 a4aed6fe
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 18 13:30:53 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit a4aed6fe1d80d275e4f12c711ad3f31ac3f506e3
Merge: e62bf03b 861f4ff2
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 18 13:30:49 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 8aaab4b8b27a70d199f4a731b9615a81d483aa34
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 18 12:58:50 2017 +0200

    pylint: disable pylint warning for InstallerStorage.get_free_space

commit a2d68b11f5b25e2881b561825c78d34dd39e41e1
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 18 11:21:11 2017 +0200

    pylint: ignore some pylint warnings in tests

commit 861f4ff2b2df93ddc2e8282b3cc20f2a3c041f1e
Merge: 783e2c98 54ccd918
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 18 10:48:52 2017 +0200

    Merge pull request #590 from vojtechtrefny/2.1-devel_docs-update-script
    
    Add a script for generating and pushing updated documentation

commit 54ccd918274fc962cbc62229bd574cd8bc1acb3d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon May 15 11:18:08 2017 +0200

    Add a script for generating and pushing updated documentation
    
    This will automatically generate new documentation from given
    branch and push it to the github pages branch.

commit 9a8299f235ddf9c0c7328caf77179efde67de82a
Merge: ee3fd0f8 e62bf03b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu May 18 09:46:39 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit e62bf03b5933cbcae542c704023c837193561461
Merge: f319dd96 783e2c98
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu May 18 09:44:49 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 783e2c98fb326b7fec8a0272d66dad7def08c335
Merge: 6582b1bd b714a45e
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu May 18 09:42:23 2017 +0200

    Merge pull request #593 from vojtechtrefny/2.1-devel_pylint-fixes
    
    Various pylint fixes

commit b714a45ed21064222212cc198b907416520f4f03
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 11:16:46 2017 +0200

    pylint: ignore some false positive warnings in blivet.py and lvm.py

commit f477e5319d0141afd6ffd95c7be241edf77af27b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 11:16:03 2017 +0200

    pylint: remove unused false positives from pocketlint config

commit cc4eb8f9b44026e2f5c1d00ce936afc3e763d930
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 10:07:25 2017 +0200

    pylint: disable false positive "not-context-manager" for threading.Lock

commit 60218a7d9cff3b1020b2beb16e6b05b6b36450cd
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 09:56:31 2017 +0200

    pylint: ignore "arguments-differ" warnings in blivet.size.Size
    
    Argument names are actually different from bytesize.Size but the
    "old" names are part of blivet API so we need to keep them.

commit 1f238144aba53a5393fb8b584409d939a28cc5f9
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 09:52:17 2017 +0200

    pylint: fix various "arguments-differ" warnings

commit 3f23052a143a98a3d89878b139f4cea939e018b3
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 09:46:05 2017 +0200

    pylint: remove init from platform.X86
    
    It was only calling super().__init__ and pylint complains about
    it ("useless-super-delegation").

commit bc90efc6e733aa9963c4270fd35fc0dfde8849e8
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon May 15 17:17:35 2017 +0200

    pylint: fix various errors in tests

commit 04f3712e2ceba508e896c4d6ed18d36e6bf3dc14
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon May 15 16:55:52 2017 +0200

    pylint: ignore "arguments-differ" warning for "do_tasks" method
    
    This actually isn't a false positive because "do_tasks" really
    changes the number of arguments when overriding the abstract
    method but it would be necessary to change huge piece of the
    tasks code to fix this. So just mark this as false positive
    and fix it when (and if) replacing/removing the tasks.

commit b6ed7ae638b711a9d0f81242dd0b5c8e38686f46
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon May 15 16:54:23 2017 +0200

    pylint: fix false positive for "catching-non-exception"
    
    Pocketlint uses error description when catching false positives
    and it has changed.

commit 1cb4a425f68b45840ffcb9cae21829ebb214c18f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon May 15 16:50:23 2017 +0200

    pylint: fix argument name for Device._remove_parent/_add_parent
    
    Pylint doesn't like different keyword arguments ("parent" X "member")
    so use "parent" everywhere to make it happy.

commit 26a4d61d66d98a60d0455fd88bc7a657caf25e65
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 09:29:07 2017 +0200

    Use "flags.keep_empty_ext_partitions" instead of "installer_mode"
    
    "installer_mode" flag no longer exists on 3.0-devel.

commit ee3fd0f8893d2eeb033f9f2a35e1ae57cf40e87a
Merge: c8410d46 f319dd96
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 08:33:06 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel
    
    Conflicts:
            blivet/partitioning.py

commit f319dd9691731bdd5766b2a59503102b2056c263
Merge: c7572614 6582b1bd
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 08:29:36 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 6582b1bdac1978829e1f24c284fa325875fcf982
Merge: 85dc5cbb fc8e7d74
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue May 16 08:24:08 2017 +0200

    Merge pull request #586 from vpodzime/xfs_uuid_reset_mount
    
    Always mount & unmount an XFS file system when writing new UUID

commit 85dc5cbb7fcb53572fd69abecda2802120a454d2
Merge: 0764281e ca404db6
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue May 16 08:19:18 2017 +0200

    Merge pull request #576 from M4rtinK/2.1-devel-use_structured_logging_for_anaconda
    
    Use structured logging for the anaconda logger

commit 0764281e2d3eab6f730f8143110f5894cc238b6f
Merge: 72c92a38 27b7fff1
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 08:19:08 2017 +0200

    Merge pull request #584 from vojtechtrefny/2.1-devel_fix-removing-extended
    
    Do not remove manually created extended partitions (#1440150)

commit 72c92a38d923e7964b09c135007eaf8dd7e63b6a
Merge: a1365102 23f9d4c4
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 16 08:18:17 2017 +0200

    Merge pull request #581 from vojtechtrefny/2.1-devel_fix-chunksize-ks
    
    Add RAID chunk size to the generated kickstart file

commit fc8e7d74a484fd05b5f121efc52261770dfe72c8
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri May 12 15:46:31 2017 +0200

    Always mount & unmount an XFS file system when writing new UUID
    
    This is needed when the file system is not clean (e.g. if it was
    created as a snapshot of some other mounted file system) which is
    quite a common case. And since 'xfs_admin' exits with code 0 even
    when it fails to set the UUID [1], we cannot do a second/fallback
    try. The first one has to have the best chance to succeed, hence
    this patch.
    
    [1] https://bugzilla.redhat.com/show_bug.cgi?id=1450423

commit c8410d469cdde35d0f66e6e4c1d4b47c7cf7ba81
Merge: 527aea9c c7572614
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 9 11:13:18 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit c7572614d25dcfcf3d94ecdcf49e3b2163caff9f
Merge: 8e4faa3e a1365102
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 9 11:13:17 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit a1365102690510b7df46b1e69c4497786879e7a8
Merge: 1bbbcec4 7ef50d3b
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri May 5 09:05:42 2017 +0200

    Merge pull request #583 from vpodzime/fw_raid_fix
    
    Look the disk up for a partition by name not sys_name

commit 27b7fff16348fc983b84e3380868d769b3425e09
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 4 13:35:27 2017 +0200

    Do not remove manually created extended partitions (#1440150)
    
    In installer mode do not try to remove empty extended partitions
    created by blivet-gui. We should remove the extended partition
    only if the PartitionDevice doesn't exist or if we previously
    deleted all the logical partitions.

commit 7ef50d3b7061353838e44c8dc202eb5f6b012f40
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu May 4 13:03:06 2017 +0200

    Look the disk up for a partition by name not sys_name
    
    udev.device_get_partition_disk() returns the device name as given
    by device_get_name() not sys_name. So when trying to find a match
    we need to compare it to the same value for devices we iterate
    over.
    
    Also don't call resolve_devspec() on the returned value,
    udev.device_get_partition_disk() is already doing it.
    
    Resolves: rhbz#1445302

commit 23f9d4c468a0d87ae0ed367f08fbb1006e508678
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed May 3 14:24:56 2017 +0200

    Disable pylint "no-member" warnings for re module constants
    
    This is a false positive and new version of pylint/atroid fixing
    this is not yet in Fedora.

commit 06838ef020f3dd54674dfdc02f49f0785f0e9213
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 16 15:04:32 2016 +0100

    Allow custom chunk size specification for MDRaidArrayDevice

commit 94102c2199c2e04dc80277a3a4e998c610fb479d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed May 3 10:05:13 2017 +0200

    Add RAID chunk size to the generated kickstart file

commit 8e4faa3e0288746c18862c9e5335f038d5194b81
Merge: 40c5c799 2e3910b2
Author: David Lehman <dlehman@redhat.com>
Date:   Mon May 1 11:43:04 2017 -0400

    Merge pull request #571 from dwlehman/wwn-attr
    
    Add a WWN attribute to disk-like device classes.

commit 527aea9ca60d9a30707a77c7d69080f51e8452b4
Merge: a3b0dbfd 40c5c799
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 28 16:21:29 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel
    
    Conflicts:
        blivet/devices/lvm.py

commit 40c5c799fb16b40ae292c1286cb7a4a11cf18e53
Merge: b88a9bcc 1bbbcec4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 28 16:18:45 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 1bbbcec449367426b452718b0b01017685b145c0
Merge: b6d2655e bb2d4ffa
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Apr 27 11:13:39 2017 +0200

    Merge pull request #573 from vpodzime/thin_snapshot_fixes
    
    Fixes for thin snapshot creation

commit ca404db665eb2db9215393ac3718371a1aa8d0b8
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Apr 26 14:19:15 2017 +0200

    Use structured logging for the anaconda logger
    
    Otherwise all Blivet log messages in the Anaconda log messages
    would have the "misc" prefix.
    With "anaconda.blivet.autopart" the prefix will be "blivet.autopart".

commit a3b0dbfd46623e3266cf53ae99d0f0a91841b464
Merge: d3f58764 b88a9bcc
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Apr 24 11:03:04 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit b88a9bcc11f399f1d89ec56c7a5803b3db72e2e0
Merge: 3b055040 b6d2655e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Apr 24 11:03:03 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit b6d2655e0402406524d7f743dad9569d7b327df9
Merge: 79d88f7f ec73c8c7
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Apr 24 10:50:00 2017 +0200

    Merge pull request #575 from vpodzime/use_find_executable
    
    Use distutils.spawn.find_executable instead of our custom code

commit ec73c8c721dcd183681a508d53c5c053ce37761e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 21 11:16:45 2017 +0200

    Use distutils.spawn.find_executable instead of our custom code
    
    It is the same except that it doesn't raise an exception if the
    executable is not found. Which we, however, don't need.

commit 24b80810da8968f55454f1c3176f1a2a2402ade7
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Apr 19 10:33:05 2017 +0200

    New version 2.1.8

commit e59d201d7bdc272b71b1a3c318d7910622a9be50
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Apr 19 10:31:21 2017 +0200

    Update changelog in spec

commit 06cb6305ea09c038538f693bd62d021a2abb3e91
Merge: 5d5b45e7 79d88f7f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Apr 19 09:11:05 2017 +0200

    Merge branch '2.1-devel' into 2.1-release

commit d3f58764332dcb55b3c357acc76de68ba0c2dd43
Merge: be689f85 3b055040
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Apr 19 09:10:15 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 3b055040d9ff4484b2fc87724f114222fd92b27a
Merge: e87ac4ff 79d88f7f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Apr 19 09:10:13 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 79d88f7f359059e1d4dc3c003169c7d6726244d9
Merge: 14aa66d5 d1d3d5ab
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Apr 19 09:09:04 2017 +0200

    Merge pull request #574 from vojtechtrefny/2.1-devel_sas-syfs-parsing
    
    Fix "unknown" SAS device sysfs parsing.

commit 2e3910b25e94f9de54d666ca1b24bbe4d8163b98
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 24 17:26:03 2017 -0400

    Add a WWN attr to all disk device classes.
    
    self.wwn will either be None or the WWN string as reported by udev.

commit d1d3d5ab42c6c0c5786af63ec641ce1757a07646
Author: Adam Williamson <adamw@fedoraproject.org>
Date:   Fri Nov 11 12:36:12 2016 -0500

    Fix "unknown" SAS device sysfs parsing.
    
    Since the regexp matches the device type as well as the identifying
    numbers, we need to pull the numbers from match groups 2 and 3, not 1
    and 2.
    
    Resolves: rhbz#1394026
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit bb2d4ffaf65942fcdcdc112cb685c757defa400d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 12 14:41:50 2017 +0200

    Add a method to reset file system's UUID
    
    This is needed e.g. when a snapshot of a block device with a FS
    is created to prevent collisions. To make user code simpler let's
    provide this shortcut method that basically just generates a new
    UUID and then sets/writes it doing some checking, recovery, etc.

commit ca9a8135b76ad0e50922b27e5db1f1cf7069f328
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 12 14:23:43 2017 +0200

    Try to mount and unmount an XFS FS when writing UUID
    
    xfs_admin refuses to change the UUID of an unclean FS.
    Unfortunately, this is quite a common case for file systems
    created as part of creating a snaphot of the underlying block
    device if it's mounted at the time of the snapshot
    creation. Fortunately, the solution is as simple as just mounting
    and unmounting the file system because that cleans it up.

commit 337a82ea5e114666165240f9fdeda4651ad0d25c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 12 12:59:15 2017 +0200

    Add a method for a file system to generate a new UUID
    
    So that the user code can get one in advance for a non-existing
    FS and use it in other places.

commit 315dfe8bdf3fd1ff16b5e0638d23c743ca58234c
Author: aszlig <aszlig@redmoonstudios.org>
Date:   Sat Jan 14 23:31:13 2017 +0100

    tests/fsuuid: Implement checking invalid UUIDs
    
    So far we only have tested valid UUIDs properly, while we had a test
    using invalid UUIDs the test was more or less a no-op, because during
    creation no error is thrown if we use an invalid UUID.
    
    Rather than throwing an error the create() method logs a warning, which
    we now verify using assertLogs test_set_invalid_uuid().
    
    Signed-off-by: aszlig <aszlig@redmoonstudios.org>

commit 562750c9fc5c64bc4a5a773c617b3a713e1b10e6
Author: aszlig <aszlig@redmoonstudios.org>
Date:   Sat Jan 14 23:23:10 2017 +0100

    formats/swap: Support setting UUID
    
    This is quite similar to what we have for file systems, but doesn't rely
    on the fsuuid/fswriteuuid tasks except for the _check_rfc4122_uuid()
    method from fsuuid.
    
    Other than that the implementation is the same.
    
    We can't assign the UUID for a swap file system at a later point, so we
    only implement this during creation.
    
    Signed-off-by: aszlig <aszlig@redmoonstudios.org>

commit 7d1bc0a37765875f3e21aaf96c100e3e4b63395f
Author: aszlig <aszlig@redmoonstudios.org>
Date:   Sat Jan 14 21:05:57 2017 +0100

    tests: Add a series of tests for setting UUIDs
    
    While we already had pure tests for just verifying whether an UUID is
    correct, let's now add the impure stuff that actually uses the various
    file system tools to write the UUIDs for real.
    
    Note that the fsuuid.py file does not use the same scheme than
    fslabeling.py, even though it might look similar.
    
    For UUIDs we assume here, that we can _always_ assign a new UUID after
    the file system has been created. Of course, this is not yet true for
    HFS+, because I haven't yet found a way to set the UUID afterwards.
    
    So the distinction between SetUUIDWithMkFs and SetUUIDAfterMkFs is that
    with the former we assume that the mkfs utility has a way to set the
    UUID, even though we have a _post_create() method that sets the UUID if
    that's not the case.
    
    Signed-off-by: aszlig <aszlig@redmoonstudios.org>
    Edited-by: Vratislav Podzimek <vpodzime@redhat.com>

commit cd8ba6255d918c8b8cf3dde267237fcf49e35d22
Author: aszlig <aszlig@redmoonstudios.org>
Date:   Sat Jan 14 18:58:48 2017 +0100

    tests: Add tests to check the UUID format checkers
    
    These are the more simple tests, because they only rely on pure
    functions. We're only possing a range of invalid and valid UUIDs and
    assert that the checkers (uuid_format_ok) return correctly.
    
    Signed-off-by: aszlig <aszlig@redmoonstudios.org>

commit c91bd1cb59d7840902302be38c56e2414abc7a97
Author: aszlig <aszlig@redmoonstudios.org>
Date:   Sat Jan 14 18:49:01 2017 +0100

    tasks: Implement setting UUID after FS creation
    
    Some file systems don't have utilities for setting the UUID during
    creation, so we need to fall back to doing it afterwards in
    _post_create().
    
    This introduces mlabel (for FAT) and tune2fs (for ext2/3/4) as new
    applications required in tasks/availability.
    
    The "mlabel" tool is required to set serials for FAT file systems,
    because dosfstools seems to only allow setting the volume ID during
    creation and doesn't have a command to change it for existing file
    systems.
    
    "fatlabel" only can set labels, but not UUIDs but "mlabel" can.
    
    Unfortunately, I haven't found a way to set HFS+ UUIDs after creation
    using the hfsprogs package, so I'm omitting HFS+ here for now.
    
    Signed-off-by: aszlig <aszlig@redmoonstudios.org>
    Edited-by: Vratislav Podzimek <vpodzime@redhat.com>

commit d91c95e25d6909eb6d3ffa542a64483e80476e5d
Author: aszlig <aszlig@redmoonstudios.org>
Date:   Fri Jan 13 11:09:57 2017 +0100

    formats/fs: Implement setting UUID during mkfs
    
    We already have a uuid keyword argument, which might get passed if the
    format already exists, but if it exists on a new format, we can safely
    assume that the user wants the format to have a specific UUID and we use
    that instead of letting the mkfs utility generate a random UUID.
    
    The implementation for _create() deviates a bit from the scheme we had
    with labels so far, where we have a labeling() method which returns True
    if we can set a label either during or after the creation of a file
    system.
    
    In our case we now have a can_assign_uuid(), which *only* returns True
    if we can assign an UUID during creation. We will have another method
    soon which checks whether we can assign an UUID *after* creation.
    
    Also, using a similar naming scheme to labeling(), we would have ended
    up with something like uuiding() or any other weird name. IMHO setting
    this to can_assign_uuid() also has the advantage that the name in itself
    is more descriptive about what this method does.
    
    Signed-off-by: aszlig <aszlig@redmoonstudios.org>
    Edited-by: Vratislav Podzimek <vpodzime@redhat.com>

commit 1711e5b6d4de00414c987336248944b36cce37a9
Author: aszlig <aszlig@redmoonstudios.org>
Date:   Fri Jan 13 06:08:47 2017 +0100

    formats/fs: Add functionality for checking UUIDs
    
    This is more or less modelled the same way as tasks.fslabeling,
    consisting of classes that currently only contain a method for verifying
    whether an UUID is correct for a given file system or not.
    
    I'm using _uuidfs within the FS class (and subclasses) even though it
    sounds a bit odd, mainly because it is consistent with _labelfs and also
    because it avoids clashes with future _uuid attributes.
    
    For the _check_rfc4122_uuid() class method, I'm using string processing
    rather than uuid.UUID(), because first of all uuid.UUID() is much more
    complicated and it also allows to omit the dashes while the file system
    utilities may not allow this.
    
    Signed-off-by: aszlig <aszlig@redmoonstudios.org>

commit 49f989ea09134f7c340d068c0a51ea7f7158bf2a
Author: aszlig <aszlig@redmoonstudios.org>
Date:   Fri Jan 13 04:32:08 2017 +0100

    tasks/fsmkfs: Add arguments for setting UUID
    
    These arguments are only relevant if we want to set a UUID during
    creation of file systems.
    
    Right now this doesn't implement any real functionality and only
    implements the interface and the options for various file systems.
    
    The reason I'm using get_uuid_args instead of just uuid_options is that
    for XFS, we need to use ["-m", "uuid=something"], so we don't have a
    single flag with a plain argument.
    
    Signed-off-by: aszlig <aszlig@redmoonstudios.org>

commit 22099c6576ccb8bc0e04575a70736be00fa11df6
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 11 20:30:25 2017 +0200

    Properly unset mountpoint of a snapshot's format
    
    It's _mountpoint and it should be None not "" because it is later
    checked as 'is not None'.
    
    (cherry picked from commit 2aa5f37d158048362ea8f3285d78f074860e4d04)

commit 7de333881b7142060b51138253bb68ab0c40917c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 11 20:21:53 2017 +0200

    Update snapshot's format's exists flag based on its origin
    
    The snapshot's format exists once the snapshot is created iff the
    origin's format exists. This applies to both thin and old
    snapshots.

commit be689f85d8d8bea9f945310917d9f59bf7172911
Merge: 3f9aa08a e87ac4ff
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 11 12:17:45 2017 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit e87ac4ffccc63892e13c484a4d1c3b925b80798c
Merge: 094bef3b 14aa66d5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 11 12:17:43 2017 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 14aa66d5d4af31399b4ec5388b00b0e1a20a5389
Merge: c1f79056 07a1d859
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Apr 11 12:16:34 2017 +0200

    Merge pull request #566 from vpodzime/vg_thpool_reserve
    
    Reserve space for thin pool in the VG not the thin pool itself

commit 3f9aa08ac6124bc8a4c6448c0bec7bb740be24e0
Merge: 2e8d7d1a 094bef3b
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 4 16:08:17 2017 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit 094bef3b5a465a0f3c5fc574537ef29ee06e3ed5
Merge: 1869ffc7 c1f79056
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 4 16:07:08 2017 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit 2e8d7d1a5036b394e87caa22359d8656fbfec5d1
Merge: b0032f91 c5e887f7
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 4 16:03:14 2017 -0400

    Merge pull request #568 from dwlehman/tests-as-root-3.0
    
    Fix unit tests that only run as root

commit c1f79056840efdbc85cd501bba23ef1ba7ba0e0b
Merge: f89a5567 a97e280a
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 4 16:02:20 2017 -0400

    Merge pull request #569 from dwlehman/tests-as-root-2.1
    
    Fix root-only unit tests on 2.1-devel

commit 07a1d859b8f5ac782e33fbc8cc3e98facce2a5e7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Apr 3 09:55:33 2017 +0200

    Reserve space in a VG when using LVMThinPFactory
    
    Instead of adding padding to thin pool. See commit 90bbe71ea for
    details.
    
    Also adapt the tests to match the new behaviour.
    
    Related: rhbz#1131247

commit 6326c2845f11392fdd278afa964464dd006abe9a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 29 11:36:44 2017 +0200

    Reserve space in a VG instead of padding thin pools on autopart
    
    Padding thin pools brings many complications and issues. For
    example, what should we do with existing thin pools? What if
    somebody really wants to create a thin pool of size not leaving
    enough space for the padding in the VG? And more.
    
    Nevertheless, we want to leave some space in the VG if doing
    thinp auto partitioning because that's a good practice. However,
    we already have an existing mechanism for that -- the VG can
    reserve some space in itself (the size or percentage of which can
    even be defined by user). So let's just extend and use this
    mechanism to make sure there's some free space in the VG left for
    the thin pool to grow when doing autopartitioning. If users give
    us all the numbers, we should just do as they say, they probably
    know what they are doing.
    
    Related: rhbz#1131247

commit a97e280adfb6601bc8c0d50ba5b949f7e44b85ea
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 3 15:11:19 2017 -0400

    Focus the nonzero disk image size test a bit.

commit 8a4115da1075460e3d1ca324d9094a56c9755c5f
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 3 14:48:13 2017 -0400

    Add missing tearDown method to luks resize test case.

commit eaaa11c631646268fbbf8e009975354cb5daa49a
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 3 14:24:30 2017 -0400

    Fix some flag stomping in tests.

commit c5e887f77ca577b9b24b77d97bc0a69deb94ed7d
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 3 13:13:47 2017 -0400

    Fix flag access in selinux test.

commit 5d5b45e7fcd4984f8164b1d415b161b252dc14d4
Merge: 22aabbbf f89a5567
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 28 12:36:44 2017 +0200

    Merge branch '2.1-devel' into 2.1-release

commit f89a5567a5e54e584357f74fd97532da6202f4ac
Merge: f990299e db2709c8
Author: Vendula Poncova <vponcova@redhat.com>
Date:   Thu Mar 23 14:31:03 2017 +0100

    Merge pull request #552 from poncovka/2.1-devel-fba
    
    FBA DASD should use the msdos disk label type

commit 1869ffc74b0a9de7ca3cad5cb3ef420259af2588
Merge: bc0786bc a7960d03
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 22 15:04:57 2017 -0400

    Merge pull request #564 from dwlehman/lsm-2.2
    
    Use libstoragemgmt to present HBA RAID info for disks

commit a7960d03a9b68c1e3ccddb6588a92df32eaa2c24
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 10 16:07:28 2017 -0500

    Collect HW RAID info before populating devicetree.

commit f63478973158f2f6698fb69ae68c3a481c02e0b0
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 10 16:06:36 2017 -0500

    Add HW RAID properties to DiskDevice.

commit c829dac0c509d183685f0b6ec09a689aa0bbdc62
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 22 15:30:32 2017 -0500

    Add a devicelibs module for disks.
    
    This uses lsm (libstoragemgmt-python) to gather basic information
    about "disks" that are actually HW RAID volumes.

commit 086be5aecfdff465fb8229bc97bba6cbe58e83ef
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 10 15:11:57 2017 -0500

    Add 'jbod' as an alias for 'linear' RAID level.

commit b17fa314552e69a7713790832b602810ceee67eb
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 8 15:35:39 2017 -0500

    Add some tests for DependencyGuard

commit db2709c873872a8bd80d1d07443900c456e83e3b
Author: Vendula Poncova <vponcova@redhat.com>
Date:   Thu Feb 23 10:07:38 2017 +0100

    Remove the useless method requiredDiskLabelType
    
    The method requiredDiskLabelType can be removed, because it is not
    needed anymore.
    
    (cherry picked from commit 876147e)

commit 41627e946cafc9341fd90c6713830aa67ebe28e7
Author: Vendula Poncova <vponcova@redhat.com>
Date:   Fri Feb 17 14:26:17 2017 +0100

    FBA DASD should use the msdos disk label type
    
    There can be created up to three partitions on FBA DASD with the msdos
    disk label type instead of only one, so we should prefer that.
    
    (cherry picked from commit aad5acf)

commit f990299ecc0dba75cf4a3d04c9efd09ed71680a1
Merge: 991fc7c3 23f4dfe7
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Mar 21 17:59:28 2017 +0100

    Merge pull request #562 from vpodzime/iscsi_dbus_no_udisks
    
    Be more careful when checking for udisks-iscsi availability

commit 991fc7c3d264cefa2f28b7fb2614d210312a91c0
Merge: 520e5a1e 1a69be5c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 21 11:54:40 2017 -0400

    Merge pull request #560 from dwlehman/no-resize-unformatted

commit 23f4dfe7161ef247dfa51ba7d3b2b76d3d9f9e3b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Mar 21 09:00:29 2017 +0100

    Be more careful when checking for udisks-iscsi availability
    
    If udisks (storaged) is not installed at all, we may get an error
    even when trying to find out if udisks (storaged) provides the
    iSCSI functionality via its Manager object.
    
    Resolves: rhbz#1429132

commit b0032f918c500292672375d5854ba577b750e6ee
Merge: 47d7688e bc0786bc
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Mar 17 12:04:54 2017 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit bc0786bc3c3745cd36847feca4ad7a6b90d28990
Merge: c737f08c 520e5a1e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Mar 17 12:04:52 2017 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit 520e5a1e2d8f0d1405b0373133e367184c570919
Merge: dc6d934a 7bce894d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Mar 17 12:04:07 2017 +0100

    Merge pull request #559 from vojtechtrefny/2.1-devel_fix-biosraid-ignoredisk
    
    Use all ancestors when adding RAID disks to exclusiveDisks

commit dc6d934a0c76468527adaa5d6ad2b7c13efedf50
Merge: 87ec500d 058591f7
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Mar 17 12:03:58 2017 +0100

    Merge pull request #556 from vojtechtrefny/2.1-devel_linear-raid-fix
    
    Fix detection of linear MD RAID

commit 1a69be5cb58fcc85c607dfeb87512a3158916e86
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 16 12:24:41 2017 -0400

    Do not allow resize of devices with no/unrecoginized formatting. (#1033778)

commit 05577e548243da75f8bcc861bf03febd3c63cd6a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 16 12:14:06 2017 -0400

    Clean up parent/child relations on partition ctor error. (#1383873)

commit 7bce894dd68e6229c382a0874373e98df6f056ee
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 14 12:58:27 2017 +0100

    Use all ancestors when adding RAID disks to exclusiveDisks
    
    For some BIOS RAIDs the hierarchy of devices looks like
    [sdb, sdc] -> imsm0 -> md126 (= Volume0_0) so when adding Volume0_0
    to exclusiveDisks we need to check for all ancestors, not only
    parents, to add the disks to exclusiveDisks.
    
    Resolves: rhbz#1327463
    
    Submitted-by: Masahiro Matsuya <mmatsuya@redhat.com>

commit 058591f7f738a4c74cb08219bfaa0f5a2548f0b0
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 14 09:31:00 2017 +0100

    Fix detection of linear MD RAID
    
    'Linear' RAID class was missing 'nick' property causing Anaconda
    to crash with an AttributeError on system with a linear MD RAID.
    This also fixes same issue for the Container, Single and Dup RAID
    levels.

commit 47d7688ee76800051dc70df92bceadfad5b5de01
Merge: d0ea40fa de07a065
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Mar 14 08:50:23 2017 +0100

    Merge pull request #553 from vpodzime/discard_new_flag
    
    Introduce the discard_new flag and use it

commit de07a0650c05f01d2da828e0323c627dd58d565c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Mar 13 09:19:41 2017 +0100

    Introduce the discard_new flag and use it
    
    Instead of the old non-specific 'installer_mode' flag we no
    longer have on 3.0-devel and master.

commit d0ea40facbf6461b9320126a2badec2950c42f32
Merge: 95a025bd c737f08c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Mar 13 08:39:59 2017 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit c737f08ce91ef883e10df3d02af2b383fd77f493
Merge: de72c9d5 87ec500d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Mar 13 08:39:57 2017 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit 87ec500d56cb1c93661de3a9659fb576e74ce0d1
Merge: b10dc60b e2bdc3ce
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Mar 13 08:39:06 2017 +0100

    Merge pull request #550 from vpodzime/luks_discard
    
    Add 'discard' option to crypttab for newly created LUKS

commit e2bdc3ce71e1ec6ab3dd8b3df5a54a78d5b3fd06
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Mar 2 13:37:07 2017 +0100

    Add 'discard' option to crypttab for newly created LUKS
    
    As has been suggested and approved in the Fedora 26 change
    https://fedoraproject.org//wiki/Changes/EnableTrimOnDmCrypt,
    crypttab entries for newly created LUKS devices/formats should
    use the 'discard' option by default.

commit 95a025bd3c2b2305b5d94f74c393ad8c00a84b5b
Merge: 57d13bf9 de72c9d5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Feb 28 13:18:10 2017 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit de72c9d5a8fd6ba1a163f2a7f9a94ecbc6c4bd86
Merge: ef8f54ff 8c3bac7a
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Feb 28 11:06:35 2017 +0100

    Merge pull request #548 from vpodzime/no_merge-pr
    
    Test fixes - pylint

commit 8c3bac7ad45e2dd6c26a4ef7b1168e5c8e6c9bd9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Feb 27 11:20:16 2017 +0100

    Use the 'C.UTF-8' locale instead of ''
    
    In some cases setlocale(LC_ALL, '') fails complaining about '' not being a valid
    locale. Just use the elementary locale using UTF-8 (now the default, btw)
    instead.

commit d79081a046b9d99cabe15fea0382c58678d16b57
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Feb 27 09:55:20 2017 +0100

    Add anaconda-core, libvirt and paramiko to TEST_DEPENDENCIES
    
    Otherwise things like pylint tests fail due to not being able to import stuff
    from pyanaconda, paramiko and libvirt.

commit f956caab9c44d70bab1e15c9dc10b2fa35ec7f71
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Feb 27 09:52:32 2017 +0100

    Get rid of the merge-pr script
    
    We are not using it, not sure if it even works. But it definitely causes issues
    with pylint for some reason that's not worth spending the effort to identify.

commit 57d13bf9b3585e17e71ec80264eb67a8f197609f
Merge: 976374c8 ef8f54ff
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Feb 21 12:17:43 2017 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit ef8f54ff2a20dc1d00f897d63103629eb3a532bd
Merge: 8f674aad b10dc60b
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Feb 21 10:06:45 2017 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit b10dc60be7a2a02b3e857c1c98dc1d8ae2bf6e37
Merge: 7109070c c3f93224
Author: japokorn <japokorn@redhat.com>
Date:   Tue Feb 21 10:04:27 2017 +0100

    Merge pull request #541 from japokorn/2.1-devel-ignore_detached_loops
    
    Loop devices w/o backing file are now ignored

commit c3f93224a871802c1a4e6866dc0b6c6ce700719a
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Fri Feb 3 12:17:42 2017 +0100

    Loop devices w/o backing file are now ignored
    
    Populator now correctly skips all detached loop devices (i.e. without backing file)

commit 7109070cc0b6d83675314e0449599c30abf6c75a
Merge: a0307167 5c2a9703
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Jan 26 10:10:10 2017 +0100

    Merge pull request #539 from vojtechtrefny/2.1-devel_efifs-bootable
    
    Set parted boot flag when creating EFI filesystem

commit a03071674bc3239a35f5ac70b3136c383360d767
Merge: a70d756d 1f620ab9
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Jan 26 10:09:56 2017 +0100

    Merge pull request #536 from aszlig/ntfs-formattable
    
    formats/fs: Set NTFS to be formattable

commit 5c2a970380ae245ce6581ca83b502b2d6bf7bef5
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jan 24 14:24:50 2017 +0100

    Set parted boot flag when creating EFI filesystem
    
    Thanks to this parted will set the partition type (GUID) to "EFI
    System Partition".

commit 1f620ab90481135f64c594642a65780383c6050d
Author: aszlig <aszlig@redmoonstudios.org>
Date:   Sat Jan 14 23:47:37 2017 +0100

    formats/fs: Set NTFS to be formattable
    
    During running the test suite I found that while MKNTFS_APP is
    available, the tests for NTFS are skipped because it's not marked to be
    formattable.
    
    Signed-off-by: aszlig <aszlig@redmoonstudios.org>

commit 976374c8932cceba7eb82ce21cdd3cfd80f70660
Merge: 835b0c4a 8f674aad
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jan 12 10:21:08 2017 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit 8f674aad384ee2d7e7af69eba1506ca752fe9151
Merge: 09d90eb6 a70d756d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jan 12 10:19:08 2017 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit a70d756d1d53d8623f8aa05a828c29f785680267
Merge: 9af64f06 df69e6ce
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jan 12 10:18:21 2017 +0100

    Merge pull request #532 from vojtechtrefny/2.1-devel_fix-fstests
    
    Few test-related fixes

commit 835b0c4a40eff25fd56fde5090d00bc0f7c276f7
Merge: 2fa33c47 09d90eb6
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jan 4 08:52:29 2017 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit 09d90eb67e655e47d3153deae62f35db5fd8e805
Merge: 8c8bbb22 9af64f06
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jan 4 08:52:27 2017 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit 9af64f06ceb326519260f1c46ab1fd70c2b2adcb
Merge: 7ff73fee 67d36789
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jan 4 08:51:46 2017 +0100

    Merge pull request #530 from AdamWill/dont-pickle-alignment
    
    Shallow copy another alignment property (#1408282)

commit df69e6ce760df62b56a2d46d1891aff638a21440
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jan 2 15:23:15 2017 +0100

    Do not try to search for 'tmpfs' devices in udev database
    
    There is no "real" tmpfs device, so we can't find it using udev.

commit 1101460899ba08f65bedff22e7d08a6df1f1015b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jan 2 15:20:43 2017 +0100

    Fix resize test in fstesting
    
    Resizing raises DeviceFormatError, not FSError (changed in
    298984306e6e56f43444f73eed075db54dd0a057).

commit 5ce95c061a340d14addb88914b08e3be64b62248
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jan 2 15:20:07 2017 +0100

    Fix task availability test

commit 67d36789c8ff88b4ba14da7022f63b6831d75da3
Author: Adam Williamson <awilliam@redhat.com>
Date:   Thu Dec 22 15:09:47 2016 -0800

    Shallow copy another alignment property (#1408282)
    
    Several blivet classes use custom __deepcopy__ methods to avoid
    deep copying some parted objects which we know can't be deep
    copied. Unfortunately the list of attributes excepted from deep
    copying for `DiskLabel` was missing one parted Alignment object,
    and with Python 3.6, we blow up trying to deepcopy that. This
    fixes the problem by adding that attribute to the list of ones
    we know have to be shallow copied.

commit 2fa33c47726e4195af6d97e5483a0dd0c51addf0
Merge: 43012734 8c8bbb22
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Dec 15 16:20:07 2016 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit 8c8bbb2240af2a2b13823e8389c5c9c4d8255174
Merge: a7bf592a 7ff73fee
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Dec 15 16:19:37 2016 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit 7ff73fee824943390860c3838765e10116cdb520
Merge: 3c52f0df dadd83b9
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Dec 15 10:18:44 2016 -0500

    Merge pull request #529 from vpodzime/fixed_test_deps
    
    Fix the test dependencies

commit dadd83b9c3703b86c63a1288ad9abd5508a449a7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Dec 15 15:35:42 2016 +0100

    Fix the test dependencies
    
    We no longer require all the python2 packages, python3-kickstart is a hard
    requirement now, cryptsetup is no longer used by blivet directly and we need the
    anaconda-core stuff for pylint. Plus we need the zanata client to pull
    translations and run the canary tests on them.
    
    The file system utilities should all be just test dependencies because blivet
    itself works without any of them.

commit 430127346e954f2e1948ae5d51875fa2130f5dd4
Merge: 6c18938e a7bf592a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Dec 5 13:37:36 2016 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit a7bf592a22bef1e2f3525d9c366b9d3bef285192
Merge: 8bbc008d 3c52f0df
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Dec 5 13:33:25 2016 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit 3c52f0df4ad66df394472bf66899e47521a37986
Merge: 58d94fb2 b5700754
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Dec 5 13:32:44 2016 +0100

    Merge pull request #527 from vojtechtrefny/2.1-devel_udev-dep
    
    Add 'systemd-udev' to dependencies (#1392591)

commit b57007546d3b312c5f6d9598c9d6a9677456726c
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Nov 21 14:43:22 2016 +0100

    Add 'systemd-udev' to dependencies (#1392591)
    
    systemd-udev provides 'udevadm' command.

commit 22aabbbfb727a84a1d0e6db9b0c874332e387a86
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 21 11:35:13 2016 +0100

    New version 2.1.7

commit 68d726e069eae2e4d71cb15244ba1c3090fb41c3
Merge: 462c7256 58d94fb2
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 21 11:07:26 2016 +0100

    Merge branch '2.1-devel' into 2.1-release

commit 6c18938e124030546e0812a7432284f62ffe4f62
Merge: 52ca2e74 8bbc008d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 21 10:27:09 2016 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit 8bbc008de188294befd5d1d3f0373ae03dee2846
Merge: e5aeb42c 58d94fb2
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 21 10:27:08 2016 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit 58d94fb280c81f1ffa8b42af8c57d5b509ac9726
Merge: 78637f16 778ca840
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Nov 21 10:10:29 2016 +0100

    Merge pull request #525 from vpodzime/require_libblockdev_2.0
    
    Require BlockDev 2.0 in the gi.require_version() call

commit 778ca84050289f4a4c27857d923d6e3aea4919fc
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 18 08:32:31 2016 +0100

    Require BlockDev 2.0 in the gi.require_version() call
    
    We now have libblockdev-2.0. Unfortunately, the useless function
    gi.require_version() is stupid and doesn't support anything like ">= 1.0", which
    is what we really need. So unless we want to add more useless code trying both
    "1.0" and "2.0", we are doomed to fail on systems that have libblockdev-1.x
    installed even if that's just fine for us. To prevent this let's also bump the
    requires in the spec file.
    
    Resolves: rhbz#1395791

commit 52ca2e7407f08a179e75dbb5ef944704a9879b3d
Merge: a413b33f e5aeb42c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 14 17:29:05 2016 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit e5aeb42c24884b0f1c397d7ba55d1b252227ba7f
Merge: 965b49d2 78637f16
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 14 17:29:03 2016 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit 78637f161e415b4470abba08664f2955f7a19812
Merge: 23c0f3c3 d08d99df
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Nov 14 14:38:33 2016 +0100

    Merge pull request #523 from AdamWill/macefi-detect
    
    Fix detection of 'macefi' partitions (#1393846)

commit d08d99dfb766e539b9e0074643ab3bc940d6fcee
Author: Adam Williamson <awilliam@redhat.com>
Date:   Thu Nov 10 11:34:24 2016 -0800

    Fix detection of 'macefi' partitions (#1393846)
    
    368a4db6 lost a crucial condition in the detection of 'macefi'
    partitions in the transition to the 'populator helper' design.
    Previously we checked that the parted partition 'name' (which
    is a GPT property, for GPT partitions) matched the expected
    value according to the macefi format, which basically means we
    will only detect partitions created by a previous anaconda run
    as 'macefi' (because that name is a very specific one which is
    only created by anaconda in the first place).
    
    In the transition, that condition was lost, and now we treat
    any device with an HFS+ filesystem that's over 50MiB in size
    as a 'macefi' device, which means we mount it at /boot/efi and
    try to write all kinds of stuff to it. Not surprisingly, this
    borks the install. Fortunately, HFS+ filesystems are mounted
    read-only unless they have journalling disabled, so this won't
    result in us messing up people's OS X partitions with any luck.

commit a413b33f05365da9b117aad43e24ad3bf223c68b
Merge: 9593d526 965b49d2
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Nov 8 08:42:45 2016 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit 965b49d21ff5d3aa8c59117e620ce5706bf0123e
Merge: e9c8cd38 23c0f3c3
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Nov 8 08:42:43 2016 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit 23c0f3c3e848d4dfa09fe7bffff45e878c82e3c8
Merge: c2c385f5 61d665a4
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Nov 8 08:41:05 2016 +0100

    Merge pull request #521 from vpodzime/lvm_on_raid
    
    Add device symlinks to the PVs dictionary for MD RAID PVs (#1389130)

commit 61d665a4537517b03615876366b16fa63bc05add
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Nov 3 12:53:03 2016 +0100

    Add device symlinks to the PVs dictionary for MD RAID PVs (#1389130)
    
    Otherwise if the symlink is used to search for the PV info, it's not found and
    everything on that PV is ignored which leads e.g. to issues when removing the PV
    (as described in the bug) and others.

commit 9593d526ca928ea57cc30f8ac946f6ab2db7716a
Merge: 555a12cc e9c8cd38
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Nov 1 09:10:09 2016 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit e9c8cd38e78e45f181fb7bb02d09a46c25d3d3fa
Merge: be6550fa c2c385f5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Nov 1 09:05:19 2016 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit c2c385f5bb6e44a4533ff3d5ba15700323e4f489
Merge: 5e49a6ea 6de8efbe
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Nov 1 09:03:51 2016 +0100

    Merge branch '2.0-devel' into 2.1-devel

commit 5e49a6ea3c5bef6e9d39351f8ef49199abd64f5a
Merge: 5c6d314f f3d3ede5
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Nov 1 08:59:44 2016 +0100

    Merge pull request #520 from AdamWill/initiator-set
    
    iSCSI: set `iscsi.initiator_set` when setting initiator

commit 5c6d314f405c8e73a079f642b5387f10f9cb1ed0
Merge: 7054b4ce 4bd93ca3
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Nov 1 08:44:35 2016 +0100

    Merge pull request #445 from vpodzime/cached_mpath_members
    
    Cache and reuse data about multipath members

commit f3d3ede557fb9aa0c205f8fc3bd7d1f97f96ca5f
Author: Adam Williamson <awilliam@redhat.com>
Date:   Thu Oct 27 15:17:29 2016 -0700

    iSCSI: turn `iscsi.initiator_set` into a property
    
    The iSCSI class has an `initiator_set` attribute whose meaning
    feels a bit slippery these days. It has always been set to
    True in `__init__()` if iBFT is active, right after we get the
    initiator name from the firmware. Prior to 9280eff7, it was
    also set true by `startup()` after it wrote out INITIATOR_FILE.
    In 9280eff7, that was removed, without any kind of replacement.
    Now `initiator_set` will never be True unless iBFT is being
    used.
    
    This is a problem because `iscsi.write()` checks if it's True,
    and immediately bails if it isn't. The result of this is that
    when you do an iSCSI install with anaconda, the contents of
    `/var/lib/iscsi` from the installer environment are no longer
    copied in the installed system.
    
    vpodzime asked for this fix: making it into a property which
    returns True if `self._initiator` is set, otherwise False.
    I used `== ""` as the test because that's what we use in other
    places, though in my own code I'd normally just use
    `if self._initiator:`.
    
    Note that `if iscsi.initiator_set:` and `if iscsi.initiator:`
    are not quite equivalent, as the `initiator` property will try
    and read the initiator name from storaged if `self._initiator`
    is not set, but `initiator_set` will not. This best matches
    the previous behaviour, but I'm not sure if all of this makes
    any logical sense when considered from scratch.

commit 7054b4ce791c54f36bdca532617590ed8955771d
Merge: ead3e006 6a305be1
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Nov 1 08:31:25 2016 +0100

    Merge pull request #518 from AdamWill/fix-iscsi
    
    Fix iscsi problems: type of arg passed to storaged, store auth info when logging in with it

commit 6de8efbe486c30afd05880f5408bae3097f230d7
Merge: 8e2b2c12 2422814f
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Nov 1 08:30:48 2016 +0100

    Merge pull request #513 from dwlehman/reduce-setup-teardown-cycles
    
    Remove several redundant recursive teardown calls.

commit 8e2b2c12d532bbf1e4e2bb3ce8435d62efb75dc0
Merge: ae12e481 2769d5c1
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Nov 1 08:30:35 2016 +0100

    Merge pull request #509 from dwlehman/lvmetad
    
    Remove some obsolete pvscan calls.

commit 6a305be118cd827004ea1b8842413b22e43c1729
Author: Adam Williamson <awilliam@redhat.com>
Date:   Wed Oct 26 20:42:53 2016 -0700

    iSCSI: Store auth info in NodeInfo tuples
    
    This seems to have been overlooked in 9280eff7 . When we were
    using libiscsi, the `node` objects were `PyIscsiNode` instances
    (I think), with `getAuth` and `setAuth` methods that let you
    read and set the authentication information for the node. We
    used `getAuth` in `iScsiDiskDevice.dracut_setup_args()` to
    include the auth information in the `netroot` arg. anaconda
    also expects the `node` attribute of an `iScsiDiskDevice`
    instance to be a `PyIscsiNode` and calls its `getAuth` method
    to populate the kickstart data for the node.
    
    When we ditched libiscsi and turned the `node` objects into
    `NodeInfo` namedtuples, this was missed and not handled at all.
    Both blivet and anaconda are still trying to call methods that
    these node objects just don't have any more. The blivet call
    was changed from `getAuth()` to `get_auth()` in 4e8f941b , but
    apparently whoever did that didn't notice that neither method
    exists at all for these objects any more...
    
    Here's my attempt to fix this: basically, just stuff the auth
    information into the `NodeInfo` instances when we log in. I
    thought of several different ways to do this, but I think in
    the end it always has to boil down to storing the auth details
    on the node object when we log in, so let's just go with the
    obvious way. We could mimic the `getAuth` and `setAuth` methods
    pretty easily for 'compatibility', but it doesn't seem worth
    it, we'd probably still be missing other bits of the interface.

commit 5cee7751ba05d57c6285976751855b2b1f27adce
Author: Adam Williamson <awilliam@redhat.com>
Date:   Wed Oct 26 16:17:46 2016 -0700

    Use correct type for port in GVariant tuple
    
    The type is `(sqa{sv})`, where `q` (according to the docs) is
    "an unsigned 16 bit integer", so this should be an int, not a
    string.

commit 555a12cc1472b8eede1e65478c2169e0e8bb62f5
Merge: 6e8d12f7 be6550fa
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Oct 31 09:25:18 2016 +0100

    Merge branch '2.2-devel' into 3.0-devel

commit be6550fa40538759dd7d202243ba34dd2dd24cde
Merge: ef8fa023 ead3e006
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Oct 31 09:25:17 2016 +0100

    Merge branch '2.1-devel' into 2.2-devel

commit ead3e006daf714559fade7d7f3f9b2e7bbd17e28
Merge: 61f62468 ee6e106a
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Oct 31 09:24:24 2016 +0100

    Merge pull request #519 from AdamWill/nodeinfo-comp
    
    Use a list comprehension for _to_node_infos

commit ee6e106a9e044f0ef246ec08c003fe99040129d9
Author: Adam Williamson <awilliam@redhat.com>
Date:   Thu Oct 27 09:27:52 2016 -0700

    Use a list comprehension for _to_node_infos
    
    List comprehensions make the world a better place. At this point
    the method is so trivial we could probably ditch it entirely,
    but meh.

commit 6e8d12f7d950303bf86ba3ac96cbd98598e6bc12
Merge: f5574662 a24569a8
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Oct 17 09:25:35 2016 +0200

    Merge pull request #517 from vojtechtrefny/3.0-devel_vmtester-factory-fix
    
    Adjust vmtest to new DeviceFactory constructor API

commit f55746623f14f81e41f5fff5f8a31307a748043c
Merge: 312b2d42 ef8fa023
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Fri Oct 14 14:09:08 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit ef8fa02318af8b0426ea32d7dfd2e067be2a30ad
Merge: fd5ddd2d 61f62468
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Fri Oct 14 14:09:05 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 61f62468284cae552f78daecefc00a0521a16351
Merge: eb42c83a ae12e481
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Fri Oct 14 14:09:02 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit ae12e481a9a2c209c5de81dcdcbe856c124ba982
Merge: 51564681 a950e95d
Author: japokorn <japokorn@redhat.com>
Date:   Fri Oct 14 14:07:25 2016 +0200

    Merge pull request #516 from japokorn/2.0-devel_device_name
    
    Device name now checked only for new devices

commit a950e95db6ac206adec7f666ddfbf22100934244
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Oct 11 14:51:04 2016 +0200

    Device name now checked only for new devices
    
    Device name check moved from Device to StorageDevice. Now is the name checked only when
    device does not exist.
    
    Added tests to check this behavior.

commit a24569a86eba79ef3bb4bbe10e078f16f5d7879a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Oct 14 11:57:17 2016 +0200

    Adjust vmtest to new DeviceFactory constructor API

commit 312b2d426c1cb2d878b68be6cd529200b36c4f28
Merge: 581b0487 fd5ddd2d
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 13 14:10:12 2016 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit fd5ddd2dab34d283c602436a1c717ee80a1aa07c
Merge: dd8fb519 eb42c83a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 13 14:06:07 2016 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit 581b0487073da68938fa181f8da53d5308344001
Merge: 1952625f 49a688e4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 12 09:43:48 2016 -0400

    Merge pull request #515 from dwlehman/devicefactory-args
    
    DeviceFactory constructor argument cleanup

commit 49a688e4bb64e5fe8e3c3507ef20b61a0e83cd73
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 5 15:15:06 2016 -0400

    Obtain factory defaults from passed-in device, if there is one.
    
    This saves callers from having to fully specify the factory settings
    when supplying a device to reconfigure.

commit 469bea3d23de499fe1047efaf3f972784655756e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 5 15:12:15 2016 -0400

    Use **kwargs for device factory ctor.
    
    This allows us to only override defaults for arguments the caller
    actually specified. The next commit will add the ability to set
    defaults based on passed-in device, which makes use of this ability.

commit 180dd56023d5068190db2bff265a89df5f3b9474
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 5 15:04:39 2016 -0400

    Use a property to adjust factory size based on encrypted bool.

commit 462c725642ab92464a587c1329578d597ce473a0
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 4 14:06:11 2016 -0400

    New version: 2.1.6

commit 18b21928c2d8242d3c1c2d205cdefec8b0b55afa
Merge: 3425d52c eb42c83a
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 4 14:03:35 2016 -0400

    Merge branch '2.1-devel' into 2.1-release

commit eb42c83ac260a52a50888eecaed8202f96963725
Merge: d6211495 51564681
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 4 14:02:15 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit 51564681410be8560822284fe078e4f870cb4892
Merge: 69968125 417e08b8
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 4 14:01:23 2016 -0400

    Merge pull request #514 from AdamWill/missing-populators
    
    add missing populators to populator.helpers

commit 417e08b882d25c34a88c51aae4ae190359797fbe
Author: Adam Williamson <awilliam@redhat.com>
Date:   Mon Oct 3 23:12:14 2016 -0700

    add missing populators to populator.helpers
    
    several populators were not imported by populator.helpers, which
    means we'd never use them even for devices that should use
    them. This should help fix detection of existing firmware RAID
    devices...and existing iSCSI devices, existing FCoE devices,
    existing DASD devices, existing ZFCP devices, and existing
    multipath filesystems...

commit 2422814fa35980922df9d498c602093fa709575c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 27 10:26:17 2016 -0400

    Remove several redundant teardown calls.

commit 3425d52c56b4728e306f8e53549ac75a5443617c
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 26 13:57:06 2016 -0400

    New version: 2.1.5

commit 78632e732d78947ff87439960f358068eccf282e
Merge: 9761b84c d6211495
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 26 13:48:15 2016 -0400

    Merge branch '2.1-devel' into 2.1-release

commit d62114953b044de7202bfa6ba50ff49fd76aa9c9
Merge: 0f467e1a 69968125
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 26 13:47:02 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit 69968125f4a6f1e215c3ae9d6430175ee82fd335
Merge: ee20f64c d7117ca4
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 26 13:46:14 2016 -0400

    Merge pull request #512 from dwlehman/parted-guid-fallout

commit d7117ca49775f65119935dc5584ed0435745b257
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 22 11:51:36 2016 -0400

    Move parted changes to after format destroy. (#1378162)
    
    Also change self.device.disk.original_format instead of
    self.device.disk.format. It makes me wonder if there will be cases
    where not changing the new/current format will caused problems.
    (based on whether or not a new disklabel will be created)

commit ee20f64c1798cbd04a802d46264e69d5c94afd20
Merge: 11bfcc76 a59973ef
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Sep 21 10:41:59 2016 +0200

    Merge pull request #503 from vojtechtrefny/3.0-devel_l10n-comment
    
    Add translators comment for unsupported disklabel names

commit 9761b84c0d54b651a7a18c7b29a96f438e06074a
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 20 13:51:56 2016 -0400

    New version: 2.1.4

commit c90815470c2b93428043d3b715bee7692adaecc2
Merge: 930cc29d 0f467e1a
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 20 13:47:03 2016 -0400

    Merge branch '2.1-devel' into 2.1-release

commit 0f467e1a5e43886f085f722434c5ef03768aaa82
Merge: e6cb330d 11bfcc76
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 20 13:45:21 2016 -0400

    Merge remote-tracking branch 'origin/2.0-devel' into 2.1-devel

commit 11bfcc7603b56d7a89413d6e6580471c70db76a9
Merge: b76f3bce 90b6effd
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 20 13:43:10 2016 -0400

    Merge pull request #511 from dwlehman/parted-system-revert

commit 1952625f137d36393ff80dd528df83fb2de082bf
Merge: 146fe4ee c728de6b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Sep 20 14:49:11 2016 +0200

    Merge pull request #502 from vojtechtrefny/3.0-devel_libvirt-auth
    
    Functional testing: Add support for libvirt authentication

commit c728de6bc04de9749c6721c4d6497d76df7739cf
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Sep 7 12:42:03 2016 +0200

    Functional testing: Add support for libvirt authentication

commit 146fe4ee8c4105519765bb8410509e1fa5dff7c3
Merge: c2c97637 dd8fb519
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Sep 20 08:15:31 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit dd8fb519c2679be8a1d308c6134efcce6519356e
Merge: f3f837bd e6cb330d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Sep 20 08:15:26 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit e6cb330d3e1964d0bb6699674b4a2e900bc354db
Merge: a94f6aca 48f452aa
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Sep 20 08:14:59 2016 +0200

    Merge pull request #510 from vpodzime/iscsi_params_fix
    
    Make sure we create a proper GVariant tuple as args (#1375712)

commit 90b6effdb04fb65e6273ce66e4508c0c75745e48
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 19 10:38:16 2016 -0400

    Revert unsupported clearing of parted partition 'system'.

commit 48f452aa7d0fab1b9ac6df2c09d8caf105f2e1db
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Sep 19 10:55:42 2016 +0200

    Make sure we create a proper GVariant tuple as args (#1375712)
    
    The arguments have to be a single GVariant of type tuple and thus we need to
    pass a python tuple as the value for it.

commit 4bd93ca377c11ef92dfaed701e494938402b0e03
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 23 10:56:13 2016 +0200

    Cache and reuse data about multipath members
    
    With the new function provided by libblockdev we can easily get the list of
    multipath member devices once and then query it instead of querying every device
    whether it is an mpath member or not.

commit 2769d5c1d5382df2d6dd4819e93903745de9e84b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 7 15:32:30 2016 -0400

    Remove some obsolete pvscan calls.
    
    These should not be needed now that both blivet and lvm have improved
    handling around stale metadata. The pvcreate and wipefs calls should
    trigger (asynchronous, udev-initiated) pvscan jobs as needed.

commit b76f3bce37249e52b020a44ee9104dc71989be9b
Merge: 214c42f9 6db6f1bc
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 14 15:19:52 2016 -0400

    Merge pull request #506 from dwlehman/forward-ports-20160913

commit 214c42f9beaa47a041cfb8cee78524290138b807
Merge: 98becf20 71c50592
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 14 15:19:24 2016 -0400

    Merge pull request #505 from dwlehman/lv-activate-fail

commit f3f837bd25c2374403c130270e10646f3c3cb67f
Merge: 2190bad3 a94f6aca
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 14 12:15:51 2016 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit 930cc29d73c908821bc1196de1b9ded269b29ff9
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 14 12:03:25 2016 -0400

    New version: 2.1.3

commit d1b0240c534a01f3080822baaeed5ed7f72a3a85
Merge: 27602a52 a94f6aca
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 14 10:43:38 2016 -0400

    Merge branch '2.1-devel' into 2.1-release

commit a94f6acabff1bd5a9a55156aae7dbc453bf9b6dc
Merge: dd3f562b 98becf20
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 14 10:42:58 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit 98becf20dc2a29dbeecd02173a63d9bb8cbac6b7
Merge: 4cdae956 a77ba70d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 14 10:21:42 2016 -0400

    Merge pull request #507 from dwlehman/2.0-packaging-tweaks

commit a77ba70dc50d169a55913048ae664e326e6c6731
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 27 16:47:14 2016 -0400

    Remove some deprecated/obsolete bits from spec file.

commit 0c08b177791ace63719dfd05c49cbc2b1d951387
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 29 15:20:48 2016 -0400

    Use %global instead of %define for specfile macros.

commit b1b35131505405f17be8a2bb4a73f3fba1771d97
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 20 17:50:24 2016 -0400

    Fix URLs pointing to blivet resources.

commit 6db6f1bc4817cad21a55604f3568c57a17cea8bb
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 6 12:04:43 2016 -0400

    Do not include both size and percent in logvol ks cmd.

commit 3851dbeda5e74de98f6aa749297eb503c93ea7c9
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 6 11:13:55 2016 -0400

    Ignore NVDIMMs at OS installation time.

commit 71c50592b54f4e0489459c3efe9b29939d5d8507
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 12 13:13:17 2016 -0400

    Don't crash if lvm refuses to activate an lv.
    
    Mark the device as not controllable, which should prevent further
    attempts to setup/teardown. It should still be possible to destroy
    the device.

commit c2c9763774fbc32462b083eef04f500cd719a3c2
Merge: f4aee5fb a2cefca5
Author: japokorn <japokorn@redhat.com>
Date:   Mon Sep 12 12:51:10 2016 +0200

    Merge pull request #504 from japokorn/3.0-devel_merge_fix
    
    Fixed merge error

commit a2cefca590800ba90742a2f652aac950f67e982f
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Sep 12 10:46:07 2016 +0200

    Fixed merge error
    
    Fixed merge error

commit f4aee5fbbdde161fabb8ab81d878689216a64167
Merge: ea6ada1b 2190bad3
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Thu Sep 8 10:22:35 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 2190bad376b981662fe40beb14482e0d0182f17f
Merge: c890b107 dd3f562b
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Thu Sep 8 09:59:08 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit dd3f562b25091018f44031fa74abfbbb02d20929
Merge: da29360f 4cdae956
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Thu Sep 8 09:59:04 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit a59973ef493dbd10febf1121fbc5d7348d7857ed
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Sep 8 09:24:48 2016 +0200

    Add translators comment for unsupported disklabel names

commit 4cdae95611a850caa4ef6d3a8758c0ef9a50c1b2
Merge: eb9bf4c5 e50d8f6f
Author: japokorn <japokorn@redhat.com>
Date:   Wed Sep 7 13:43:46 2016 +0200

    Merge pull request #500 from japokorn/2.0-devel_partition_type
    
    UUID is now cleaned when destroying format

commit e50d8f6fe2e4c48cf42c76bbfeb54836e68dfa91
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Sep 5 13:51:57 2016 +0200

    UUID is now cleaned when destroying format
    
    When destroying format, the partition type is now reset

commit ea6ada1b48392ebc95adda434677479060e81349
Merge: bfa91184 7cd31645
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Sep 6 09:15:16 2016 +0200

    Merge pull request #493 from vojtechtrefny/3.0-devel_vm-testing
    
    Functional testing

commit da29360fa0bbd0de21e339c77117c5dfa62a21e9
Merge: 3994e62c e866cd48
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 2 17:23:02 2016 -0400

    Merge pull request #499 from dwlehman/partitioning-disk-tags
    
    Disk tags as disk spec for new partitions

commit e866cd48f046d4bf78a98cd28df7dd800c1d63ef
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 31 16:01:19 2016 -0400

    Support disk tags as disk specification for new partitions.
    
    To specify disk set using tags when instantiating PartitionDevice,
    pass an iterable containing one or more disk tag values via the
    keyword argument 'disk_tags'. If multiple tags are passed, the
    value is interpreted as "any of these tags". If a non-empty
    parents list is passed, the tags will be ignored. Similarly, if
    a non-empty list of tags is passed, an empty parents list is
    ignored in favor of the tags.

commit 3994e62c6e09666a6564de498bfa0fede3ca62f8
Merge: e7e948e6 fc3ec79d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 2 17:08:48 2016 -0400

    Merge pull request #485 from dwlehman/device-tags

commit fc3ec79da357bc0a29ddd5df2d28e26547b4c833
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 2 16:08:42 2016 -0400

    Add tags property to Device with some defaults for disk variants.

commit 7cd3164595705b528b28eb544a95eb221ab7c0c0
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Sep 2 11:57:16 2016 +0200

    Enable LVMOnMDTestCase

commit bdfcf94a9fe430c2d077ff68dc693821c3e4d050
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Aug 26 14:48:02 2016 +0200

    LVMThinSnapShotTestCase: Fix creating of the thin snapshot

commit f558365382a47fddfe09f67b813e5e4f64b7703f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Aug 26 13:44:08 2016 +0200

    Create a better test summary when running tests in a VM

commit aa9160875482debdf6eacc0cbfa6ca1906cf5cb1
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 25 11:08:42 2016 +0200

    Add a script to run tests in a virtual machine
    
    This script will start the machine, make a snapshot of its initial
    state and run the tests on it (reverting to the snashot after each
    test). The VM must automatically boot to an live image with ssh
    enabled.

commit bfa911843559a244fca7ec01790be4934415d504
Merge: 03482709 c890b107
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Aug 31 11:53:50 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit c890b1073baf686c6c5cacc7997c529b16d997aa
Merge: 0cd90f3a e7e948e6
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Aug 31 11:53:49 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit e7e948e68ac9fb0a45ce8ddc5b23af7b6330e985
Merge: 30399057 eb9bf4c5
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Aug 31 11:53:47 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit eb9bf4c5f30fa284c96163d0dd4e03bcb944cda7
Merge: 77e08b61 24877547
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Aug 31 11:53:02 2016 +0200

    Merge pull request #446 from rvykydal/2.0-devel-rhbz-1325134
    
    iscsi: allow installing bootloader on offload iscsi disks (qla4xxx) (…

commit 39918e1d4be05938f619e3d9fda36e44ca4c465a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 25 10:57:05 2016 +0200

    Move BlivetResetTestCases from ImageBackedTestCase to VMBackedTestCase

commit ad1522445128ed70c4cb7991731938ab5c1df75b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 25 10:52:51 2016 +0200

    Add a test case for tests running in a virtual machine

commit 03482709a81a0193f5b9fec2a1ef7d262aee2653
Merge: 4a79217e 0f35e87b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Aug 31 09:29:04 2016 +0200

    Merge pull request #498 from vojtechtrefny/3.0-devel_fix-thinsnapshot-create
    
    Do not try to create format for snapshots in create_device

commit 4a79217e74d8bf55f8d4183bde2356927df428db
Merge: 3c068817 470b6df8
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Aug 31 09:28:47 2016 +0200

    Merge pull request #496 from vojtechtrefny/3.0-devel_fix-snapshot-mountpoint
    
    Use None as mountpoint for new snapshots

commit 3c068817a937469ea8961cbfed2a30143f779f6b
Merge: 5d346615 43e41cd8
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Aug 31 09:28:40 2016 +0200

    Merge pull request #494 from vojtechtrefny/3.0-devel_fix-unset-flag
    
    Do not try to unset flags on other devices than partitions

commit 0f35e87b31b8b0984f1b23bc04e7de6a44af7858
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Aug 30 10:07:59 2016 +0200

    Do not try to create format for snapshots in create_device
    
    For snapshots, format already exists after creating the snapshot.

commit 470b6df8f98cffdb4ec49f9ef4df6cea79ed7a94
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Aug 26 14:49:00 2016 +0200

    Use None as mountpoint for new snapshots
    
    Default value for mountpoint is always None not an empty string.

commit 43e41cd8819cbae4c5874e53130661bba55582a9
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Aug 26 15:06:19 2016 +0200

    Do not try to unset flags on other devices than partitions

commit 5d34661558175ad5cda9c54ad5aed470899edfcd
Merge: 8289b1b0 ba4e33c4
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Aug 26 09:18:47 2016 +0200

    Merge pull request #492 from vojtechtrefny/3.0-devel_luks-api-fix
    
    Fix TypeError when calling blivet.reset()

commit 8289b1b0b6bfcd96d2936f23cf3ef75441b10d97
Merge: bc9c279f 0cd90f3a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 25 14:54:37 2016 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit 0cd90f3a18f53be21bb540bc03e4563bb5fa0769
Merge: 99342cff 30399057
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 25 14:39:38 2016 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit 303990574099857a194204d3ff1b914ae93482bc
Merge: 59a4b951 77e08b61
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 25 14:37:45 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit bc9c279f714e2e0155fedc93059fe8468e6d6acc
Merge: 07543360 1ae1450b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 25 15:17:15 2016 +0200

    Merge pull request #471 from vojtechtrefny/3.0-devel_fix-label-conf
    
    Fix checks when changing fslabel using actions

commit 77e08b618957f5dae76570522ee6026e27193c8d
Merge: ddf780de ace337ba
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Aug 25 09:35:25 2016 +0200

    Merge pull request #487 from jkonecny12/2.0-devel-multimerge-tweak
    
    Add checks to git-multi-merge script

commit ba4e33c4afe5342c0b514645a6f1dac2f4c06eec
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Aug 23 14:43:02 2016 +0200

    Fix TypeError when calling blivet.reset()

commit ace337baf9453b3aee44dd42b122467f906da583
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Tue Aug 16 10:16:08 2016 +0200

    Add checks to git-multi-merge script
    
    Added check if origin and branch exists.

commit ddf780de9de07ee2f1f61ae71a297b63b163c30a
Merge: 6661ebf6 b456b523
Author: japokorn <japokorn@redhat.com>
Date:   Fri Aug 19 15:26:33 2016 +0200

    Merge pull request #490 from japokorn/2.0-devel_partition_type
    
    UUID now set correctly when reformatting partition

commit b456b52349e6224efd42916c6e521493aceb2acf
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Thu Aug 11 12:37:58 2016 +0200

    UUID now set correctly when reformatting partition
    
    When repurposing a partition, partition type UUID is now set correctly (#1258167)

commit 07543360cc82e2de777abfb30a82169a5b3a2822
Merge: c807c03a f34850be
Author: japokorn <japokorn@redhat.com>
Date:   Tue Aug 16 10:07:55 2016 +0200

    Merge pull request #469 from japokorn/3.0-devel_break_luks_api
    
    Broke backwards API compatibility of LUKS handling

commit f34850be3a4c8b591ee2b169e0317c65db192945
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Jul 26 13:38:40 2016 +0200

    Broke backwards API compatibility of LUKS handling
    
    Removed backwards API compatibility
    API optimized for LUKS data singleton

commit 6661ebf650427950838f134a928f25de7d0552f2
Merge: 8fc5c292 ec9e77af
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Aug 9 12:56:01 2016 +0200

    Merge pull request #483 from vojtechtrefny/2.0-devel_mount-symlinks
    
    Eliminate mountpoint symlinks when looking for mounted device

commit 27602a52fbd1b870938ca2c19fa6bb0809d953c3
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Aug 5 13:31:13 2016 -0400

    New version: 2.1.2

commit ee023fe3ec7b7dabda269b69ec58a90d72344333
Merge: 3f35b0d0 85bc5477
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Aug 5 12:43:19 2016 -0400

    Merge branch '2.1-devel' into 2.1-release

commit 3f35b0d0423bc9f9c7328af522167f7f11b80f5c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Aug 5 12:43:06 2016 -0400

    Update release notes to include previous two releases.

commit 85bc5477d46f4bbbaa734760cf7206e81ee3fc4b
Merge: 59a4b951 8fc5c292
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Aug 5 11:39:36 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit 99342cff05fb41d6662b7b2837b8a965577bcc3e
Merge: b34c14e6 3d2652ec
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 4 14:32:38 2016 -0400

    Merge pull request #478 from dwlehman/devicefactory-default-lvm

commit 8fc5c292b346672e4d40ad9b332e46119d20d1bb
Merge: ccb9ea9f f3e34ed9
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 4 14:32:05 2016 -0400

    Merge pull request #481 from kellinm/bz1242666_2.0-devel

commit c807c03a5673d53d61d1ff969ec161ffc7bb75dc
Merge: f468face b34c14e6
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Aug 4 13:44:55 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit b34c14e6f0e2f7efd3724cbf2cf980a8e0e64fae
Merge: cfeceb50 59a4b951
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Aug 4 13:44:54 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 59a4b951aa7622b60d39fbf3c4cac80707ffa869
Merge: eea59842 ccb9ea9f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Aug 4 13:44:52 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit ccb9ea9f85c714a99d52ef6b58d637234177f4ad
Merge: 2fd6a8a8 382dbfd6
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Aug 4 12:15:46 2016 +0200

    Merge pull request #484 from vpodzime/lv_grow_base
    
    Allign the LV's size up to set the base size for growing

commit 382dbfd60166a5936a9f228e7e2b1309956baf68
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 3 16:44:12 2016 +0200

    Allign the LV's size up to set the base size for growing
    
    That's what the LV would take from the VG if not grown at all.

commit f3e34ed96771f9c9fe379d3cf0658e88c539c607
Author: Robert Marshall <rmarshall@redhat.com>
Date:   Tue Aug 2 15:00:37 2016 -0400

    Ensure biosboot shows up in kickstart (#1242666)
    
    Added support to detect the biosboot partition.
    
    The biosboot partition, unlike other bootloaders, is not considered a stage1
    device and is not mountable therefore it never actually showed up. Detection
    of the biosboot partition required a special case that does not impact the
    internal bootloader device properties which would have wreaked havoc
    elsewhere in the codebase.
    
    Resolves: rhbz#1242666

commit f468face7e35529d4241dacaa78d67ad095970ce
Merge: f9feb4b7 cfeceb50
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 3 15:44:46 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit cfeceb508d7302de463759c793c7b1bbee0ac194
Merge: f9815000 eea59842
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 3 15:43:08 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit eea598426127dc922f8698d1773cf8c4710de5ab
Merge: 8218cfcd e327ef55
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Aug 3 15:42:50 2016 +0200

    Merge pull request #468 from vpodzime/lvconvert_actions
    
    Actions for creating LVs from other LVs

commit ec9e77af49ed7b803f1ee9cdd708f24c40886c5e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Aug 2 10:22:16 2016 +0200

    Eliminate mountpoint symlinks when looking for mounted device
    
    Resolves: rhbz#1322439

commit e327ef558895fa7d30ce5f034968d9e274f5d429
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 26 10:39:50 2016 +0200

    Add tests for the new LV from LVs actions
    
    There are many tricky things happening when creating and destroying compound LVs
    as well as removing such actions so it's useful to have tests for it all.

commit 3f65f4f85caad1d24a46da958a6c2630dd6f482a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 26 10:57:19 2016 +0200

    Make sure to add/remove internal LVs when adding/removing a compound LV
    
    When adding an LV created from other LVs into the DT, those LVs need to be
    converted into internal LVs and vice versa when removing such a compound LV from
    the DT.

commit 9d7ca4d53beadb8c03c095a2cc1a478c03594321
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jul 25 13:38:12 2016 +0200

    Make sure all LVs to create a new LV from are in the DT
    
    This way we can produce a better error.

commit 4f7a01ac21da687fcf5488d55f81716edc993e1c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jul 25 13:33:08 2016 +0200

    Make sure internal LVs are added/removed to/from DT properly
    
    When adding an LV constructed from other LVs to the DT, we need to remove the
    internal LVs from the DT as they are internal LVs. The exact opposite needs to
    happen when removing an LV constructed from other LVs from the DT.

commit ec8520614dd38b6b0a40b51ea265d0247046bbe8
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jul 25 12:35:51 2016 +0200

    Make LVs depend on their internal LVs
    
    This is a specific type of dependency because internal LVs are not in the
    devicetree and thus parent nor children devices of their parent LVs.

commit 44889dedf13b903cfab54ae3f2f1a32efeaca92b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 22 15:41:14 2016 +0200

    Do not add the LV to devicetree in new_lv_from_lvs()
    
    Just return the new device object like all the other new_*() functions do.

commit be19c3ecb038aa30eb9d2eb9a48dd3b75a816708
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 22 15:21:39 2016 +0200

    Require libblockdev version with all the functions we need
    
    We now do LV conversion which is only provided by libblockdev in version 1.9 or
    above.

commit bdbf66237b47638c221556d51d6dbe7b8b0bda90
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 22 15:02:50 2016 +0200

    Allow for cascade creation of LVs from LVs
    
    We just need to make sure the internal LVs are created first before the new LV
    is created (converted) from them.

commit f9feb4b732430b7574c5cf03c1c96eb5e8079784
Merge: 540cf787 f9815000
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 2 08:27:05 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit f98150008b68fe6bbbfec53c68bbf43229fc049c
Merge: 6c9f5fd8 8218cfcd
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 2 08:27:04 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 8218cfcde34617b56681fd4321adf2181c0faea2
Merge: 0f6dccfa 2fd6a8a8
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 2 08:27:02 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 6c9f5fd80effc53f46abaae55ae68374d64ca843
Merge: 74f3d874 782a5ac9
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Aug 2 08:25:14 2016 +0200

    Merge pull request #477 from vpodzime/populate_prog_reporting
    
    Add callbacks for populate

commit 2fd6a8a84379d513b51113ead542999066baadab
Merge: 8c7bcb68 aeb5bba0
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Aug 2 08:24:55 2016 +0200

    Merge pull request #473 from vpodzime/dmraid_args_order
    
    Pass arguments to get_member_raid_sets() in the correct order (#1225184)

commit 3d2652ec08433bacdc94cf578db9034921231048
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 29 19:06:19 2016 -0400

    Default to LVM in the device factory.

commit 540cf7870b0c45665afe329d926a058104125534
Merge: e2597411 74f3d874
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Aug 1 13:23:15 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 74f3d874070ccd8080bc12872ad36308946c77bb
Merge: dc3046aa 0f6dccfa
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Aug 1 13:23:13 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 0f6dccfa9417fae3c414e74656949dceb72c820d
Merge: 96e8e35d 8c7bcb68
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Aug 1 13:23:11 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 8c7bcb6854d54b9bca0e0c17556df709fbdbc794
Merge: 82736fd3 495c94ff
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Aug 1 13:13:59 2016 +0200

    Merge pull request #475 from vojtechtrefny/2.0-devel_fix-removing-pvs
    
    Fix removing PVs after removing VG (#1358067)

commit 782a5ac9fa59cb936bbae9fc65a4d5f37faa543c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 29 13:57:24 2016 +0200

    Add callbacks for populate
    
    It's easy for us to advertise how many devices we expect to scan and then report
    each device scan completion. The user code can then show scanning progress to
    users.

commit e259741169f0d29e522415c91fdbc589d09c1541
Merge: 3250d912 dc3046aa
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 29 10:17:29 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit dc3046aa08071e92f0fcca1dae489738bd2c7801
Merge: fecab0e8 96e8e35d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 29 10:17:27 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 96e8e35da185067ec3d5ab32ba74d4b51038e3da
Merge: 172cdb20 82736fd3
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 29 10:17:26 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 82736fd3b40c8612bf72675f8386e680802f8731
Merge: f96acf4a 258cf172
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Jul 29 10:17:07 2016 +0200

    Merge pull request #472 from vpodzime/faster_lvs_info
    
    Use the new way extra information is provided for LVs

commit 495c94ff520f437ccc06fb0dd3a7f3d92e9b5b20
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jul 28 12:22:08 2016 +0200

    Fix removing PVs after removing VG (#1358067)

commit aeb5bba004efd06e9f42308c304c8f597a90efe0
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jul 28 11:46:43 2016 +0200

    Pass arguments to get_member_raid_sets() in the correct order (#1225184)
    
    The name should come before the uuid.

commit 258cf17229e00af871a4b7535ef9af301875e00c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 13 14:56:24 2016 +0200

    Use the new way extra information is provided for LVs
    
    Instead of doing multiple calls to libblockdev for every LV to find out what its
    potential pool, data and metadata LVs are, we can use the information from the
    overall information about LVs libblockdev now provides.

commit 1ae1450b0516368ab869ccde7f1bcd9533ee65c7
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jul 27 09:38:23 2016 +0200

    Fix checks when changing fslabel using actions

commit 3250d912fd25ffa67b8265d3bcdbfdb3a4ec4218
Merge: 7599ca32 fecab0e8
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jul 26 10:44:06 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit fecab0e88b977ef0f4f4791236bcdf4a692d151a
Merge: a2b181cf 172cdb20
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jul 26 10:44:04 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 172cdb2018eb0913bfa2052f1ca32b7debeea4b4
Merge: 529a382a f96acf4a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jul 26 10:44:02 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit f96acf4abea299119cf3789600a87d144aff6702
Merge: 8797d203 7d3f44e6
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jul 26 10:43:14 2016 +0200

    Merge pull request #443 from vojtechtrefny/2.0-devel_extended
    
    Fix not enough free space after creating extended partition (#1252350)

commit 7599ca32cf2bec4509b245815c682b0c3350cf23
Merge: b1eb1b97 ee5a0c20
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jul 26 09:17:32 2016 +0200

    Merge pull request #466 from vojtechtrefny/3.0-devel_deprecated-udev
    
    Remove deprecated method udev.device_is_realdisk

commit ee5a0c2093431c97f1aea4333a048a34b6bc8ac3
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jul 25 12:59:41 2016 +0200

    Remove deprecated method udev.device_is_realdisk

commit b1eb1b9791dc6b694a73f297b1e850bdc82d8ad8
Merge: 13930d9e a2b181cf
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jul 25 12:31:25 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit a2b181cf24cf23406733a0c9b2599aad4edca04e
Merge: aa021d90 529a382a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jul 25 12:28:29 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 529a382a6189433698fd0db78cbd0c412698ade8
Merge: e723771c 8797d203
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jul 25 12:28:27 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 8797d20364187c63990dd66d1cf84405c7e94bfc
Merge: ebb90b81 6f6da3ec
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jul 25 12:27:03 2016 +0200

    Merge pull request #464 from vojtechtrefny/2.0-devel_resolve-glob
    
    Fix udev.resolve_glob and udev.device_is_disk

commit 13930d9e66573144b51d87bb179d36dc032143c4
Merge: 6f679d58 aa021d90
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jul 25 10:54:12 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit aa021d90186389cb2f5ae1ea330f7136eba409e8
Merge: c7818ce1 e723771c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jul 25 10:54:11 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit e723771cd275e10efc81ea4907d9f22ff5797b83
Merge: f50169c7 ebb90b81
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jul 25 10:54:09 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit ebb90b81fa8674fb5e1bb6fb132a221001e83d9c
Merge: 32244c45 f7e63b23
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Jul 25 10:53:43 2016 +0200

    Merge pull request #463 from vpodzime/new_storaged_api
    
    Adapt to the old-new storaged API paths

commit 6f6da3eca86a2a5acacc1c36b24f636db642023a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jul 14 12:19:42 2016 +0200

    Add a method to determine if a udev device is a disk.
    
    Many things are represented as disks by udev, we have to define
    what is a disk in terms of what is not a disk.
    
    Related: rhbz#1200833

commit 6f679d5859c76e403af4ea9df98ce98819658398
Merge: 4c4ca280 c7818ce1
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 19 11:13:13 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit c7818ce1481bb7465c55f68bb80aa22622dc02ea
Merge: adb29b81 f50169c7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 19 11:13:12 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit f50169c7f5977cc830f930e4d25f66f37bdfbee2
Merge: 699d6226 32244c45
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 19 11:11:37 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 32244c457ea345b0b0031922df3bde88f20dafec
Merge: 70a6e6e0 b7dd6395
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Jul 19 10:53:37 2016 +0200

    Merge pull request #461 from jkonecny12/2.0-devel-fix-snapshot-test
    
    Don't require existing origin when modeling snapshot

commit 106024a51704b3966b24d651ef8029845ef96eda
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jun 20 16:20:17 2016 +0200

    Fix udev.resolve_glob to match device path too
    
    Related: rhbz#1200833

commit 4c4ca2808e0c92715b4875d0700a2767ee4b7876
Merge: 14b898bf adb29b81
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 12 15:55:34 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit adb29b819e8d2a73334b64697a48229d75d8ac00
Merge: 710ec59a 699d6226
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 12 15:55:33 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 699d6226e6d504a06a1e46e4a0eca07e7e96f6d6
Merge: 81eedd08 70a6e6e0
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 12 15:55:32 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 70a6e6e0c00f84038c9c48fca6781d1883ec4648
Merge: defc483c 5cb61e56
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Jul 12 15:54:08 2016 +0200

    Merge pull request #436 from vpodzime/lv_vg_space_used
    
    Fixes for calculations of space taken from a VG by LVs

commit 14b898bfcb7829855174d1a2a67dcb4d2be720b8
Merge: 13f52226 dc5da7db
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jul 12 09:05:29 2016 +0200

    Merge pull request #454 from vojtechtrefny/3.0-devel_libmount
    
    Use libmount for MountsCache

commit 13f522269ff518d05fdfe1042567109ffce64038
Merge: e654d1f9 710ec59a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 12 07:40:40 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 710ec59a65e334410cca6dad2fdecd31eacc918f
Merge: d47e6baf 81eedd08
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 12 07:40:39 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 81eedd080bb9d67bfc30518eb61dc295a5e1322e
Merge: 3be47bd7 b87fc14b
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Jul 12 07:39:36 2016 +0200

    Merge pull request #462 from vpodzime/lvconvert_preexisting
    
    Allow creation of a new LV from other LVs

commit f7e63b23c067edbb648f7a2d3046c9ca984aafcd
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jul 11 13:31:03 2016 +0200

    Adapt to the old-new storaged API paths
    
    storaged now provides the API compatible with UDisks2.

commit dc5da7db13e01aa9406e494ecf31247a2e7ed9de
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Jul 1 10:25:30 2016 +0200

    Use libmount for MountsCache
    
    Use libmount.Table for parsing /proc/self/mountinfo instead
    'manual' parsing from python.

commit defc483c340a6ffb4d393ffd1f399f6cbdb2b614
Merge: 8cf9e31b c66756ca
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 8 16:42:05 2016 -0400

    Merge pull request #460 from dwlehman/2.0-mpath-exclusive-disks

commit 8cf9e31b55893c7bbdeec2d1b2ccdd64a40429de
Merge: 05305cb4 a505db6b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 8 16:40:44 2016 -0400

    Merge pull request #459 from dwlehman/populate-dmraid-update-size

commit e654d1f952300e09e021c4487255525d6313c2f9
Merge: 60541724 e787ca0c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 8 16:40:28 2016 -0400

    Merge pull request #458 from dwlehman/disk-filter-init-fixup

commit 05305cb463605e448cc3bd4bf6b441d5894a81bc
Merge: af01407a 9d6a6e04
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 8 16:40:10 2016 -0400

    Merge pull request #457 from dwlehman/bug-1325518

commit c66756cabd51c4b382fb77bb84f00a6447d952c8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 6 12:37:46 2016 -0400

    Handle an mpath name as lone exclusive disk. (#984059)

commit cbeff52fbb905236abae627939b9ea19da83496e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 6 12:36:29 2016 -0400

    Add unit tests for disk filter.

commit b87fc14bda3e9e9aad4ebb6ce8f33e9edd267d47
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jul 6 15:25:38 2016 +0200

    Allow creation of a new LV from other LVs
    
    Thin and cache pools can be created from two other LVs (data and metadata). We
    don't support creation of standalone cache pools now, but we do support creation
    of standalone thin pools and thus we should also support their creation from
    other LVs.
    
    A new high-level function added to the API can save us from a lot of headache
    caused by people doing crazy things and ending up with inconsistent devicetree.

commit b7dd6395defcc43d8c0c0f69c9288ea47c35eb70
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Fri Jul 8 15:06:20 2016 +0200

    Removed test for snapshot origin existance

commit 30b3f620aa11906fb5fea29d6d132443f86eb925
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Fri Jul 8 10:41:03 2016 +0200

    Don't require existing origin when modeling snapshot
    
    You can't add snapshot to a model when this check is enabled. I don't
    know why you want this but it looks as a huge drawback to me.

commit a505db6b40d70aacf9c8407c4c9d8225f120d135
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 6 14:48:33 2016 -0400

    Update size for dmraid arrays found during populate. (#1269662)

commit af01407a2e984749840c7e751d727372f3ef7f7e
Merge: 985f0a2c 4908746c
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Jul 4 10:23:26 2016 +0200

    Merge pull request #453 from damarlin/2.0-devel-aarch64
    
    Restore the correct default partition table type for AArch64 EFI.

commit e787ca0c85820ae55f3e7e8a207aa38c82ab9534
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 1 16:34:28 2016 -0400

    Fix initialization of ignored, exclusive disks.

commit 6054172434c4797812796b91ea1b5eea80189f45
Merge: 4d360828 d47e6baf
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 1 15:34:49 2016 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit 4908746c3a80ab6c413636ff18264eefd379b89a
Author: d.marlin <dmarlin@redhat.com>
Date:   Fri Jul 1 14:18:43 2016 -0400

    Restore the correct default partition table type for AArch64 EFI.
    
    Signed-off-by: David A. Marlin <dmarlin@redhat.com>
    Resolves: rhbz#1349130

commit 9d6a6e040d14479d40cf331600537198301ba88a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 1 12:31:30 2016 -0400

    Fix args to cancel_disk_actions call from hide().

commit d47e6baf8438edfef4a026546c190e4b3cfe7ef3
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 1 09:23:56 2016 -0400

    Fix devicetree tests to use callbacks instead of record_change.

commit 4d3608282cc6bfa86695809e7fd96216f534baa9
Merge: 0b153616 a52f9d70
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 1 10:41:13 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit a52f9d70eb5a909a502e863d4d4fcab22c58d0da
Merge: b3223008 3be47bd7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 1 10:41:12 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 3be47bd709afa56f3023b2ba9bf1d5c02b10b7ef
Merge: 9d06a3c0 985f0a2c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 1 10:41:09 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 985f0a2c4eb35846ec154c813b101ee5950cd646
Merge: b9af69dd 6e45a8da
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Jul 1 10:40:23 2016 +0200

    Merge pull request #386 from vpodzime/improved_multi_merge
    
    Show changes for each branch in git-multi-merge before pushing

commit 0b153616c2572ab9adcb901743849595b3e7e7f0
Merge: dc3ce65f 724b33ba
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Jul 1 10:25:18 2016 +0200

    Merge pull request #450 from vojtechtrefny/3.0-devel_resolve-glob2
    
    Fix udev.resolve_glob and udev.device_is_disk

commit 7d3f44e6980589d75d6f000a27f69a8aca33e204
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jun 21 13:59:28 2016 +0200

    Fix not enough free space after creating extended partition (#1252350)
    
    When adding fourth partition extended partition is automatically
    created. Because the extended partition takes some of the free space
    we might not have enough free space for the logical partition.
    This patch shrinks the logical partition if this problem occurs.

commit b9af69dd06cd7bb91bc897e319ccd51c7f2ac20e
Merge: 747777f1 7c0910bf
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 28 12:17:50 2016 -0400

    Merge pull request #449 from dwlehman/devicetree-tests
    
    more unit tests for DeviceTree

commit 7c0910bfacf491954eabe33d25cc61d9d6804dbb
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 24 13:15:51 2016 -0400

    Add some more unit tests for DeviceTree.
    
    Adds tests for reset, _add_device, _remove_device, and recursive_remove.

commit 724b33baa072e4b75f72ea9cb0d2f34e468d2b93
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jun 28 13:25:55 2016 +0200

    Change udev.device_is_disk to match disks only
    
    Many things are represented as disks by udev, we have to define
    what is a disk in terms of what is not a disk.
    Additionally this removes the Populator._udev_device_is_disk
    method that did the same checks added to udev.device_is_disk.

commit 8ca1291b3cbdf07d5e1e342ef927ff35a32e32c9
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jun 20 16:20:17 2016 +0200

    Fix udev.resolve_glob to match device path too
    
    Related: rhbz#1200833

commit 24877547567cda6017fc1e2211ed0f99056831ef
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Apr 8 09:33:18 2016 +0200

    iscsi: allow installing bootloader on offload iscsi disks (qla4xxx) (#1325134)
    
    Related: rhbz#1325134

commit dc3ce65f0ff261338f00eeb3467725e27fc57ca2
Merge: 3c196503 dfa82ffc
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jun 23 09:49:48 2016 +0200

    Merge pull request #434 from vojtechtrefny/3.0-devel_configuration-actions
    
    Configuration actions

commit dfa82ffc8b0608d40bb511b5765528b6b20eb8dc
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Jun 10 11:43:14 2016 +0200

    Add tests for configuration actions

commit b559f9230eaad6068981423264dbbee68be0a4f9
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jun 6 13:02:29 2016 +0200

    Allow changing format label using configuration actions

commit 747777f180be315058787bd1a40803295ece2edc
Merge: f67b2778 480bbf88
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 20 13:52:30 2016 -0400

    Merge pull request #440 from dwlehman/format-tests
    
    unit tests for critical methods of format classes

commit bdb9e2c4d2971d0119aae70d6d44c588767e3c3a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jun 6 13:02:08 2016 +0200

    Add new actions for configuring formats and devices
    
    New actions ActionConfigureDevice and ActionConfigureFormat
    allow changing selected attributes of a device or format.
    List of attributes that can be changed with methods used
    to write the changes to disk is part of the device or format
    class.

commit 480bbf8814ee456904b35df2386ae3628a44408e
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 17:20:07 2016 -0400

    Add tests for critical format methods.

commit 5cb61e56b9d26f5007da1f61144f20e1f76a24d7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 9 15:42:57 2016 +0200

    Split and include cache data and metadata sizes properly
    
    The data size should be included in (cached) LV's data_vg_space_used and the
    metadata size should be included in metadata_vg_space_used.

commit bb739c43adff8bc449fabbcf511660325af359d1
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 9 15:17:03 2016 +0200

    Use internal LVs (if any) to calculate space used by existing LVs
    
    This is more precise than our artificial numbers and algorithms.

commit 9637aa99a3448295975c84461586c70b8fc7bcdf
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 9 14:18:38 2016 +0200

    Remove an unused calculation of VG's RAID PVs
    
    No longer needed as the space taken by LVs in the VG is calculated in a
    different and more precise way now.

commit da469bfb48c8ca16f4a34b402f26bd80839ae561
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 9 14:16:11 2016 +0200

    Only include padding to nonexisting thin pools' vg_space_used
    
    We need to make the nonexisting thin pools pretend to be bigger so
    that their padding is not eaten by some other LV, but we need to
    provide consistent information with the LVM tools for existing
    thin pools.

commit 3c1965036e3b79d08828449c379f86da94fb8963
Merge: 64c3c413 1397b399
Author: japokorn <japokorn@redhat.com>
Date:   Wed Jun 8 10:08:33 2016 +0200

    Merge pull request #433 from japokorn/3.0-devel-quickfix
    
    Quickfix of merge bugs

commit 1397b399b4c5c5fb290ae48745a9391a48d0b9a5
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Jun 6 09:53:57 2016 +0200

    Quickfix of merge bugs
    
    - fixed bugs from manual merging
    - updated test
    - bugs originated in: e5e2483441beb59749a9e3c4fa320deb90ad45fd,
      2daaaab4edcc32f740a139fca87eb176eaa5a981

commit 64c3c413c57283f879adda5bd0048ee4ea908b45
Merge: 2daaaab4 b3223008
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jun 7 09:34:59 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit b322300856576e9620d230eed0353da4378020f1
Merge: adedc507 9d06a3c0
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jun 7 09:34:57 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 9d06a3c0cb84860a35a00a9c939e72ba42da0ebb
Merge: 72edc030 f67b2778
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jun 7 09:34:55 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit f67b2778db256878286c21fbae3c53b3fde96a0d
Merge: 157e8a41 e994e2c4
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jun 7 09:33:50 2016 +0200

    Merge pull request #432 from vojtechtrefny/2.0-devel_pyudev
    
    Do not use deprecated pyudev methods

commit 0dce5dc03a71f6c7d2dd8e1ba0a824a2ea13de07
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 6 15:41:18 2016 -0400

    New version: 2.1.1

commit 95d320f0aa04a1cc1a7865005408e126b08e9a64
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 12 15:56:04 2016 -0400

    Ignore all merge commits when making rpm log.
    
    Also remove l10n lines.
    
    (cherry picked from commit b9ec79673e09a541e87627f90d2caf522d1bcf76)

commit a8ecf94f897d604ef0d3c0f7b8b72e693784ed50
Merge: 0e0dec88 72edc030
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 6 15:22:31 2016 -0400

    Merge branch '2.1-devel' into 2.1-release

commit 2daaaab4edcc32f740a139fca87eb176eaa5a981
Merge: e5e24834 adedc507
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 3 17:06:45 2016 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit adedc5075624a55b4c498c2c7eb9e4f0403e9be8
Merge: 6a45e129 72edc030
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 3 16:41:32 2016 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit 72edc030431fc371c99d938da4e68a68fad8ca7a
Merge: dd48d8b3 157e8a41
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 3 16:07:47 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit 157e8a414195806955771e5c9a458f0ec8eb48bf
Merge: 95aa291d d5df9b95
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Jun 2 11:27:42 2016 +0200

    Merge pull request #387 from vpodzime/lvm_no_syslog
    
    Do not put LVM stuff into syslog

commit e994e2c44ee7ac10a97e091cce7d032bfa4f82e3
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jun 2 11:22:07 2016 +0200

    Require pyudev 0.18 or newer

commit 79ea30d07f295be4392ac97dfd7ba861fac4ab86
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jun 2 11:02:32 2016 +0200

    Do not use deprecated pyudev methods
    
    'pyudev.Device.from_sys_path' and 'pyudev.Device.from_device_file'
    are deprecated since pyudev 0.18.

commit 95aa291dc3f5b368d14c775992e775ece15ca70d
Merge: 56ff2140 e17aff5c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 31 11:51:41 2016 -0400

    Merge pull request #427 from dwlehman/unsupported-disklabels
    
    Improved handling of corrupt or otherwise unsupported disklabels

commit 56ff2140bb94815758e084b7b4732055a9887eff
Merge: 6aecb134 ac8cae43
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 31 11:50:53 2016 -0400

    Merge pull request #429 from dwlehman/2.0-20160520
    
    two small patches that avoid unnecessary tracebacks

commit e17aff5c51b99493bd5857c58e48f291ede81d07
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 25 14:23:37 2016 -0400

    Try harder to identify a partition's disk when necessary.

commit a9a56986a240b07accfc085f6a14e6352e51d46e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 25 14:22:55 2016 -0400

    Add some fallback methods for finding a partition's disk.

commit dbb3f7d297d78a717a6c43200b6592bb675d5864
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 10 15:29:38 2016 -0400

    Include devices on disklabels unsupported by parted in the devicetree.
    
    Even if we won't have proper support for the disklabel we can at
    least have a complete view of the storage layout, which will make
    it possible to completely clear the disk if asked to.

commit 6aecb134e12f3edc0d7f8a54cf08f9732eb8234c
Merge: 6883690d e5e4e48f
Author: David Shea <dshea@redhat.com>
Date:   Mon May 23 16:28:01 2016 -0400

    Merge pull request #409 from dashea/gettext-plural
    
    Add the P_ keyword to xgettext.

commit 6883690de9debed9d7007c4ca931b9128219e15a
Merge: 9f0ac2f5 9e496fcf
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 14:52:09 2016 -0400

    Merge pull request #382 from kellinm/bz1242666_2.0-devel
    
    Kickstart missing bootloader partitions (#1242666)

commit 9f0ac2f5e6f72ca85d469d892ca96589252a594a
Merge: ec5bab41 94799b51
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 12:57:20 2016 -0400

    Merge pull request #423 from dwlehman/device-tests
    
    Tests for main methods of core device classes.

commit ac8cae4388f33661c3311170012aaa9d7b8434ac
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 12:45:36 2016 -0400

    Don't traceback if we fail to examine an md member.

commit 24f401b55069ac53459cc5701a0c61c063ce9019
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 12:25:25 2016 -0400

    Disklabel commit errors can occur for disks, too.
    
    DiskLabelCommitError can happen when committing changes to
    a partition or when committing changes to the disklabel
    itself, so we have to be careful how to get the list of
    related disks.

commit ec5bab41a505310d568d76c89fd623c1bb7dbf4f
Merge: 3fc7d85e 4980b5b2
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 10:43:28 2016 -0400

    Merge pull request #390 from kellinm/fix_fs_support_check_2.0-devel
    
    Fix blivet constructor fs support check

commit 3fc7d85ef948da842e6846cb991fd24769106d0b
Merge: cca646e4 db4012ed
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 10:42:30 2016 -0400

    Merge pull request #388 from kellinm/add_xfs_to_default_filesystems_2.0-devel
    
    Add xfs to default filesystem types

commit 94799b517a287fa1dc94180292cdcf85546bf23a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 13 13:52:42 2016 -0400

    Add unit tests for device methods.

commit 6a45e129340b257ae983d350c0f9c46ca42f184b
Merge: 12fc05ff 18d3be68
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 17 11:05:18 2016 -0400

    Merge pull request #422 from dwlehman/dbus-factory

commit 18d3be68a7285edf3dd47d46ef4e9a18d43e4a68
Author: David Lehman <dlehman@redhat.com>
Date:   Mon May 16 16:58:14 2016 -0400

    Remove action objects before resetting via dbus.

commit 4370ec8668110326b23035663185d6e7b1ff3e91
Author: David Lehman <dlehman@redhat.com>
Date:   Mon May 16 16:56:10 2016 -0400

    Clean up dbus object management a bit.

commit 23a7e6e84dd041d7e1251d587fc776d790a6e5c1
Author: David Lehman <dlehman@redhat.com>
Date:   Mon May 16 16:53:42 2016 -0400

    Only overwrite current format if the new one is different.

commit e5e2483441beb59749a9e3c4fa320deb90ad45fd
Merge: b010c329 12fc05ff
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue May 17 13:57:39 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 12fc05ff5571a5a908104d7c09816199782a05c4
Merge: 96d3923d dd48d8b3
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue May 17 13:39:04 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit dd48d8b3f018ae88ed2c7a902a248abf5d99da10
Merge: 98e98d76 cca646e4
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue May 17 13:38:59 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit cca646e4af510b32efb91431ac37cb6e20b9a4fc
Merge: 46165f58 41b3d904
Author: japokorn <japokorn@redhat.com>
Date:   Tue May 17 13:35:24 2016 +0200

    Merge pull request #404 from japokorn/2.0-devel-singleton_refactor_luks
    
    LUKS data moved to singleton

commit b010c329c9a55da1d4bcd3604860d4da18a663f3
Merge: 7b2d8a10 96d3923d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 17 09:39:26 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 96d3923d49fed41ad159fbfca19616d8f72db6d9
Merge: b4e45d0c 98e98d76
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 17 09:39:25 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 98e98d76dd73d05175b0e340ef87320bac4d9497
Merge: 8cc3047e 46165f58
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 17 09:39:23 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 46165f589d1cdfb81896a8ebcb9195b4976bd3bb
Author: Peter Robinson <pbrobinson@gmail.com>
Date:   Mon May 16 08:50:52 2016 +0100

    ARM platforms: support both msdos and gpt partitions
    
    A lot of new aarch64 single board computer devices need old style
    msdos partition types due to restrictions in booting where the SoC
    boots off a u-boot, that supports uEFI booting, written to the area
    that is occupied by a GPT partition table.
    
    Similarly a number of ARMv7 devices support booting from GPT
    partitions where the u-boot binary is available in a EEPROM or nand.
    
    Signed-off-by: Peter Robinson <pbrobinson@gmail.com>
    (cherry picked from commit cee66d95c51a4a7b0ea45888fdf6122452b3a6d0)

commit 446ae915692a89450a9b484e36fef7a3cef8f315
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 13 11:20:18 2016 -0400

    Add a Factory method to DBusBlivet.

commit 32ca2e07aae40fea18a55875760c506281113313
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 13 11:16:54 2016 -0400

    Update example dbus client to account for Format interface.

commit 41b3d9041e52a3cf82a5c7babe83f68c15921e12
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Apr 5 10:51:35 2016 +0200

    LUKS data moved to singleton
    
    - added "static_data" directory
    - the following was moved to luks_data singleton:
        - luks_devs
        - encryption_passphrase
        - luks_min_entropy
        - save_passphrase
        - min_luks_entropy attribute

commit 7b2d8a10fee0c21a1c37f0770064eed3133f9347
Merge: b62104bc b4e45d0c
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:44:51 2016 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit b4e45d0c0abe80d6abfa129d4d84dfb4b52cc6cf
Merge: cd895723 0975d6e1
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:44:49 2016 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit 0975d6e1b849722bb9cb92f3bfefb9be647ed32f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:27:30 2016 -0400

    Adjust zanata version for new branch.

commit 95a8c932ccacebdab5ad5f99fd0c57b6adec9e0d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 16 15:04:32 2016 +0100

    Allow custom chunk size specification for MDRaidArrayDevice

commit 86c2474b59ac05dc968802ca9a4547eb4d28a40b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Mar 9 09:56:19 2016 -0800

    Add zanata-python-client to TEST_DEPENDENCIES
    
    The tests run the translation-canary test which needs the translations,
    so this makes sure you can pull them down for the test.

commit 0e0dec889c5bda85d933c42aee107955baf53b3b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:36:30 2016 -0400

    New version: 2.1.0

commit b0307c361fea01061bb82f3f7df13d5be4dccf5f
Merge: 297294b0 1c7ea713
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:32:19 2016 -0400

    Merge branch '2.0-release' into 2.1-release

commit 297294b0d85a4ecc8e79f6a336e717f81e2d6dee
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:27:30 2016 -0400

    Adjust zanata version for new branch.

commit a0c428523de5744fdb38a502e637e94d27aca9d0
Merge: 8cc3047e 1728e5c1
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:24:30 2016 -0400

    Merge commit '1728e5c' into 2.1-devel

commit 1c7ea7138456aa80c605ff2fa44e6d25fa988518
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:03:22 2016 -0400

    New version: 2.0.3

commit 817f738c7eb16c772cf5a12c7bccf95d73cbdb71
Merge: 697084d8 ee88bf38
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:20:19 2016 -0400

    Merge branch '2.0-devel' into 2.0-release

commit b62104bc5396c34117bc58d460acec2969bf7fc6
Merge: 8568bbf1 cd895723
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:07:45 2016 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit cd8957233540bba0f7fbbe10f5a70c21da3e17b1
Merge: 58a1dae3 e3850a80
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:07:43 2016 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit e3850a80116e46677446c0685c4cfcd2097e2453
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 16 15:04:32 2016 +0100

    Allow custom chunk size specification for MDRaidArrayDevice

commit 36c78aa6b46d78a7d93b19f7c61a3d11a6354f17
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Mar 9 09:56:19 2016 -0800

    Add zanata-python-client to TEST_DEPENDENCIES
    
    The tests run the translation-canary test which needs the translations,
    so this makes sure you can pull them down for the test.

commit 8568bbf1432db88db7db47bcced7e029be9c0e23
Merge: fefa39bb 58a1dae3
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:05:54 2016 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit 58a1dae3e7c0908419bd9333e1fddccd414c5f95
Merge: 01347500 8cc3047e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:05:53 2016 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit 8cc3047e464cd6a4909617d02b0d75625b19de1b
Merge: 66c2d0fe ee88bf38
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 14:05:51 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit ee88bf38332be04aeb999317b892657e206c690b
Merge: f1aec912 f8213903
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 12 13:31:49 2016 -0400

    Merge pull request #415 from dashea/2.0-zanata-xml
    
    Remove the locale list from zanata.xml

commit fefa39bbc9bca05f3eaa6c8f285790ef65cde27c
Merge: 154edcd6 01347500
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 12 16:31:48 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 01347500936ceb45fb3bb937e9f95fe9d4ae2fa6
Merge: 7aea3148 66c2d0fe
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 12 16:31:04 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 66c2d0fed8a7ddba22848279f59f6f3f853116f5
Merge: 899573c4 f1aec912
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 12 16:31:02 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit f1aec91277b5967d973ef150332ad7466cc8e60d
Merge: 46bbb781 981d40be
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 12 16:13:06 2016 +0200

    Merge pull request #416 from vojtechtrefny/2.0-devel-protected_extended
    
    Fix protected status for extended partitions

commit 154edcd617de703a116a3a7e2c638a1e74bc135e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 4 16:35:08 2016 -0400

    Add a Commit method to DBusBlivet.

commit 2babdf7d6d3dea631afef664db2c3ce298bb1524
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 3 13:34:34 2016 -0400

    Update unit tests.

commit a1ffcfaeb121eb0833920cf236018cc6e895c8c2
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 17:44:44 2016 -0400

    Move removed devices and formats into different subtrees.
    
    This way users can look up the devices and formats associated
    with queued actions. The new subtrees are RemovedDevices/ and
    RemovedFormats/.

commit e6d9b5f51d478213bcf6b24476fb3601f50fcc59
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 16:50:59 2016 -0400

    Use the object manager to look up objects.
    
    Also remove get_object_path_by_id from DBusDevice and DBusFormat.

commit 8131f2d7e5f8f0a53530d0672b679450bd411ae8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 16:48:24 2016 -0400

    Add mappings of objects by id and object path to ObjectManager.

commit 3fb5aff640639c8e877d6db37aef92f55d5fe3e8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 16:46:09 2016 -0400

    Add an id property to DBusObject.
    
    Its value will be taken from a property of the same name in the
    underlying object.

commit b8fde3969bf350f5025bab5081078ad953227284
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 14:52:05 2016 -0400

    Add an Action interface to the dbus service.

commit 32d2452806ddfc85b89f13325c838c04fb2916ee
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 3 16:56:16 2016 -0400

    Make sure DBusFormat's Type property is always a string.

commit 61706dd60708b3e746f18f05cd655eeb31b1627b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 17:38:43 2016 -0400

    Pass blivet objects to blivet methods.

commit 131475d2d46db13ffc257e3c699becddb15f7ec6
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon May 9 15:14:18 2016 +0200

    Fix root detection on btrfs in rescue mode
    
    Mount btrfs volumes during rescue mode (to get list of its
    subvolumes) and include non-leaf btrfs subvolumes when looking for
    root devices.

commit 54c9671fda95f06c7cdb317f06043690daed8237
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon May 9 15:10:28 2016 +0200

    Use device's mount options when mounting existing systems
    
    E.g. 'subvol=...' when mounting btrfs subvolumes.

commit 7aea31485bcf31ef1c0bec8fc7a63885a938e8bb
Merge: 570036cd 899573c4
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 12 15:28:57 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 899573c474ac3506d81b9c9590cdd9e539f4b0c7
Merge: 871c2518 46bbb781
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 12 15:28:55 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 46bbb78184cf4c02be904bdb78ddd081691d0d1a
Merge: 10c26e6b 7cbc85ab
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 12 15:12:39 2016 +0200

    Merge pull request #411 from vojtechtrefny/2.0-devel-btrfs_rescue
    
    Fix root detection on btrfs in rescue mode

commit 570036cddb0a34a9a6318e7913cbe01bf31dee6d
Merge: 31da6a1b 634f23e4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 11 09:12:03 2016 -0400

    Merge pull request #410 from dwlehman/dbus-actions-path-keys
    
    Add an Action interface to the dbus service.

commit 981d40bed8c24687cbb6d60186d90ea09633dd29
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed May 11 10:35:26 2016 +0200

    Fix protected status for extended partitions
    
    Extended partitions should be protected also when at least one of
    its logical partitions is protected.

commit 153c255c57c8a06f453e8fda0b04c2fd8ae13369
Merge: 4a6cf202 31da6a1b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 11 10:47:28 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 31da6a1bdc0120ce2eee078809ec03b384a66a3f
Merge: 9e0a5b77 871c2518
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 11 10:47:27 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 871c2518963d9e6a77705d0706df0702fc2c21cd
Merge: 4aba084f 10c26e6b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 11 10:47:25 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 10c26e6bd7e6eacbf264ed4dd987e9a93fcaa0bb
Merge: 268bba51 9c26e3df
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed May 11 10:47:05 2016 +0200

    Merge pull request #414 from vpodzime/resolve_glob_docs
    
    Improve documentation of the udev.resolve_glob() function

commit 9c26e3df529ee8b0ce26bec27dde051557676549
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 9 16:06:25 2016 +0200

    Improve documentation of the udev.resolve_glob() function
    
    Otherwise people may be confused what it actually does.

commit 634f23e41f5c89048efd75c7c0040a9eb2b83d59
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 4 16:35:08 2016 -0400

    Add a Commit method to DBusBlivet.

commit d7347396d813fbc1ab7992356887ba16248991f1
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 3 13:34:34 2016 -0400

    Update unit tests.

commit c6bc5f359a9319edd1308f2dbefabb77233018fe
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 17:44:44 2016 -0400

    Move removed devices and formats into different subtrees.
    
    This way users can look up the devices and formats associated
    with queued actions. The new subtrees are RemovedDevices/ and
    RemovedFormats/.

commit cd64a675cc7afb21710f988a1027bd1fc8410e11
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 16:50:59 2016 -0400

    Use the object manager to look up objects.
    
    Also remove get_object_path_by_id from DBusDevice and DBusFormat.

commit 919074d0908fcdd87ced284d086973f2faca364a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 16:48:24 2016 -0400

    Add mappings of objects by id and object path to ObjectManager.

commit d3894786847ecf574ebc6560aa6cbfe1317743a4
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 16:46:09 2016 -0400

    Add an id property to DBusObject.
    
    Its value will be taken from a property of the same name in the
    underlying object.

commit 8f500170d4c99b276d4df7036d761e51011bb430
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 14:52:05 2016 -0400

    Add an Action interface to the dbus service.

commit 900b08b01ccadcd6c280ce4a7fc7dbe9ba8e786e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 3 16:56:16 2016 -0400

    Make sure DBusFormat's Type property is always a string.

commit 62a19540c48c66d171a1132ecfeecf7817c3638d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 17:38:43 2016 -0400

    Pass blivet objects to blivet methods.

commit f82139039d9d99491e4a8c66ba411416cc7d1c83
Author: David Shea <dshea@redhat.com>
Date:   Tue May 10 15:42:10 2016 -0400

    Remove the locale list from zanata.xml
    
    Zanata now manages this information on the server side and no longer
    includes it in the exported config file. Also, if the information on the
    server gets out of sync with the information in zanata.xml it causes a
    really confusing 403 error.

commit 4a6cf20236f1eee8a816a64da16d6e8d6f35fab9
Merge: c76594a9 9e0a5b77
Author: David Shea <dshea@redhat.com>
Date:   Tue May 10 13:27:38 2016 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit 9e0a5b7780c3037a023df5512ac549c3ea17f0e0
Merge: 92e0cf03 4aba084f
Author: David Shea <dshea@redhat.com>
Date:   Tue May 10 13:27:37 2016 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit 4aba084fd5d569f4280d023aae81b2522d46ac79
Merge: 770fc43f 268bba51
Author: David Shea <dshea@redhat.com>
Date:   Tue May 10 13:27:07 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit 268bba51acb149e19da54c4beb8776e515ed4309
Merge: 3571c9c9 7c62bf9c
Author: David Shea <dshea@redhat.com>
Date:   Tue May 10 13:26:24 2016 -0400

    Merge pull request #408 from dashea/2.0-new-canary
    
    Update the translation-canary tests and do not run tests on translated strings as part of the CI checks.

commit 7c62bf9c271fdffa2a7195844a1dd79f3be2dae2
Author: David Shea <dshea@redhat.com>
Date:   Fri May 6 12:02:35 2016 -0400

    Do not test translated strings during make ci.
    
    Translated strings will still be tested while creating the release
    tarball in order to remove invalid translations, and the translatable
    string tests will still be run during make ci, but errors in translated
    strings will no longer be treated as a test failure.

commit 1bed0b6f41385842015aef8f552fe2cce7f6af35
Merge: 3571c9c9 ea6137e7
Author: David Shea <dshea@redhat.com>
Date:   Mon May 9 16:43:28 2016 -0400

    Merge the latest changes from translation-canary.
    
    The most useful part of this to blivet is that msgfmt -c is now run as
    one of the tests on translated strings, which will catch errors
    involving format strings and newlines and other things that gettext can
    detect.

commit ea6137e7ff19f9b2d3f459a27df8a5ed53eb7562
Author: David Shea <dshea@redhat.com>
Date:   Mon May 9 16:43:28 2016 -0400

    Squashed 'translation-canary/' changes from 5a45c19..3bc2ad6
    
    3bc2ad6 Removed an extra space in the README
    51ea933 Fixed a couple license comments missing newlines.
    5d06870 Revert "Add system-config-kickstart to the project list."
    80e6c73 Add system-config-kickstart to the project list.
    840c2d6 Use a fresh podir for each project
    edda4ea Add an option to remove translations but leave LINGUAS
    eadf7f4 Add a script to test translations from zanata
    f40267d Add msgfmt -c as a translated test.
    20a4f3f Display the translated string in markup failures.
    0ca51e8 Add tests for the top-level functions
    c8473bb Change the translated tests to run on .po files.
    63ca923 Merge commit 'ccb642e21fbef516f0cb205931e04f80b93ae128' into HEAD
    ccb642e Fix load_module call in translation-canary.
    d6c0708 Remove the reference to the interruptible system call check.
    
    git-subtree-dir: translation-canary
    git-subtree-split: 3bc2ad68a8085574043a39b2c1bb46bd2ce3ead9

commit 7cbc85ab0449d51d3c399a593bd524cad8207277
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon May 9 15:14:18 2016 +0200

    Fix root detection on btrfs in rescue mode
    
    Mount btrfs volumes during rescue mode (to get list of its
    subvolumes) and include non-leaf btrfs subvolumes when looking for
    root devices.

commit bf8fd29fc0408ee019eb2a9897ceb6969206307b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon May 9 15:10:28 2016 +0200

    Use device's mount options when mounting existing systems
    
    E.g. 'subvol=...' when mounting btrfs subvolumes.

commit e5e4e48f76bb6a9e8310886f7e3c09e2cd6986a7
Author: David Shea <dshea@redhat.com>
Date:   Fri May 6 13:51:18 2016 -0400

    Add the P_ keyword to xgettext.
    
    The plural string, "RAID level %(raidLevel)s requires that device have
    at least %(minMembers)d member(s)." was not being included for
    translation.

commit c76594a9dcca62afb1c99b4762f29cee4533150e
Merge: e2083621 879ba3a8
Author: Samantha N. Bueno <snbueno@users.noreply.github.com>
Date:   Wed May 4 20:43:06 2016 -0400

    Merge pull request #398 from snbueno/rm-installer-mode
    
    Remove installer mode

commit 879ba3a88fff3f4e23257491de197bd6ffc1130c
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed May 4 12:27:59 2016 -0400

    Move some more installer-specific methods and values into blivet.osinstall.
    
    This moves all of the default stub values defined in blivet.__init__ to
    blivet.osinstall, as well as some methods, so:
    
    * all of the constants
    * enable_installer_mode
    * get_sysroot
    * get_target_physical_root
    * set_sysroot
    
    blivet.blivet does rely upon calling short_product_name (one of the pieces
    moved into osinstall) as well as sysroot and storage root. To account for
    that, created some properties in the Blivet class with a default value.
    These are rw properties, so they can be changed if need be.
    
    This also moves update_from_anaconda_flags() out of blivet.flags and
    into blivet.osinstall, since it's another installer-specific piece. Some
    flags which were set in update_from_anaconda_flags() are now set in
    enable_installer_mode() -- these are flags that were not actually
    updated based on anaconda flags.

commit 49f8088da87d3fa1224f1792d321935bbeeb2232
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed May 4 12:27:59 2016 -0400

    Mv copy_to_system from blivet.util to blivet.osinstall
    
    As this seemed installer-specific, it seemed fine to move it out of
    blivet.util and into blivet.osinstall.

commit d518ec00f41e56c97777aedeb06264bfe2434744
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed May 4 12:27:59 2016 -0400

    Get rid of flags.installer_mode
    
    Lots of stuff happens here to reach the end goal of no installer_mode:
    
    * shutdown() is mv'ed from blivet.blivet to blivet.osinstall; as this
    only runs if you're doing an installation, that seemed appropriate.
    
    * every flags.installer_mode check was removed from blivet.osinstall;
    since you are going to be installing if you use anything in
    blivet.osinstall, checking for installer_mode is redundant.
    
    * every flags.installer_mode check was removed from blivet.udev;
    now there is a blivet.device_name_blacklist list which is empty by
    default; if there are any members, the list is iterated over and
    matching devices are blacklisted as expected.
    
    * blivet.blivet now relies on some localized logic to determine
    whether or not to run additional code, instead of checking
    flags.installer_mode.
    
    * installer_mode was removed from blivet.flags, and is no longer set
    in enable_installer_mode() method.
    
    * selinux test was altered to compensate for the loss of
    flags.installer_mode

commit 4d97a63f205831d3ea78c7cf42f8c1095c2b6f1b
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed May 4 12:27:59 2016 -0400

    Create flags.keep_empty_ext_partitions
    
    If this flag is set to True, empty extended partitions will not be
    removed if/when this flag is checked.

commit 7215571cc5328422d88570140e022fe529e2bb7f
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed May 4 12:27:59 2016 -0400

    Create flags.selinux_reset_fcon
    
    If this flag is set to True, a forced reset of the selinux file context
    may take place if/when the flag is checked.

commit d15a7dd3aeb74fb1a7f08092975a4fb04d45fc6f
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed May 4 12:27:59 2016 -0400

    Create flags.auto_dev_updates
    
    This is intended to be a flag set to False by default in blivet, since
    (forced) automatic updates of a device's info or status should not be
    necessary. In some circumstances (e.g. in the installer), a situation
    may arise where it is necessary, so this flag is set to True in those
    instances.

commit e20836216f3bee5387c02058b19660d6714e54be
Merge: d87d0e77 92e0cf03
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 4 18:08:44 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 92e0cf0303e4d6781bab01f407d6d445ba8b63c4
Merge: 6abb5366 770fc43f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 4 18:08:43 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 770fc43f6139333e6e2e5213c489fa57a6d853ca
Merge: 4ef4e676 3571c9c9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 4 18:08:41 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 3571c9c97375da9f76615f50ee475c3261ae50ab
Merge: e7dcc139 e7bef296
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed May 4 18:08:20 2016 +0200

    Merge pull request #407 from vpodzime/disable_confused_pylint
    
    Ignore pylint being confused with our mixins' properties

commit e7bef296525725f43e82e86f9a1a188dae045491
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 4 17:24:02 2016 +0200

    Ignore pylint being confused with our mixins' properties
    
    Pylint somehow fails to figure out that 'parent_lv' is a property of the mixin
    class and reports it to be a method which doesn't have any 'size' member.

commit d87d0e77324bda872b9dbb8659e556256398a58b
Merge: 7a87c835 9bf706a5
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed May 4 09:49:53 2016 +0200

    Merge pull request #405 from vpodzime/no_default_rounding_mode
    
    Always require the rounding mode to be specified for Size

commit db4012ed7b2e5a84cf0c7e9c2351d3df80ae12e4
Author: Robert Marshall <rmarshall@redhat.com>
Date:   Mon Apr 25 13:17:12 2016 -0400

    Add xfs to default filesystem types
    
    XFS is the default filesystem type for several of the current linux
    distributions. It should be included as a potential default filesystem
    type in the constructor list.
    
    Related: rhbz#1242666

commit 7a87c83545a8a864ef0ee2d088ebcc83574fec6a
Merge: d059939d 6abb5366
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 3 12:14:47 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit 6abb536611f4a50c8c38c369895a7bc7ce6f91b1
Merge: 1de81b14 4ef4e676
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 3 12:14:46 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 4ef4e67642447253bbd09a525ff14920149952f0
Merge: 8d858ddf e7dcc139
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 3 12:14:43 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit e7dcc1392461f1f9f69313ef20ba0f7edbf523cf
Merge: f6ca57af 1d5896b0
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue May 3 12:12:54 2016 +0200

    Merge pull request #402 from vpodzime/reset_speedup
    
    Some low-hanging fruit to speed reset() up

commit 1de81b147fa0575b29c69e1d39d20869d207a348
Merge: d8dcbcf5 0cc9bb84
Author: David Lehman <dlehman@redhat.com>
Date:   Mon May 2 12:38:43 2016 -0400

    Merge pull request #400 from dwlehman/dbus-formats

commit 0cc9bb8420f7398ae371b4fe8d2485f21886eb5b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 12:13:19 2016 -0400

    Add a Format interface to the dbus service.

commit 9bf706a593436f744ccdd188b292b890e74a060c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 2 17:53:29 2016 +0200

    Always require the rounding mode to be specified for Size
    
    It's always a bug to rely on some default rounding when storage is part of the
    game.

commit d059939dfa5630ec7203d9bff5dd43db29ad8534
Merge: f3127937 d8dcbcf5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 2 17:48:03 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit d8dcbcf5436042834fadb5f488df6cb717a882e8
Merge: ba1ee2f1 8d858ddf
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 2 17:48:02 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 8d858ddf17eef15619d502b9b869d6b64298a98f
Merge: 546e5364 f6ca57af
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 2 17:47:59 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit f6ca57afc658fbe04957596f75ad62661f2d3b30
Merge: a7a60868 f38d89ca
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon May 2 17:46:12 2016 +0200

    Merge pull request #399 from vpodzime/size_tests_fix
    
    Size tests fix

commit f38d89ca2984662399081aebb390169720349992
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 2 14:16:38 2016 +0200

    Get back to use ROUND_HALF_UP by default
    
    Rounding half up is the most natural rounding mode. It however doesn't make much
    sense in most of the calculations related to storage so we should try to explain
    developers that they should think about and specify the rounding mode. Removing
    the default would change the API.

commit 1d5896b0b22525000aa9271f65d43a0666a9aaba
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 29 14:11:19 2016 +0200

    Let Python import the formats for us
    
    This seems to be faster than our custom code which currently brings no real
    advantage as we don't want to support some random formats given to us by
    somebody else.

commit 86bbc98fd7a728285d303f0494c46388adbd87ca
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 27 16:23:01 2016 +0200

    Only call resolve_devspec() in _get_active_mounts() for real devices

commit c10440d9e584882550c9c73c3c35160e1050e692
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 15:49:13 2016 +0200

    Call is_mpath_member() only when it makes sense

commit f3127937eca8e5ee11a401b090c49a17479eb31e
Merge: 97264219 ba1ee2f1
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 29 19:04:10 2016 +0200

    Merge branch '2.2-devel' into 3.0-devel

commit ba1ee2f1885054848d965f4df510b0a37831190f
Merge: de922ff9 546e5364
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 29 19:04:09 2016 +0200

    Merge branch '2.1-devel' into 2.2-devel

commit 546e5364119dc96d04c9c9c8735f43dca871b65e
Merge: 9dc3ae40 a7a60868
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 29 19:04:07 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit a7a608688eb09119e7f54acf6ae1cc1fa8e20a4e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 29 10:15:55 2016 +0200

    Break the cycle in LVMPhysicalVolume.destroy (#1331630)
    
    If pvremove() fails, we need to jump to DeviceFormat._destroy() not destroy()
    because destroy() calls self._destroy() which jumps to
    LVMPhysicalVolume._destroy() again because 'self' is a LVMPhysicalVolume
    instance.
    
    (cherry picked from commit 67331daf52c9fd59646c52372cba59663bdb5082)

commit de922ff900b0f1d1ae7c544f22dfa1c8a167e5e8
Merge: 747ba3be e4c78877
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 12:42:33 2016 -0400

    Merge pull request #396 from dwlehman/dbus-initialize-disk

commit e4c788773782c953b4167756b1812e5fc3bcd259
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 28 17:24:27 2016 -0400

    Add method DBusBlivet.InitializeDisk.

commit 747ba3be9f8981482f1482086c3d90ddc3aee935
Merge: 948c515c 26e065d1
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 12:40:44 2016 -0400

    Merge pull request #394 from dwlehman/dbus-remove-device

commit 26e065d111e4eeb43dbe3240b9540450c6eb3f7f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 28 17:22:15 2016 -0400

    Add a unit test for DBusBlivet.RemoveDevice.

commit 1a8dfe21dfa1086dade81bed98f933545aa77053
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 28 16:36:33 2016 -0400

    Maintain a mapping of object path to DBusDevice in DBusBlivet.
    
    This is far more efficient given the frequency of device
    lookups by object path as necessitated by the dbus interface.

commit 3cd9bacb1d626411afe326dd53093fefa7a6de49
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 28 16:17:20 2016 -0400

    Correctly handle failures in ResolveDevice.
    
    You can't return "" when your out signature is expecting an
    object path. It's better to return an error instead.

commit 7ff30d3adf20e97e9d8f0b97255dac16865a99bb
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 09:48:04 2016 -0400

    Add a RemoveDevice method to DBusBlivet.
    
    This method implements DeviceTree.recursive_remove.

commit 98a6e3f11eab6bc93ff324024538061d32f86275
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 28 12:17:33 2016 -0400

    Convert event handling change accounting to use blivet callbacks.
    
    There will be some spurious format-changed entries because the
    callback is run even when the format is set from the device
    constructor.

commit 0ee712ef229b3f045d1e0aa29db5ab7115c07d57
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 16:21:42 2016 -0400

    Add a set of callbacks for changes to blivet's view of things.

commit 802fe844643d64726dab3d1bc4637779376718be
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 28 15:51:06 2016 -0400

    Allow replacing an active format within blivet's model.
    
    There is no reason to disallow this that I can think of as
    we can tear things down right before we commit the changes.

commit 948c515c035e5482c26c60ad9835ff6e53d1bb3d
Merge: b53564f0 f29dab9a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 29 12:30:06 2016 -0400

    Merge pull request #392 from dwlehman/dbus-devices
    
    Add a Device interface to the dbus service

commit f29dab9a82b44fac483d71c432a40a0bb2ca51b1
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 10:03:26 2016 -0400

    Add the beginnings of an example client.

commit aa96f2eb0a203d662c0dfb251f2795c15d420370
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 10:03:26 2016 -0400

    Add a Device interface to the dbus service.
    
    A subtree will be added at /com/redhat/Blivet1/Devices/ with entries
    for individual devices using the device's id, eg:
    
      /com/redhat/Blivet1/Devices/10
    
    referring to the StorageDevice whose 'id' attribute is equal to 10.

commit c88518b25f0f3b341166c7d464a8b000f9d0d351
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 29 16:42:54 2016 +0200

    Use libbytesize's translations for Size tests
    
    The translations are provided by libbytesize.

commit 152b4f56b6e7843eb6cff812cdb94b53f3ca951b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 10:03:26 2016 -0400

    Add an ObjectManager interface to the dbus service.
    
    With this patch, the DBusBlivet object moves to
    /com/redhat/Blivet1/Blivet to make room for the ObjectManager
    at the root (/com/redhat/Blivet1).

commit b367d4593dd618f758e5115c2c0c4e319f304ec2
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 10:03:26 2016 -0400

    Make DBusBlivet names more dbus-like.

commit 23fd0a0d0196c6ee20c8062b451f7dc12b8be953
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 10:03:26 2016 -0400

    Clean up org.freedesktop.DBus.Properties code in DBusObject a bit.

commit 4087d78b0a771614d3d392d664315e122c586d2c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 10:03:26 2016 -0400

    Move constants into a separate module.

commit 056cf9fc51f569b3b0a39c928d3c3a3054392d36
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 10:03:26 2016 -0400

    Convert some private methods to public properties.
    
    These are going to be widely used both within and between instances
    of these classes.

commit 8226f886eecf42fef9c6b545cb8cf710c8546c6e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 27 10:03:26 2016 -0400

    Import the whole dbus module in a couple of places.
    
    We're using a lot more than just dbus.services.

commit 4980b5b21c658f9d2ebef2458a6aba3590dc765e
Author: Robert Marshall <rmarshall@redhat.com>
Date:   Fri Mar 11 16:45:26 2016 -0500

    Fix blivet constructor fs support check
    
    Calls to get_default_filesystem_type check to see if the filesystem is
    supported by the installed operating system. The boolean flag that
    indicated support was actually returning an instance of the property
    object which, when cast to a boolean type, is always True.
    
    Converted to call the actual boolean property and made the error handler
    return False instead of None for consistency with the property.
    
    Related: rhbz#1242666

commit d5df9b95ed8e619262861a07781abf4066bd5dc2
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Apr 25 14:22:37 2016 +0200

    Do not put LVM stuff into syslog
    
    We already have this in a separate lvm.log file. There's no need for the
    duplicity and since the LVM log can be really huge [1], it can save a lot of
    space.
    
    [1] https://bugzilla.redhat.com/show_bug.cgi?id=1327091

commit 972642199f61088dc9d3b2cc9c7c771b3198c374
Merge: 2feddec6 9dc3ae40
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Apr 25 14:09:14 2016 +0200

    Merge branch '2.1-devel' into 3.0-devel

commit 9dc3ae40b147ca0aa7f9ac9827901bdf5ae95874
Merge: f5a14e79 e2ba4856
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Apr 25 14:08:27 2016 +0200

    Merge pull request #379 from vojtechtrefny/2.1-devel-errors
    
    Add name of problematic device to UnusableConfigurationError

commit 6e45a8da4bf5c5ba469ecf3d45e951595aa60e95
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 22 11:04:54 2016 +0200

    Show changes for each branch in git-multi-merge before pushing
    
    This provides a nice visual check and can prevent some unwanted changes to be
    pushed.

commit 2feddec6245401c6ee8d17288d4789cf57069bb5
Merge: 57b12c27 f5a14e79
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 22 11:03:31 2016 +0200

    Merge branch '2.1-devel' into 3.0-devel

commit f5a14e793f8b5ff9dd33fae73d4136c170eb7f90
Merge: 3eaa8b87 29c47343
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 22 11:03:29 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 29c473436d5328f4919d2b7febe66ac53ba9f68c
Merge: d828deec 3217ec05
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Apr 22 10:53:23 2016 +0200

    Merge pull request #385 from vpodzime/compare_before_division
    
    Compare sizes instead of numbers of sectors

commit 57b12c2760310650086cbb937a7f1359dd6e26b2
Merge: 6013b88b b53564f0
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 21 12:55:26 2016 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit b53564f0dce932942bdcf4915dd11ad7446d2999
Merge: af5d09a0 be1bff8e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 21 12:42:25 2016 -0400

    Merge pull request #384 from dwlehman/dbus-minimal
    
    Initial dbus interface.

commit 6013b88b815d081d1f97cf063a31cce19f0d43dc
Merge: 185848d7 af5d09a0
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 21 10:46:19 2016 -0400

    Merge branch '2.2-devel' into 3.0-devel

commit af5d09a03e92b0b329c17f3daddc02af72eeee14
Merge: 8b4fe61e 3eaa8b87
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 21 10:45:56 2016 -0400

    Merge branch '2.1-devel' into 2.2-devel

commit 3eaa8b8784f8c59b8daaf110eab3d293b23b3a73
Merge: 8b4fe61e d828deec
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 21 10:45:25 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit d828deec817ba8cdefa6d14e4ed2a797baa6dc8c
Merge: 05cb16ce 7ecae416
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 21 10:41:03 2016 -0400

    Merge pull request #383 from dwlehman/obsolete-python2-blivet
    
    Obsolete python-blivet and blivet-data packages.

commit 3217ec05e03084143c3fdff714028859f5cd6e7f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Apr 21 13:38:25 2016 +0200

    Compare sizes instead of numbers of sectors
    
    Instead of dividing two potentially big sizes by sector size and then comparing
    the numbers of sectors we can compare the sizes and divide just the smaller
    (more limitting) one. This is a minor optimization, but more importantly a nice
    way to prevent issues with really big numbers that may not fit into 64bits (Size
    divided by Size is a number).
    
    Related: rhbz#1326897

commit be1bff8ea8b75e2b66393b2106974140982b03c1
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 7 13:12:36 2016 -0400

    Add a minimal dbus interface.
    
    This doesn't do anything except populate the devicetree, list the
    devices, and resolve device specs. The purpose of this is mostly
    a proof of concept and to get the framework in place.

commit daf967c6c70c563a1a1655dd209312ac5713a656
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 12 14:02:06 2016 -0400

    Rearrange the setup call to minimize changes on updates.
    
    When bumping the version or adding a package we should
    change as little of the existing text as possible.
    
    Also use a better link for the project homepage.

commit 10598b4872e68b294ae33d92c475c10bde6a7349
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 12 13:59:45 2016 -0400

    Remove unused readthedocs code from setup.py.

commit b9ec79673e09a541e87627f90d2caf522d1bcf76
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 12 15:56:04 2016 -0400

    Ignore all merge commits when making rpm log.
    
    Also remove l10n lines.

commit 185848d7e2afd106eeb29792f2658d7fd221e38d
Merge: 3ed0520e 8b4fe61e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 20 15:25:38 2016 -0400

    Merge branch '2.1-devel' into 3.0-devel

commit 8b4fe61ed1032a28331c24e0692541f6f7d758c7
Merge: bbaea144 05cb16ce
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 20 15:24:03 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit 7ecae416b20045f04fbcca41bedce232a9b9df3f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 20 14:45:13 2016 -0400

    Obsolete python-blivet and blivet-data packages.
    
    This should make it possible for users to update rawhide
    smoothly, unless they have something installed that still
    requires the older python-blivet that isn't getting updated.

commit 9e496fcf272b54bf43578bc2c44ab8df45612f1b
Author: Robert Marshall <rmarshall@redhat.com>
Date:   Mon Apr 18 11:11:02 2016 -0400

    Kickstart missing bootloader partitions (#1242666)
    
    Blivet generates the information about user defined custom partitioning
    that is used in the kickstart file. The output was missing the biosboot
    and prepboot data rendering the kickstart unusable for automated
    installation using the generated file.
    
    Added code and unit tests to add and verify the presence of the
    bootloader device in the generated kickstart data.
    
    Resolves: rhbz#1242666

commit e2ba485695e06edd224491733da94bfcb21f2d40
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Apr 19 12:28:32 2016 +0200

    Add name of problematic device to UnusableConfigurationError

commit 05cb16ce4f96ff0f7204053c4328bb3e6eaa0e8e
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Apr 19 13:05:48 2016 -0400

    Increase the default size of /boot to 1 GB. (#377)
    
    This provides more space to store yet more kernels.
    
    Resolves: rhbz#1270883

commit 3ed0520e7503c885062e60ae41116de967477b9f
Merge: 5e3d5d34 bbaea144
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 19 17:47:11 2016 +0200

    Merge branch '2.1-devel' into 3.0-devel

commit bbaea144f8a32058791bb85af404199db2c7e724
Merge: b8c94063 208b905b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 19 17:47:09 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 208b905b43189730797e9a7f9a94f64e39c430d0
Merge: e4b8304e 3a66a42e
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Apr 19 17:46:18 2016 +0200

    Merge pull request #368 from vpodzime/multi_merge_script
    
    A simple script for multi-merges we now do

commit 5e3d5d34a6be76fb9b22dc863ae55c4891cdc4cf
Merge: 1df5913f b8c94063
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Apr 19 10:40:30 2016 +0200

    Merge branch '2.1-devel' into 3.0-devel

commit b8c940634e713a68ccf5d727969b5cdd5f47d4d2
Merge: 7d82d78b e4b8304e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Apr 19 10:40:19 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit e4b8304e2b83d7b5b23803fbf250132b8f9d0ea6
Merge: ce0409c9 e65aefce
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Apr 19 10:33:42 2016 +0200

    Merge pull request #374 from vojtechtrefny/2.0-devel-subvolid
    
    Do not add btrfs volume subvolid to subvolumes mountopts (#1306808)

commit e65aefce85837671310a5a7c037254d27c32fd0c
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Apr 15 11:33:23 2016 +0200

    Do not add btrfs volume subvolid to subvolumes mountopts (#1306808)

commit 1df5913fd7933e696795a44c7ed48efe36bcd034
Merge: 18bfbe22 f1d67313
Author: Samantha N. Bueno <snbueno@users.noreply.github.com>
Date:   Fri Apr 15 19:27:15 2016 -0400

    Merge pull request #369 from snbueno/bootloader-isolation
    
    Installer Isolation: part two (bootloader)

commit f1d67313c0b01222516b57843d68c28cbac249f9
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Fri Apr 15 17:43:02 2016 -0400

    Isolate some boot device operations in blivet.partitioning.
    
    Two pieces of bootloader logic are a bit isolated now, thanks to an
    optional kwarg which can be passed into do_partitioning and
    allocate_partitions (boot_disk).
    
    The default value for this kwarg is None, since a Blivet instance is
    not going to have this defined (or need to worry about it). However,
    if it is defined, e.g. in an InstallerStorage instance, one should
    take care to pass this value in if/when a call to these functions is
    made.
    
    The logic which has been isolated handles sorting the boot disk to be
    at the beginning of the disk list. Another piece of logic sets the boot
    flag on the boot device.
    
    This also specifies a Blivet spec to use in the Mock constructor for
    partitioning tests, otherwise they fail by trying to run a piece of
    code specific to InstallerStorage.

commit 8ee2507e537efdd35991d448f94babd90a6419d5
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Fri Apr 15 17:43:02 2016 -0400

    Move bootloader stuff from Blivet to InstallerStorage.
    
    This moves a number of things out of Blivet class and into
    InstallerStorage, particularly:
    
        _bootloader (attr)
        bootloader (prop)
        update_bootloader_disk_list
        set_up_bootloader
        boot_disk (prop)
        boot_device (prop)
        bootloader_device (prop)
        boot_fstypes (prop)
        default_boot_fstype (prop)
        set_default_boot_fstype
    
    Blivet.get_fstype had to also be reduced a bit for the specific
    default_boot_fstype call which was moved into InstallerStorage.

commit 18bfbe2296937ac010faaa2c1fb440685fd42fee
Merge: 614ed83b 8480ab9d
Author: Samantha N. Bueno <snbueno@users.noreply.github.com>
Date:   Fri Apr 15 09:17:23 2016 -0400

    Merge pull request #370 from snbueno/installer-isolation-bugfixes
    
    Some small, stupid bugfixes to first installer isolation patch set.

commit 8480ab9d9d495cc4cee4a0ee778a78ab90ef8dbe
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Apr 13 09:27:57 2016 -0400

    Some small, stupid bugfixes to first installer isolation patch set.
    
    Well, this is what I get for not testing thoroughly. And what I at
    first attributed to rawhide problems actually turned out to be....well,
    my problems. Fortunately, not many though.
    
    * osinstall.InstallerStorage.mountpoints needed the @property heading.
    Oops.
    
    * Apparently I forgot, in one of my few manual rebases, to actually
    move get_free_space into osinstall.InstallerStorage. Mega-oops.
    
    * And some smaller issue with protected devices, where I was just
    passing the wrong variable into a function.

commit 3a66a42e624d7caed04bc30a07610060ebad92fb
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 12 09:59:15 2016 +0200

    A simple script for multi-merges we now do
    
    Merging PRs into multiple branches is a tedious and error prone work. In order
    to make our lives easier, here comes a simple script doing the multi-merge in a
    way we want it to happen.

commit 614ed83b5d31686cecbbfeb9cbcf0dee47ca3f9c
Merge: e6356ec5 7d82d78b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 13 08:57:15 2016 +0200

    Merge branch '2.1-devel' into 3.0-devel

commit 7d82d78b974494604b8b6e2f89a49286ead4cb4d
Merge: 8a301daf ce0409c9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 13 08:57:12 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit ce0409c9ee06396dbf9af674aab07f828baf685a
Merge: 4262fed8 46345da4
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Apr 13 08:52:18 2016 +0200

    Merge pull request #365 from vpodzime/no_iscsi_import
    
    Only import the 'iscsi' singleton when really needed

commit e6356ec517b1a0e4b35da0be5ef92637c95596f0
Merge: ac2e6bd9 8a301daf
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Apr 12 14:06:25 2016 -0400

    Merge branch '2.1-devel' into 3.0-devel
    
    * 2.1-devel:
      Make sure to add hyperPAV aliases to dasd.conf.

commit 8a301daf7cb05fef293f48e71782001637cf1091
Merge: ec5ce72d 4262fed8
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Apr 12 13:56:09 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel
    
    * 2.0-devel:
      Make sure to add hyperPAV aliases to dasd.conf.

commit 4262fed8fc9792e5b13809fb3ac00ecc03591871
Merge: 9a8c5449 4bc1b660
Author: Samantha N. Bueno <snbueno@users.noreply.github.com>
Date:   Tue Apr 12 12:29:51 2016 -0400

    Merge pull request #357 from snbueno/1031589-20devel
    
    Make sure to add hyperPAV aliases to dasd.conf.

commit ac2e6bd98a9348f45e321b66660ba4d7a545503d
Merge: 0f1d24be ec5ce72d
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 12 10:31:10 2016 -0400

    Merge branch '2.1-devel' into 3.0-devel

commit ec5ce72d078c244a88c365371775a089fb8ae9f5
Merge: 6924048b 9a8c5449
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 12 10:30:01 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit 9a8c544925af1f4bb21f8737342403e9e1c3b9bf
Merge: 27602144 e5a07647
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 12 10:29:58 2016 -0400

    Merge pull request #362 from dwlehman/contributing-update
    
    Update CONTRIBUTING file to match current practices.

commit e5a076478cf4837d6da89d20aa8cdf38b0e9d5a8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 7 16:21:01 2016 -0400

    Update CONTRIBUTING file to match current practices.
    
    I tried to make it much shorter to increase the
    chances of people actually reading the whole thing.
    
    I also converted it to ReST so it will render nicely
    on github.

commit 0f1d24be9d051db5c003738be0b59d87b36b8a1c
Merge: 45117ced 6924048b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 12 09:52:17 2016 +0200

    Merge branch '2.1-devel' into 3.0-devel

commit 6924048b1259d282a1d1a07a3d6cb36e3b6d42fb
Merge: d7fa58f0 27602144
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 12 09:52:14 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 45117ced10be452791a091d752903434d8396eac
Merge: 2970c35b d7fa58f0
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Apr 12 09:33:09 2016 +0200

    Merge branch '2.1-devel' into 3.0-devel

commit d7fa58f0840b0f4e9c22796fcb36fc3e5fc1457d
Merge: cc60cf46 71998425
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Apr 12 09:33:07 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 27602144c46d9ca05bde52539617bd50913fd2ad
Merge: 71998425 9fe5daf3
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Apr 12 09:32:23 2016 +0200

    Merge pull request #366 from vpodzime/internal_raid_lvs
    
    Correctly recognize internal RAID LVs

commit 71998425bc09d06478fa0fd11df191fb708a16d0
Merge: 6426d1ff e012b9a1
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Apr 12 09:20:08 2016 +0200

    Merge pull request #361 from vojtechtrefny/2.0-devel-slaves
    
    Do not add mdarray with no slave (#1321393)

commit 46345da405b611437e77a7e6161465bcc8c35428
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Apr 11 13:29:34 2016 +0200

    Only import the 'iscsi' singleton when really needed
    
    If its imported for the class the import happens when the class is being
    initialized and thus when the module is imported. Initializing the iscsi
    singleton may take time (especially when things go wrong) which makes the import
    take more time than an import should take (basically none).

commit 9fe5daf3c4a69cd1770f94e5b8ef48613e89d10e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Apr 11 15:23:27 2016 +0200

    Correctly recognize internal RAID LVs
    
    If an internal LV is a RAID LV, its lv_attr is really interesting. Usually (bug
    in LVM?) it has 'r' as the first letter so we need to allow that and then do
    some magic to correctly determine the role(s) of the LV.
    
    Using 'lvs -o+lv_role' would be much better for this, but I only learnt about it
    today and using it would require more changes (incl. some in libblockdev).

commit 2970c35b53eae4c1382b832f1b8e71799c4a2374
Merge: 6a88985b 6426d1ff
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 8 15:14:53 2016 +0200

    Merge branch '2.0-devel' into 3.0-devel

commit cc60cf468765f62ec665609f0119dfbb20d688c6
Merge: c99ea94b 6426d1ff
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 8 15:14:51 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 6426d1ff1645c7169cc9327f996950b0c5f7bd88
Merge: 38fb308c 5677fc60
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Apr 8 10:40:58 2016 +0200

    Merge pull request #359 from vpodzime/dev_factory_except
    
    Preserve traceback when re-raising exceptions

commit e012b9a127af15ebd38739b1a22e5ff638793c00
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 7 10:53:04 2016 +0200

    Do not add mdarray with no slave (#1321393)

commit 6a88985b53590cc47b93343171eae63b6bf51abd
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Mar 22 14:52:35 2016 +0100

    LVM data are now global
    
    - created new singletons from lv_info and pv_info
    - edited the code to use them
    - updated test to reflect the interface changes
    - updated LVM tests

commit c99ea94b593e9e5d1eaabbeb6d96c5e8f948fe96
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Mar 22 14:52:35 2016 +0100

    LVM data are now global
    
    - created new singletons from lv_info and pv_info
    - edited the code to use them
    - updated test to reflect the interface changes
    - updated LVM tests

commit 4bc1b660ef3d5e5ff4f16f79ec3ed7dff5fe8942
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Apr 5 15:21:53 2016 -0400

    Make sure to add hyperPAV aliases to dasd.conf.
    
    HyperPAV aliases enable improved I/O efficiency by allowing parallel
    access to a real DASD through a base subchannel (device) and multiple
    aliases.
    
    Unfortunately, while the kernel recognizes such devices, they don't
    seem to generate any actual udev events so that blivet picks them up;
    nor do these aliases have a device node. Thus, if they are used at all
    during installation, they are not brought online after rebooting, since
    they are on the device ignore list. They are not removed from the device
    ignore list since there is no entry in dasd.conf, so this patch loops
    through all DASD devices in sysfs and adds all detected aliases to dasd.conf.
    
    (HyperPAV support was added in rhel7-branch quite a while ago, but
    I forgot to push it to any other branch as well.)

commit 38fb308cbbe00c7051e7ca8c6af41b5ffdeeffc1
Merge: bd5b4b2e e99d35fe
Author: japokorn <japokorn@redhat.com>
Date:   Wed Apr 6 17:14:31 2016 +0200

    Merge pull request #349 from japokorn/2.0-devel-singleton_refactor
    
    2.0 devel singleton refactor

commit e99d35fe95c43a4dccc3d03bfc1d5fa7cfa21d34
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Mar 22 14:52:35 2016 +0100

    LVM data are now global
    
    - created new singletons from lv_info and pv_info
    - edited the code to use them
    - updated test to reflect the interface changes
    - updated LVM tests

commit 5677fc60d18352ab2bd6a48cb35a8c5bb481d322
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 6 14:21:59 2016 +0200

    Preserve traceback when re-raising exceptions
    
    When raising an exception like with 'raise SomeException(str(e))', the traceback
    from the original exception is lost (just 'raise' to re-raise an exception is
    okay). Python 3 has an extended raise statement 'raise SomeException from e'
    which preserves the traceback. That's what we should use to make our lives
    easier when debugging issues.

commit f502bb67e66304395e680d0e46e08d06c1009855
Merge: 0d53b1b1 ea62e7ea
Author: Samantha N. Bueno <snbueno@users.noreply.github.com>
Date:   Tue Apr 5 11:52:39 2016 -0400

    Merge pull request #355 from snbueno/installer-isolation
    
    Installer isolation: part one

commit bd5b4b2ea62c43cabc27197b882859e077f072ef
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 4 14:52:22 2016 -0400

    New version: 2.0.2

commit ea62e7ea5515a9b0e2fd81ffba805680a7981a1a
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Apr 4 14:52:12 2016 -0400

    Update api to reflect changes from isolating installer-specific code.
    
    Remove a few methods and attrs that were removed from Blivet class, and
    add "mountpoints" attr which was added to DeviceTreeBase.

commit e3f3d0b122dae64370a5e9b75b74772c7f98f75e
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Apr 4 14:52:12 2016 -0400

    Update examples and test cases for changes from isolating installer code.

commit ca012242664ba2f351562f6d1b362ef9c5aaf7cd
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Apr 4 14:52:12 2016 -0400

    Get rid of blivet.blivet's last deps on blivet.osinstall
    
    The two dependencies we're eliminating here:
    blivet.osinstall.StorageDiscoveryConfig
    blivet.osinstall.find_existing_installations
    This has the added benefit of eliminating depedence on pykickstart.constants.
    
    Unfortunately this means changing a lot of stuff all at once, but these
    are mostly moves without any changes. Stuff that's now out of
    blivet.blivet.Blivet and now in blivet.osinstall.InstallerStorage:
        _free_space_snapshot (attr)
        free_space_snapshot (prop)
        create_free_space_snapshot
    
    Things which were changed in blivet.blivet.Blivet to eliminate dependence
    on anything in blivet.osinstall:
        reset
        get_free_space
    Those two methods exist as they originally were in
    blivet.osinstall.InstallerStorage now.
    
    InstallerStorage also handles protected devices now as well, so all of
    that logic has been moved out of blivet.populator.populator and into
    this class. Namely, three functions have been moved to InstallerStorage:
        _resolve_protected_device_specs
        _find_live_backing_device
        _mark_protected_device
    
    iSCSI, FCoE, and zFCP startup/config writes now take place in
    InstallerStorage.

commit b87f32d3dca45a332928fa7e9f6d31ed7be5f382
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Apr 4 14:52:12 2016 -0400

    Get rid of blivet.blivet's dependence on blivet.osinstall.FSSet
    
    All of the FSSet stuff pertains to installation, so move everything
    from Blivet to InstallerStorage subclass. The methods and properties
    moved are:
        file_system_free_space
        root_device (prop)
        update_ksdata
        _update_custom_storage_ksdata
    These now only exist in InstallerStorage.
    
    This also creates the "mountpoints" property in blivet.devicetree
    
    This property fits pretty nicely in conjunction with other properties
    living inside of the devicetree. It also simplifies things in
    blivet.osinstall.FSSet.

commit d3ac10d835e75f15629b26e1f8de743844523843
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Apr 4 14:52:12 2016 -0400

    Mv installer-specific functions to install. Create InstallerStorage.
    
    Two major things happen here:
    
    * Create InstallerStorage is created in blivet.osinstall
    This is a subclass of blivet.blivet.Blivet, except it also contains
    some installer-specific attrs and functions. Speaking of which--
    
    * Mv installer-specific functions and properties from Blivet ->
    InstallerStorage. That list is:
        empty_devices
        unused_devices (prop)
        should_clear
        clear_partitions
        format_by_default
        must_format
        turn_on_swap
        mount_filesystems
        umount_filesystems
        parse_fstab
        mk_dev_root
        create_swap_file
        make_mtab
        add_fstab_swap
        remove_fstab_swap
        set_fstab_swap
        autopart_type (attr)
    These were all removed from Blivet and are now in InstallerStorage.
    
    Blivet.do_it was very stripped down; all the installer-specific logic
    was moved into InstallerStorage.do_it.

commit 8832a9fb263878c6b41d8b53f73592ce391b8b91
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Apr 4 14:52:12 2016 -0400

    Move StorageDiscoveryConfig from blivet.blivet to blivet.osinstall
    
    As this is mostly pertaining to the installer storage configuration,
    move this into osinstall.
    
    In the interest of not breaking things between commits, I've placed a
    temporary import of blivet.osinstall.StorageDiscoveryConfig in blivet.blivet,
    since, for now, blivet still references it. This'll go away shortly
    once those functions get moved into their rightful place.

commit 9f47e0c64611d9412153d902371111bcd45a0aeb
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Apr 4 14:52:12 2016 -0400

    Move some StorageDiscoveryConfig attrs into Blivet.
    
    Move ignored_disks, exclusive_disks, and disk_images from
    StorageDiscoveryConfig to Blivet class. This allows us to isolate
    our dependence upon StorageDiscoveryConfig so we can later move it
    into blivet.osinstall.
    
    Update the devicetree function headers to take in these newly-moved
    attrs. With this, we break devicetree dependence upon
    StorageDiscoveryConfig.
    
    Also update populator function headers to take in newly-moved attr.
    With this, we also break populator dependence upon
    StorageDiscoveryConfig.

commit 0d53b1b1116226e5cfcf0add5b39230d96a57d1b
Merge: cc0a5388 27a336c6
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 4 11:41:48 2016 -0400

    Merge branch '2.1-devel' into 3.0-devel

commit 27a336c67f0ca98b0927e13125b25aa517407834
Merge: 88c833b9 a9498fe4
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 4 11:31:11 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit a9498fe462ada5c636c2e2f29bde9e8a5f0a7151
Merge: ad223c90 18432bc5
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 4 11:26:10 2016 -0400

    Merge pull request #354 from dwlehman/pep8-ped-get_name
    
    Fix mistake from PEP8 conversion. (#1323012)

commit cc0a5388356d80cd14b9d7522845caec5423a565
Merge: 55fcacc6 88c833b9
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 1 12:00:34 2016 -0400

    Merge branch '2.1-devel' into 3.0-devel

commit 88c833b945bee6974c3f0b76f3ed535d4f2721da
Merge: f46cfb29 ad223c90
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 1 11:53:19 2016 -0400

    Merge branch '2.0-devel' into 2.1-devel

commit ad223c903831d0730a372f6f9b1306332baf12d2
Merge: 16bd2068 8b637b3b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 1 11:47:08 2016 -0400

    Merge pull request #352 from dwlehman/anaconda-handle_format
    
    Fix PopulatorMixin.handle_format for anaconda (#1322943)

commit f46cfb29746396ef37302558a0dbb3d9aefae062
Merge: c38ec515 16bd2068
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 1 15:22:30 2016 +0200

    Merge branch '2.0-devel' into 2.1-devel

commit 55fcacc681d8e6be894ffd5929b78ab91debf655
Merge: 3acc15c9 16bd2068
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 1 15:13:32 2016 +0200

    Merge branch '2.0-devel' into 3.0-devel

commit 16bd20682e6e510f1fffc11368c2f637df79742c
Merge: c38ec515 8380e8ce
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Apr 1 14:58:25 2016 +0200

    Merge pull request #353 from vpodzime/thinp_autopart
    
    Set both req_size and size of thin pool when growing LVM

commit 18432bc5ef3f629bf3df08324768cb70129a17a2
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 1 08:50:37 2016 -0400

    Fix mistake from PEP8 conversion. (#1323012)

commit 8380e8ceda95f67d03ae228a2ab662979e10fb4c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 30 14:41:04 2016 +0200

    Set both req_size and size of thin pool when growing LVM
    
    This fixes an issue with growing thin pool requests where the thin pools don't
    have their size set but their req_size is set to the sum of their thin LVs.

commit 8b637b3b256b0691ce8c61fb230630b2803094eb
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 31 10:30:51 2016 -0400

    Retrieve udev info as needed in handle_format. (#1322943)

commit 3acc15c9928525ff609f06f7b71746ca1af83a18
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 31 10:30:51 2016 -0400

    Retrieve udev info as needed in handle_format.

commit c38ec515263895f6ba4c240a5387a79b9765035a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 30 16:21:00 2016 -0400

    Fix requires after subpackage switcharoo.

commit 697084d866bdb3d6556e372b126b42d354e77f4e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 29 14:31:56 2016 -0400

    Fix package naming in spec file.
    
    The SRPM must remain python-blivet since that's the name of the
    package in the fedora pkgdb. We just make the base package
    contain no files so the only rpm produced is python3-blivet.

commit 3310c1f46637f4258f2169210de49424788b8f5f
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 29 11:52:22 2016 -0400

    New version: 2.0.1

commit 729231b908e74aeb36de1b28c6fa4d665688311d
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 29 11:50:54 2016 -0400

    Teach makebumpver about the prerelease macro.

commit 9eef45870e06e99aa5f1e7dcfae6f029d74a6548
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 23 09:37:47 2016 -0400

    Make sure EddMatcher.root is a string.
    
    (cherry picked from commit 6df8445982deb90fce0a9f4187dc0bc007c5d6e9)

commit 2c28e876fdc94eb6f66c7125356d974559c71b82
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 22 15:16:24 2016 -0400

    Move per-thread change accounting to a function.
    
    This makes it convenient to ensure the current thread's local data
    has been initialized correctly. It also makes the calling code
    simpler.
    
    (cherry picked from commit 7b73b2bb481a7f48f1e93519f4e5384b326b51bb)

commit 50669d2469677086e1391b52180bcdfdfbe62b8c
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 21 13:40:27 2016 -0400

    Add missing conf kwarg in call to PopulatorMixin ctor.
    
    (cherry picked from commit 5bc728ee2a461242aa8741b00d739da9d505e453)

commit 8d20ca1719ae909ee3a9d077b1ded8fe46b33fe5
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 16 09:31:03 2016 -0400

    Fixes found while porting anaconda to blivet-2.0
    
    These are mostly followups from the PEP8 mass-rename. Some recurring
    themes are boot_loader->bootloader and auto_part->autopart.
    
    (cherry picked from commit 6953c095008120a6c7ca203bb0388ab0a9c4231e)

commit 902f67ac8fcb6f5db14c4e1fbfd69fe9afeac40b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Mar 14 07:57:13 2016 +0100

    Mock all blockdev's listing functions for populator tests
    
    We don't want to use the information from the system the tests are running on
    and actually we cannot even grab that information because the tests may not be
    run as root. To prevent issues and exceptions, we can easily just mock all three
    LVM listing functions - lvs(), vgs() and pvs().
    
    (cherry picked from commit 50e564be5265ff19b6d7efa1fa04f0a0f3388f45)

commit 1728e5c187bd25251338be60c724c283dc684faf
Merge: 70ae22c5 6f224a00
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Mar 24 09:57:02 2016 +0100

    Merge pull request #344 from vojtechtrefny/master-chunk_size
    
    Allow custom chunk size specification for MDRaidArrayDevice

commit 6f224a006c8d7443b6d464cfca921dee06a72a64
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 16 15:04:32 2016 +0100

    Allow custom chunk size specification for MDRaidArrayDevice

commit 70ae22c50b8bec1a88054a4b521a1b7c025763e9
Merge: 40656030 50e564be
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Mar 17 11:34:16 2016 +0100

    Merge pull request #342 from vpodzime/master-mock_lvs_vgs
    
    Mock all blockdev's listing functions for populator tests

commit 50e564be5265ff19b6d7efa1fa04f0a0f3388f45
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Mar 14 07:57:13 2016 +0100

    Mock all blockdev's listing functions for populator tests
    
    We don't want to use the information from the system the tests are running on
    and actually we cannot even grab that information because the tests may not be
    run as root. To prevent issues and exceptions, we can easily just mock all three
    LVM listing functions - lvs(), vgs() and pvs().

commit 406560301f28091900b00a35dd0ce68d946ab480
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Mar 9 09:56:19 2016 -0800

    Add zanata-python-client to TEST_DEPENDENCIES
    
    The tests run the translation-canary test which needs the translations,
    so this makes sure you can pull them down for the test.

commit eab30834f76b8f2b709d01e0553ea6e5f8438b79
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 11 16:50:17 2016 -0500

    New version: 2.0.0

commit 7afd4c93c55820e31744f222e12388c975a471f3
Merge: 52d1d975 d411986d
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Mar 9 19:05:41 2016 +0100

    Merge pull request #251 from vpodzime/master-libbytesize
    
    Use libbytesize's Size class as a base for our Size class

commit d411986dd2ed524e1328a8428e0bf93c35f26c45
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 9 14:25:16 2016 +0100

    Make sure we use the Size class properly
    
    It's no longer a Decimal instance.

commit 6fc04fe186444a97eb4f8523f33080a29c4b5cd5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 9 14:25:15 2016 +0100

    Don't store size as int in SameSizeSet
    
    This attribute is directly assigned to things like PartitionDevice.req_max_size
    which should be an instance of Size. Also a general rule of thumb is to store
    sizes as instances of Size so we should do it here too.
    
    I don't really know why we ever converted the value to int() in that place, but
    tests seem to pass just fine without the conversion so I guess everything's just
    fine.

commit 26b4dd6135092421d915ce90490a291470e791bb
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 9 14:25:15 2016 +0100

    Use libbytesize's Size class as a base for our Size class
    
    libbytesize provides an implementation of what we need for manipulations and
    calculations with sizes in bytes. It's a little bit faster and more importantly
    it can be shared with other projects because it's written in C. Thus we should
    use it.
    
    At some point it would be nice if we could drop our own Size class and the
    blivet/size.py module altogether because they don't bring any extra value, but
    for now we need this thin wrapper to keep the API (almost*) stable. The only
    real changes are:
    
    1) Strings like "100 kibibytes" are no longer accepted, I doubt anybody has ever
    used this functionality. If the opposite turns out to be true such support will
    be added to libbytesize and no change will be needed in Blivet.
    
    2) human_readable() now ignores the 'skip' and 'min_value' attributes. The
    former one is always replaced by 'True' (i.e. trailing zeroes are always
    stripped), the latter one is ignored because it made things really cryptic and
    weird. There's the new human_readable() method which should be used, at least by
    the newly-written code.
    
    * see the commit, mainly the part modifying/removing the tests for more details

commit 52d1d975a8e2ae22a6d7cb5633a3eb2519ec5772
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 9 18:08:46 2016 +0100

    Remove the second section about LUKS resize from release notes

commit d5a89b80a722be355b9ca50b2ce342a061edea68
Merge: db75539f 0324574e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 9 08:28:23 2016 -0500

    Merge pull request #332 from dwlehman/relnotes-luks-api
    
    Add luks resize and API stability efforts to release notes.

commit db75539f884a341751dfb53d90a37f137f20e792
Merge: c4dc23c1 2b57960a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 9 08:30:14 2016 +0100

    Merge pull request #328 from vojtechtrefny/master_2.0-fixes
    
    Few blivet 2.0 fixes

commit 68a7afc79d63973899e697fa22ba31e9401185a2
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 8 23:46:13 2016 -0500

    New version: 2.0.0.b1

commit b0f50c2d517848b2d7a04ad3f1d48a835d669b5e
Merge: d58da82c 67d38a27
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 8 23:27:02 2016 -0500

    Merge branch '2.0-devel' into 2.0-testing

commit 67d38a27048e0d203d1d043e4c4f953b3f28f396
Merge: 32134d9e 7afd4c93
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 8 23:24:54 2016 -0500

    Merge branch 'master' into 2.0-devel

commit c4dc23c1a2fb65f5e84f0ccdf566ee58853d032f
Merge: 794f2921 a764f4fd
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 8 11:36:26 2016 -0500

    Merge pull request #327 from dwlehman/api-spec
    
    Add a public API specification

commit a764f4fd04710a2162436bea129830cb5da3c9ff
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 4 17:55:10 2016 -0500

    Streamline the TOC to only include top-level sections.

commit c70ef55e9d6ef0faceb74d986748317aa98ec009
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 4 17:53:04 2016 -0500

    Adjust section hierarchy in intro doc.
    
    All but the top/first section are subsections of it.

commit 4eeb65d2037873471a3fbc5a2d66d08340758349
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 4 17:52:21 2016 -0500

    Move testing docs into a file of their own.

commit 3efaeddaab9dad190c3da4e2b398e520f1f5f7bb
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 23 09:21:09 2016 -0500

    Add an api specification to the docs.

commit 0324574eab7014dc36e7e73289068ecd74e23454
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 7 12:07:13 2016 -0500

    Add luks resize and API stability efforts to release notes.

commit e6665fda49da9274ff02d3b99788f1148df0b8f8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 3 10:45:03 2016 -0500

    Clean up some of the singleton usage.

commit 1a425017eb74f447d3da24718f38984d47699426
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 23 09:20:42 2016 -0500

    Drop sphinx mocking.
    
    Sphinx' mocking doesn't work for us since the objects aren't
    subscriptable, which is a problem for the parted fileSystemType
    attributes in format classes. We haven't had working docs on RTD
    for a long time anyway, so just drop all of this crud for now.

commit 2b57960a8730a442b2d6fb0000a318de6b006cac
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 2 10:40:32 2016 +0100

    Reset container_uuid when removing PV from a VG

commit ddbb9f124e41a38c7692968d6896b77ddfd11fcf
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 2 09:33:47 2016 +0100

    Remove "destroy_format" method from docs

commit a9f005b79f36da91a5c45984d89dafe4d62da0a0
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Feb 26 14:28:03 2016 +0100

    Fix AttributeError in pv_free_info

commit d58da82c9f2e5b82e5091fd08a2b261b0a977ba3
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 24 14:01:19 2016 -0500

    New version: 2.0.0.a1

commit 32134d9e316391fb73049445906f878620be4900
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 24 14:01:19 2016 -0500

    New version: 2.0.0.a1

commit 4250e3342a1ec8d3932d030e741bd9fd32fe2cb0
Merge: cd516856 794f2921
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 24 13:50:35 2016 -0500

    Merge branch 'master' into 2.0-devel

commit cd5168564cbe7e788f0d26df69f874ba2c2b6675
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 24 13:43:31 2016 -0500

    Update zanata config for 2.0 branches.

commit 794f29212d29900672167f924632c1db20ad74aa
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 23 15:21:44 2016 -0500

    Remove cleanup of rc-release relics from ci target.

commit b99bbb70af6e0a4230d924f522cc3dcd3754b4a1
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 23 13:13:40 2016 -0500

    Don't run rc-release as part of ci for now.

commit a4839f7e014845d8500b7a048bd4c69472a58d04
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 23 11:34:32 2016 -0500

    Regenerate blivet.pot.

commit dc08dfe3315de29bbb99f40b381b9918cc4e9601
Merge: cbae2061 3bc742ac
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 23 09:18:47 2016 -0500

    Merge pull request #323 from dwlehman/more-2.0-stuff
    
    More pre-2.0 stuff

commit cbae2061cebc27ff5819ab4f9b8ef6f5e84b45d9
Merge: 122f0aed f684f89a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 18 12:06:57 2016 +0100

    Merge pull request #322 from vojtechtrefny/master-fix_extended_size
    
    Fix current_size name in StorageDevice.update_size

commit 122f0aed6b0962f04de9a69339789953095d04fe
Merge: 5d588082 4dd0b615
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 17 11:37:56 2016 -0500

    Merge pull request #315 from vojtechtrefny/master-pep8_fixes
    
    PEP8 fixes

commit 3bc742ac4a81abc9df8c3b1533d31ffb9531c9ae
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 17 11:17:40 2016 -0500

    Specify encoding of pvtask.py to placate gettext.

commit 5002f2023a1962dd7367304d6ef32f24853fd769
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 17 10:55:06 2016 -0500

    Silence pylint complaint about passed callable.

commit 30212f6b739998bd0c94e0baa240b2e0d036d57f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 17 10:10:32 2016 -0500

    Tear down devices on disk images before tearing down the images.
    
    This is restoring the behavior introduced in commit 8e23b392,
    which was probably lost in the Populator refactor.

commit 1331a34b5efeeb51ae483f1e76f6d2f6e77a6b16
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 11 10:01:56 2016 -0500

    Update check for thin pool to work with new lv classes.

commit 0eade4dd26c3f993acf913b0bc507fdeba484d91
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 10 16:33:41 2016 -0500

    Use Blivet.do_it instead of calling ActionList.process in factory example.

commit 195f70896b75070b668a34ef6d0193672e2aeeb1
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 10 15:54:11 2016 -0500

    Get rid of examples.common.

commit 1cb425869c5fb202fc7b26bd96f99dbc46a7cfa3
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 12 17:00:01 2016 -0500

    Allow for pre-release builds.
    
    The versioning will follow the conventions set forth in
    http://docs.openstack.org/developer/pbr/semver.html, which
    incorporates pre-release versioning set forth in PEP-0440
    into semantic versioning.
    
    To do a pre-release build of, say 2.0.0 alpha 1, the upstream
    version is set to '2.0.0.a1'. In the rpm spec file we set the
    version to '2.0.0', the numeric portion of release from '1' to
    '0.1', and then define prerelease as '.a1'. This yields a
    release of '0.1.a1'. When bumping the release for a bugfix
    build, you increment the '.1' in the release, yielding '0.2'
    as the numeric portion and a full release value of '0.2.a1'.

commit 304c44ae0b26eb82eb1113e1024e603a2a78deb7
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 10 16:31:38 2016 -0500

    Fix load_module call in translation-canary.

commit 352e292deac9f3d28f210baf70a4a1655890273d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 10 16:31:11 2016 -0500

    Remove a couple of stray python2 invocations.

commit 5d588082fa61fb357f016d275bfafb61573b44cc
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 13:37:32 2016 +0100

    Do not call pvmove when removing an empty PV from VG.

commit d96fb243488e7250905a828fb2949d137472ac7d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 07:38:49 2016 +0100

    Add task for finding LVMPhysicalVolume format size

commit 5e74f0622f11733a3d1e4aa91432634a297ed117
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 17:54:05 2016 +0100

    Fix TypeError/AttributeError when adding thinpools and snapshots

commit f684f89a9b4c3458fdbfc62a5f2a63a161f90d96
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Feb 16 13:07:13 2016 +0100

    Fix current_size name in StorageDevice.update_size

commit 4dd0b61543588d241cd8afc94523d78d183fb4da
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Feb 15 13:20:46 2016 +0100

    Ignore PEP8 errors E402 and E731
    
    E402: module level import not at top of file
    E731: do not assign a lambda expression, use a def

commit 5bc63fb5fddef4b04650a669adbbf25ae1fb58d6
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Feb 10 10:43:03 2016 +0100

    Make sure all checks run on 'make check'
    
    Pep8 and canary checks should run even if pylint fails.

commit ac09c865f87bc13d00910d4efe7a153dc020c1d0
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Feb 8 12:14:40 2016 +0100

    PEP8 fixes

commit 627b178784448f750e528a6bd66cdbbf4b77748c
Merge: 8142e8b4 5b2e675b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Feb 12 10:11:44 2016 +0100

    Merge pull request #308 from vojtechtrefny/master-luks_resize2
    
    LUKS resize

commit 5b2e675b92bdac086f64e26cede453e21c09f0c4
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 12:25:28 2016 +0100

    Add LUKS resize to release notes

commit 70a433b511824991eafbd5551ecbc7beecfb832b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Jan 29 11:35:38 2016 +0100

    Add test for LUKS format resize

commit 1419e4662bf116d1a07487ff9020cd2d0e08f05a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jan 25 11:52:38 2016 +0100

    Add a task for finding the size of a LUKS device

commit 298984306e6e56f43444f73eed075db54dd0a057
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Jan 22 14:45:43 2016 +0100

    Use DeviceFormatError and FormatResizeError in DeviceFormat
    
    Intead of raising "filesystem" exceptions (FSError and FSResizeError).

commit f0d349452911d86bbf38054d0fc63d52641ba67c
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 11:29:32 2016 +0100

    Add LUKS resize support to resize_device method

commit 4f7e5165bf566a660603ea70a5f14ebc13332c46
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 11:29:32 2016 +0100

    Define min_size for encrypted devices
    
    For encrypted devices, min_size depends on the LUKS device min_size.

commit a6c99d7d8113b212217d526c0fccb0cd46da8802
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 11:29:32 2016 +0100

    Do not teardown partition when resizing encrypted partition
    
    Running teardown on luks encrypted partition would close the LUKS
    device on it. Making it impossible to resize. Teardown only the
    filesystem on the LUKS device instead.

commit 18efdd6387adc9800c7bbf1f50ed89246b3e926a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 11:29:32 2016 +0100

    Make partitions with children resizable

commit 587837a2c30595b2cf471b9f613b2b53547e09c5
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 11:29:32 2016 +0100

    Make LUKS format resizable

commit a22370a6808c0733062edfca693b3cccf31345a2
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 11:29:32 2016 +0100

    Make LUKSDevice resizable

commit 8a059f61bd2eb98caf57955eafabc3dd04e5a994
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 11:29:32 2016 +0100

    Make lukstasks and dfresize task pep8 compliant

commit e80a7d1e74fc6bac757ddae5ff1e771cd0f90a63
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 11 11:29:32 2016 +0100

    Add a LUKS resize task.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8bd312bd5c52ba918901e5d6f1996747ebbbdf5b
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 11 11:29:32 2016 +0100

    Make a top level device format resizing task class.
    
    Adjust the task class heirarchy accordingly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3e4eaa3219f3cff281d7487864f02cea9d892a86
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 11 11:29:32 2016 +0100

    Move resize related methods from FS to DeviceFormat
    
    This includes update_min_size, do_resize, current_size,
    target_size, _get_target_size, _set_target_size, _get_size methods
    and properties.

commit 8142e8b430692e130f097cb9d7e6b0b8adb50293
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 10 11:12:37 2016 -0500

    Disable spurious import-error from pylint.

commit 7271efa01f945a6f7980d38d6615e9222894aa12
Merge: c6183bb3 73e62ecd
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 10 11:07:45 2016 -0500

    Merge pull request #316 from dwlehman/2.0-relnotes
    
    some pre-2.0 housekeeping

commit 73e62ecd47810a1e80b819702dcd968344f6243f
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 9 15:17:13 2016 -0500

    Add blivet.events package to setup.py.

commit 0686dd2f6270c7319fd5966d8a62f816e1f6681c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 9 15:17:13 2016 -0500

    Remove unused util import from prepboot.py.

commit 5deda5f513e3107d756ce6984774e5ecbefd8dd3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 9 15:17:13 2016 -0500

    Remove deprecated methods and properties.

commit 98ab2e2a7b2728ff64556f518eca5c5603442b86
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 9 15:17:13 2016 -0500

    Flesh out the release notes.

commit c6183bb3d02ba54826ff35dad28b4f6a3c01dd29
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Feb 3 16:08:17 2016 -0800

    Include python3-bugzilla when running tests
    
    Used by scripts/makebumpver
    
    (cherry picked from commit b9e77e269bd7f493a9206368dbf32eaf59c7ac05)

commit 07104c49630c9765e0fc266e374c34cdd3669906
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Feb 3 14:36:51 2016 -0800

    Cleanup wildcard import in misc_test.py
    
    (cherry picked from commit 333440218115c97cd79dfb52b41e21dcf8a59896)

commit f557187ca6ad9a3359acaf13a3ef08eb28f8dfb6
Merge: a2a49e58 0a748789
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 5 08:06:26 2016 -0500

    Merge pull request #311 from dwlehman/outside-events
    
    handle system storage events

commit 0a74878997b2df53b1e482a61a36c6e9f35b248a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 28 12:01:11 2016 -0500

    Add an example of event monitoring.

commit c5ec55b8d254ec763262112d1c154c132f47dbf7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 1 14:37:25 2016 -0500

    Mask uevents when updating parted.Disk.

commit c2d713a3355d8794bb957fd96a6f4bb82e5fb0a8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 28 09:05:12 2016 -0500

    Handle first-time open of luks devices.

commit 38e16b357f1c25edc1ed0660bd1c83976a7b2bc0
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 28 09:04:42 2016 -0500

    Add a device populator for opened/decrypted LUKS devices.

commit c75ecfccbb9b48fc2e21e120b613192316da1005
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 27 13:57:05 2016 -0500

    Update sysfs path before updating size in StorageDevice ctor.

commit e02ba5b28010fc34774f4654978b17d50995fce4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 20 16:25:56 2016 -0500

    Validate event handling callbacks.

commit 9b17df5c212feb5319b41d736610dc56b9f502ed
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 20 16:25:14 2016 -0500

    Hook up the event notify callback.

commit 951ac262131c1eda17eb8b0211b230295b8f630e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 20 13:24:29 2016 -0500

    Account for changes made in response to each event.
    
    Each event is handled in a separate thread, so we use thread-local
    data to store an ordered list of the changes made while handling
    each event.

commit 645d67c88c2274e7f6c61e34e1dc3d1e5caa2829
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 18 17:07:36 2016 -0500

    Add facilities for reporting exceptions that occur in threads.
    
    Callers can register a callback which blivet can use to report
    exceptions that occur in event handling threads. If they do not
    register such a callback, the following will happen: 1) The exception
    and traceback will be logged using the ERROR facility. 2) The next time
    a method that has been wrapped using the SynchronizedMeta metaclass is
    called in the main thread, the exception will be re-raised.

commit 496588b4cccf8cc63945242a5d82194d1228e98f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 17 12:05:04 2015 -0500

    Add event handlers via a DeviceTree mixin class.

commit c25cfde33802e714607cac57f4a0ad76db0ea0bf
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 17 12:01:38 2015 -0500

    Add PopulatorHelper method to update device/formats.
    
    The primary purpose of this is to be called from an event handler
    for "change" uevents.

commit 807696e7ad44a694e2f6e6f3c7b512c341745ab0
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 2 17:46:12 2015 -0500

    Add classes for managing external events.

commit fd5ac9bae6b9a6ade355018879d5d32b049cb967
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 1 13:47:28 2016 -0500

    Add methods to wrap helper getters.

commit 4d7b5b3018378f0f15ad3de48dce6f875ba79b76
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 12 11:08:40 2016 -0500

    Only settle udev queue in get_devices when not handling events.
    
    Waiting for the udev queue to settle doesn't make sense as part of
    handling uevents.

commit ecdc61380d30907ca742d9bf63fbdf01995379e4
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 17 11:59:32 2015 -0500

    Allow passing a device to any PopulatorHelper constructor.

commit 8dd56a797f75baece9f03715fbadc46b2d7e57ef
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 17 16:31:18 2015 -0500

    Implement DiskLabelFormatPopulator._get_kwargs.

commit a7228a65ab17c8905692483c3f04956c3eae5d67
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 17 11:58:26 2015 -0500

    Add a property indicating the type to pass to get_format.

commit 0171c764282a76d38f742ceff3f8dd0743b34631
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 17 11:41:26 2015 -0500

    Add functions for resolving between block major and device type.

commit 8f0a499ebfbcdcae5ae478c7f38f7be223ba11c3
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 7 15:24:12 2016 -0500

    Plumb modparent through DeviceTree.recursive_remove.
    
    When we're removing partitions to account for changes
    made to disklabels outside of blivet we'll need to be
    able to skip the remove_hook.

commit 353c0169a116025dfbf64c7dd54a224801853db8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 17 11:39:48 2015 -0500

    Add a flag to preserve the root device in recursive_remove.
    
    With this flag the method will recursively clear a device without
    removing it. This is the same behavior it has always had for disks.

commit b7cb28089625105c4374d74eb2c66155bb0ccd68
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 24 15:47:27 2015 -0600

    Add container_uuid r/w property to container member format classes.

commit f65b5f9ced26d2cb5168292ff0a02d98835b0dbd
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 9 11:49:45 2015 -0500

    Set VG format as existing as part of VG creation.

commit cd50b10baf97551e0eb2e72b56769e7dda3b3328
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 12 17:49:19 2015 -0500

    Remove old hack meant to remove stale metadata.
    
    There are several such mechanisms being employed elsewhere in blivet
    and even in the lvm tools themselves. This should not be needed anymore.

commit 78abb9735ab3978ad5c2f09cde6b7d6dbd88a050
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 7 15:48:42 2014 -0600

    Store disklabel and partition UUIDs when available.

commit 9c1bd1033a8bd6b8eda96228ba21f8f436d08fc5
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 7 15:33:15 2014 -0600

    Add a method to re-read the disklabel from disk.

commit b1470ae7168476efd737fa174e9425fd591529a7
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 17 14:17:00 2015 -0500

    Use wipefs to remove disklabels.
    
    libparted's clobber does not remove a protective MBR, which makes it
    useless for our purposes.

commit 1c8ec427363e714b629df056c952c5a4d8ad51c6
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 24 11:51:50 2015 -0600

    Add support for passing the new size into StorageDevice.updateSize.
    
    This is intended to be used under a very limited set of circumstances,
    such as resize of inactive LVs from outside of blivet.

commit fa67685adf56771ff16d592c0a61e5e65dc2737e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 15 11:55:48 2015 -0500

    Add a method to cancel all actions related to a specified disk.
    
    That includes any actions related by way of containers, too.

commit 2cc02fb0ceec3a448ed5404f8dd7dc9cfdd34ad3
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 17 11:37:35 2015 -0500

    Add a flag to ActionList to indicate in-progresss action processing.

commit ceaaa9f44199011f9f5e78bfdc5a6c8105d4e1d5
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 10 13:04:07 2015 -0500

    Avoid failure to generate unit test API docs.

commit 7fdfb9194119aa1621015160294a4a4e9420d372
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 3 10:47:29 2015 -0500

    Add a console logger and a function to activate it.

commit 74ac5c0b7a3605b510fbcefb2a90b8b854961269
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 17 11:38:51 2015 -0500

    Make LoopDevice size consistent with other device types.
    
    update_size is the place to go get the current size.

commit 4bd0965c45d8eca628fb0f7b68149144e0eaaaa2
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 20 13:20:59 2016 -0500

    Don't try to use a name bound via 'as' outside the try/except block.

commit 28767b1a42191942edc0dad9b3edcc856c96517e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 19 15:30:43 2016 -0500

    Remove code for notifying the kernel of changes to block devices.
    
    udev generates ("synthesizes") a change event whenever a read/write
    file descriptor to a block device is closed, so there is no reason
    we should have to notify the kernel ourselves after writing to a
    block device.

commit a2a49e58fc03343289b4966aec03cc29dde8b1e9
Merge: a696842c aaa0e6e9
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Feb 5 09:57:39 2016 +0100

    Merge pull request #305 from vpodzime/master-storaged_iscsi
    
    storaged iscsi

commit aaa0e6e9b049f313b17cafb0ccd37ec12739232e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Feb 4 12:57:58 2016 +0100

    Add dependency checks for iSCSI operations
    
    We need storaged's iSCSI functionality to be available. And we don't care if it
    started later, we need it from the very beginning.

commit d4cb7600bdba6522eec4aab9dbc864cd5269d8d7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Feb 4 12:48:45 2016 +0100

    Add decorator for guarding methods with external dependency checks
    
    Some methods can only be called if their external dependencies are
    available. Otherwise they should fail either silently (logging a warning and
    returning None) or hard (raising an exception). Also, we should be able to
    evaluate the state and availability of the external dependecies always or just
    once during the first call.

commit ec5cb09ad80f174d9daf0c94f0e26d539c994e86
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Feb 4 09:35:22 2016 +0100

    Add a function for testing if some DBus object is available
    
    We are soon going to need something like that.

commit 77c75f45ed33c096ce0e7ef3d8cccef13c0f3595
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 2 11:31:20 2015 -0500

    Use namedtuple for target info and tiny class for login infos
    
    namedtuples and similar tiny classes make things much clearer than using just
    tuples.

commit 9280eff7016da0e58b8a58c1c844470e8fddeb55
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Oct 30 14:36:32 2015 -0400

    Use the storaged's iSCSI DBus API instead of libiscsi
    
    libiscsi is, at this point, a giant hack and its python bindings are another
    giant hack on top of that hack. Instead of dealing with these, we should just
    use the DBus API for iSCSI provided by the storaged daemon.
    
    The only change in behaviour should be that all nodes are marked for automatic
    startup while before this patch it was only nodes that weren't required for the
    root file system marked that way. Is there a problem with marking nodes required
    for the root file system (and thus started up by dracut)? If so, isn't that a
    bug in openiscsi?

commit 4769a5e4978612b406287ce1fa39ec57a2ce99b1
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Oct 30 11:54:46 2015 -0400

    Use the @property decorator for iscsi's properties
    
    It's much nicer and easier to recognize/find in the code than an assignment to a
    class attribute doing a call to the property() built-in function.

commit 86f2c4cda5d5021e9946fa294d2aeb0388792623
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Oct 28 11:21:53 2015 +0100

    Add a module for doing DBus operations in the safest possible way
    
    This is a direct copy of the anaconda's safe_dbus.py module. We may need to
    extend it a little bit in the future, but these are the very basics we will
    definitely need.

commit a696842c2a53942b810ba27e1e08c71621d0a8d3
Author: David Shea <dshea@redhat.com>
Date:   Thu Feb 4 10:59:30 2016 -0500

    Do not retry interruptible system calls.
    
    PEP 0475 finally fixes this ridiculous problem, so remove all
    references to it and pretend that the whole thing never happened.

commit faec3a8f45cec8cf169273a7e1a26fc5281d45df
Merge: b1619e15 7fb59071
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Feb 4 15:39:45 2016 +0100

    Merge pull request #310 from vpodzime/master-lvm_unif_pr
    
    LVM classes unification

commit 7fb590713523f2b51210bd35a54ccb4d725e9618
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jan 26 18:13:33 2016 +0100

    Document the LV class unification changes in the release notes
    
    To give some basic hints to users as well as future developers and maintainers
    of Blivet.

commit 351d514266911debe9819c47caa99499bc92cd80
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jan 25 11:34:06 2016 +0100

    Adapt our tests to the changes in representation of LVs
    
    No changes in values or API except for how LVs are created.

commit 4576566270772db3e3d953e3071c2328254423c9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 20 14:44:06 2016 +0100

    Adapt our code to changes in the representation of LVs
    
    All LVs are now instances of a single class. The type is determined by the
    properties of the object like its segment type, whether it has a parent LV
    (internal LVs) or an origin (snapshots). Thus we need to make sure the right
    values are passed in all the places we create LV objects.

commit 9b4f06096d6f723bdcdd9d72509c2278db03632e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 13 22:24:29 2016 +0100

    Rewrite the code for representing LVs
    
    Having specific classes for various types of LVs is nice because Python makes
    sure the right code is executed based on the type (class) of the LV. However, a
    big drawback of this is that it is not possible to change the type (class) of
    the object once it is created. This makes things like 'lvconvert' or even thin
    snapshot creation and activation impossible to represent.
    
    Thus we need to represent all LVs with single class making a lot of decisions on
    our own. However, that doesn't mean we have to put all the code into a single
    class. By utilizing some nice tricks, we can easily put type-specific code into
    type-specific mixin classes and make the final/ultimate class inherit from
    them. That way the type of an LV is more a dynamic property than a
    once-and-for-always-given thing.

commit 7e43747d2f42176833f84ce874e2d95dc69df182
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jan 25 16:26:19 2016 +0100

    Add a test for the to-be-used @type_specific decorator
    
    When objects of various (sub)types need to be represented by a single class
    (e.g. because their (sub)types can change in time), it's nice to implement the
    (sub)type specific code in mixin classes the single resulting class inherits
    from. With thatthere are two (major) options how to implement the methods of
    such "ultimate" class:
    
    1) Have gigantic ifs at the beginning of the methods making sure the right code
       is executed for the particular object and its (sub)type.
    2) Implement and use the @type_specific decorator that makes sure the method
       of the right mixin class is called.
    
    This adds an example implementation of 2) included in the test. A generic
    @type_specific decorator would be even more complex and harder to use which is
    why the decorator is tailored for the particular class and lives under its
    namespace.

commit 69311b7cb6fa975d70d98c09de9d501c0bad3449
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jan 12 20:53:40 2016 +0100

    Add a decorator for guarding methods and properties with a property
    
    Sometimes we need to prevent a method from being called or property from being
    evaluated if some conditition is not satisfied. The most common case is to check
    value of some property of the given object. For example, it only makes sense to
    call the lv.merge() method if 'lv' is a snapshot. Things like this can be
    facilitated by a decorator that makes sure 'lv' is snapshot for example by
    checking its 'is_snapshot' property. The code then looks like this:
    
    @requires_property("is_snapshot")
    def merge(self):
        # the actual merge goes here
    
    On an LV that is not a snapshot a ValueError is raised.
    
    Of course, the decorator can be made even more generic if it turns out in the
    future we need it to be.

commit 994c131a87252f8a5e782bf7b93ff5b39ebc8ad0
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jan 22 18:10:50 2016 +0100

    Transform the is_name_valid() into an instance method
    
    Apart from the tests we alway call this code on a particular instance. And
    sometimes it's impossible to just tell if a name is valid without looking on
    some other properties of the object.

commit b1619e1599cfb06e955cbf197e4233a9ca1d817a
Merge: 08ce4886 8b90c944
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Tue Jan 26 13:06:13 2016 +0100

    Merge pull request #307 from jkonecny12/master-2-add-metadata
    
    FS overhead methods from 1.x-branch

commit 8b90c944678877ce9d68780590ad28573bf617a8
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Fri Jan 15 16:29:08 2016 +0100

    Add tests for FS overhead methods
    
    (ported from commit 9accd0e360ed4bede667b5f8a608e8c519ebd831)

commit e5b9af667f04ce0109285ea0178417f4b5973c2a
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Mon Oct 26 17:09:10 2015 +0100

    Add more class methods for better use of metadata
    
    Add new class methods:
    1) get_required_size(cls, free_space) - takes how much space we
    need and returns this space + metadata of this FS.
    2) biggest_overhead_FS(cls, fs_list=None) - Return FS from the list
    which takes most of the space by metadata. Input list is useful to
    filter only the required FSs if None is set then it takes biggest from
    all supported FSs.
    
    (ported from commit 53ce3c0f21cb738f8b3f44e9025d4f61fac14296)

commit 08ce4886134aafdb3a1c448a8215480748742c80
Merge: a54e2a1e 61b9a784
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 22 08:52:46 2016 -0500

    Merge pull request #306 from dwlehman/pylint-20160119
    
    pylint fixes for rawhide

commit a54e2a1e69d93bef1cd84879921992f99a1060b8
Merge: eb7953c7 25201385
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 22 08:52:02 2016 -0500

    Merge pull request #303 from dwlehman/synchronized-meta-blacklist
    
    Blacklisted attrs should be unwrapped, not omitted.

commit 61b9a7843c2f4f1d418d5261a0f46c95587ddf2f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 20 09:37:30 2016 -0500

    Remove python2 assert regex method name hacks.
    
    For one thing, we no longer aim for compatibility with python2.
    For another, this code was confusing pylint and causing it to issue
    warnings about using deprecated method "assertRaisesRegex" even though
    that method is not deprecated.

commit c2b676f02c2c3c7f4826824b24dadd4860bebf59
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 20 09:37:30 2016 -0500

    Fix various pylint errors introduced with python-3.5.

commit eb7953c731d7b0b4d7856dfc0386c1feb1220cdb
Merge: 525487b0 08471f3c
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Jan 20 14:10:37 2016 +0100

    Merge pull request #298 from vpodzime/master-release_notes
    
    Add a file with release notes

commit 08471f3ce2f48f88dccb7cb7b7212e68340b25b3
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 6 16:16:41 2016 +0100

    Add a file with release notes
    
    These are more high-level notes about changes done in the releases (at least
    major). Useful for people outside of the team, but also for us to easily find
    out when and in to what extent something was added.

commit 25201385f36bfe841bccae6569a790069118d304
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 15 09:19:47 2016 -0500

    Blacklisted attrs should be unwrapped, not omitted.

commit 525487b030976e878fae1f378349e19ee04f94a1
Merge: 67715e8c 4e05b4de
Author: David Lehman <dlehman@redhat.com>
Date:   Sat Jan 16 08:57:34 2016 -0500

    Merge pull request #302 from dwlehman/populator-followups
    
    followups for various recent commits

commit 4e05b4de0a136da0082582a7b5524a5be12e8beb
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 12 11:15:49 2016 -0500

    Return the device when returning early from degraded md handler.

commit 7593328047bc718279fd970165c07ea5dfb12318
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 7 15:21:11 2016 -0500

    Fix application of synchronization metaclass to DeviceTree.
    
    Subclasses inherit the metaclass, so it should be applied
    to the bases (DeviceTreeBase and PopulatorMixin) instead
    of the subclasses (DeviceTree).

commit 67715e8c060b207ded65cac7bfbfe548b41a8382
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jan 13 09:43:59 2016 +0100

    Fix AttributeError in populator LUKS helper

commit 3f26af20b92ec848bc2276232612c28b1d5d663d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jan 13 09:12:04 2016 +0100

    Update spec file for blivet 2.0 builds

commit b301667fbd40edde46a2d8a41e044c50bd525d0f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jan 13 08:49:04 2016 +0100

    Add populator.helpers to package

commit c319b045b400dc4103284d4e30871efbef95cad3
Author: David Shea <dshea@redhat.com>
Date:   Tue Jan 5 15:01:49 2016 -0500

    Add translator comments to the byte size prefixes.

commit da314f82d43e108f023eb136e21fcb566035aa8d
Author: David Shea <dshea@redhat.com>
Date:   Fri Dec 4 10:25:32 2015 -0500

    Integrate translation-canary with blivet.
    
    This affects three areas of developing and distributing blivet:
    
      - During "make check", run the translation canary tests on both
        translatable and translated strings. Errors in translatable strings
        are issues that need to be fixed by the developer. Errors in
        translated strings are issues that need to be fixed, possibly by
        removing the translation for a string, on Zanata.
    
        Additionally, ignore the translation-canary files during the pylint
        phase of "make check" since translation-canary is already checked
        separately and uses a different pocketlint configuration.
    
      - During the creation of blivet.pot (updated when a release is being
        prepared), use xgettext_werror from translation-canary. This will
        fail if xgettext issues a warning, which is usually about an
        untranslatable format string.
    
        This check cannot effectively be run during like the other canary
        tests, since creating the POT file requires project-dependent
        configuration.
    
      - During the creation of a source distribution, the tests on
        translated strings are run again, this time removing any language
        that does not pass the tests. This ensures that bad changes made
        between the last "make check" and the final zanata pull are not
        distributed.

commit d21fa39bafe1f1c9dcd25c0be4cce868494510b2
Author: David Shea <dshea@redhat.com>
Date:   Tue Jan 5 16:32:35 2016 -0500

    Update blivet.pot during scratch-bumpver.
    
    This way an up-to-date blivet.pot is included in scratch source archives
    and the latest changes to translatable strings can be tested.

commit a3e311b89ea1bbfec61ff0b12a00791b49f2ba1e
Author: David Shea <dshea@redhat.com>
Date:   Fri Dec 4 15:42:04 2015 -0500

    Always use setup.py sdist to generate source tarballs.
    
    Use sdist for both the "local" and "archive" make targets so that the
    only difference between the two is that "archive" is built from a
    specific git tag.
    
    Include the .mo files in the sdist, and extend the sdist command from
    setup.py to build the .mo files before creating the archive.
    
    Be less weird about making the source tarball in "make local".

commit c2b7bf1fb79fd31a2c0cc953e659c8d8d9bcb507
Author: David Shea <dshea@redhat.com>
Date:   Wed Jan 13 11:33:12 2016 -0500

    Squashed 'translation-canary/' content from commit 5a45c19
    
    git-subtree-dir: translation-canary
    git-subtree-split: 5a45c19764d4e380726813fad13eaa4721607f57

commit a48137584c5286973ad826c74bdaeeab297249f5
Merge: 6d5ed2ad c2b7bf1f
Author: David Shea <dshea@redhat.com>
Date:   Wed Jan 13 11:33:12 2016 -0500

    Merge commit 'c2b7bf1fb79fd31a2c0cc953e659c8d8d9bcb507' as 'translation-canary'

commit 6d5ed2ada93039f23021021e653c5f6740d5c2ca
Merge: acd6332a 344d0274
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Jan 12 10:03:26 2016 +0100

    Merge pull request #299 from vojtechtrefny/master-python3_docs
    
    Two docs related fixes

commit 344d0274ed256a6f83acd4a1d9ccbc09e8a3e26f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jan 11 10:01:02 2016 +0100

    Update class and methods in "Introduction to Blivet"

commit 3bedcf101e5d52da5ac00cd8118ff8e3596d3226
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jan 11 09:55:49 2016 +0100

    Build documentation with python3 sphinx

commit acd6332a76becf3c91a24e1452db7f42745a9215
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jan 7 16:23:42 2016 +0100

    Fix PEP8 violations introduced in the LVM RAID commits
    
    All minor stuff.

commit 0b62859c41a8c699bf9410ba3573503ec316859f
Merge: fc690859 8f324f4d
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Jan 7 15:22:39 2016 +0100

    Merge pull request #286 from vpodzime/master-lvm_raid
    
    LVM RAID

commit fc690859864efd35fc61752dfb23f5a544e26dd5
Merge: e0b4685a c0f359e6
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 6 13:29:58 2016 -0500

    Merge pull request #294 from dwlehman/thread-safety
    
    Make blivet thread-safe

commit c0f359e6ca3dfc43bd3b4bc1437cc8a7b0e37120
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 8 10:51:31 2015 -0500

    Make the main class hierarchies thread-safe.
    
    This adds a global reentrant lock and a metaclass. The metaclass wraps
    every instance method with a decorator that acquires the global lock
    prior to calling the method.

commit 8f324f4deb5f5da18c814ec517c943bb6ce16f94
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 6 11:53:05 2016 +0100

    Add unit tests for changes related to non-linear LVs
    
    This adds tests for commits, changes and new things implemented for the support
    of non-linear LVs (aka LVM RAID).

commit 1955bb3e3af7351a2ac84733edcbe74d54ed5a51
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Dec 2 13:59:56 2015 +0100

    Make sure we try to match LVM RAID levels with all their names
    
    For example "mirror" is the nick of the "RAID1Level" the name of which is
    "raid1".

commit 59af16619d8f27b694a61f869fe360ed54151b7b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Dec 2 13:45:14 2015 +0100

    Don't bother user code with LVM RAID meta data
    
    RAID LVs have/need one extent big internal meta data LVs. Instead of bothering
    the user code with this, let's just make the RAID LVs one extent smaller than
    requested and use that space for the meta data.
    
    Also reserve the space for the 'mirror' segment type which is a different
    implementation of RAID1 in Device Mapper.

commit d1d25b92e0fedaefe8b8b8ca2db3028983525061
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Dec 1 19:01:40 2015 +0100

    Inherit the RaidDevice mixin in the LVMLogicalVolumeDevice class
    
    We can call linear LVs to be RaidDevice instances using the Linear RAID
    level. So we can make all (non-thin) LVs to be instances of the RaidDevice
    class.

commit f54d05626535906f4e04be2abfe21c11c89e5255
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 25 08:57:15 2015 +0100

    Account for a pmspare LV creation or growth when determining the cache size
    
    When an LVM cache is created, an internal metadata LV is created for it. And for
    LVM that also means that a special pmspare LV with a size greater or equal to
    the size of the metadata LV has to exist (and thus may be created) in the same
    VG. We don't want to bother user code with these calculations and thus we should
    subtract this space from the requested cache's size.

commit ed115d5069b343ebf26eaef0fd0c0a266267d9e8
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 23 15:52:50 2015 +0100

    Refresh the PV free space info after LV creation
    
    Creating an LV means some extents were allocated from its VG's PVs. In order to
    prevent us from working with old values we need to make sure fresh values are
    fetched.

commit 3a9787ce402d915b724b188cff33d235c3e91748
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 23 15:45:34 2015 +0100

    Add an early check of the requested LV segment type
    
    In order to make sure we are working with something we understand.

commit 2f8da2ff28fa9cc87c8ad810b67caf994a584100
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 23 14:33:17 2015 +0100

    Add example of LVM cache creation
    
    Useful for testing as well as for users wondering how to do something like this.

commit 60d4b12c03a1bed7849f22ed4057581e82462794
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 23 14:06:36 2015 +0100

    Make sure the slow_pvs+fast_pvs list we pass to libblockdev has no dups
    
    LVM complains about a PV appearing multiple times in the list of PVs to use.
    
    Add and use a function for deduplicating things in a list (keeping the ordering
    of the items).

commit f6a19a44f423ccabfe31ea5fb876921951a20ee6
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 23 14:04:57 2015 +0100

    Use pv.path instead of constructing it from name and "/dev/"
    
    It is shorter, faster and more reliable. Using pv.name was a remnant of
    development version of the LVM cache support that worked with PV names instead
    of PV (StorageDevice) objects.

commit 708a4fa1dcf176eda24b7ad16e50c0548e7f3671
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 23 11:24:43 2015 +0100

    Account for LVM cache space in PVs
    
    Now that we keep track of available space in the PVs we need to take into
    account LVM caches because those specify PVs and thus we need to make sure that
    they really fit in somewhere. Also the users need to know how much space they
    still have available in their PVs if they add a cache to their LV(s).

commit 3344fa892f62d9e671b9acfaee717364dfc20ead
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 23 09:32:21 2015 +0100

    Fix the twisted logic of lv.metadata_size
    
    lv.size reports the size of the LV not the space occupied in the VG, that's what
    data_vg_space_used is for. Under the same logic lv.metadata_size should report
    the size of the metadata space LV has available leaving
    lv.metadata_vg_space_used for reporting how much space from the VG the metadata
    part(s) of the LV take.
    
    If the LV exists, we should just go through the internal metadata LVs and sum
    their sizes because that's the actual/real value.
    
    Also document the property.
    
    Please note that no changes are needed outside of these two properties because
    they are already used properly and this just fixes the values such places in
    code calculate with (like metadata_size passed to blockdev.thpoolcreate() or
    calculation of the pmspare LV's size).

commit ffd9c176f0c0f13572a050ce60c37cdfaf030255
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 20 14:32:06 2015 +0100

    Replace the 'copies' property of LVs with something more accurate
    
    The word "copies" is accurate together with mirror/RAID1 RAID, but it's
    misleading with other RAID levels LVM supports. The property doesn't seem to be
    accessed anywhere outside the class so let's just replace it with a private
    property with a more accurate name.
    
    Also give incomplete/inaccurate information if we have incomplete/inaccurate
    information instead of erroring out.

commit 022fd56e96fcd7b55f4d4d7db984b307060daf0d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 20 13:47:46 2015 +0100

    Track information about free space in existing PVs
    
    We need that information in order to do checks when adding more LVs and users
    need this information to decide about where to place their LVs.
    
    Let's not bother with existing LVs allocations for now. We can just ignore those
    and only care about newly added (non-existing) LVs which we need to place
    somewhere.

commit a92653125528af13a145f668c7272fec72f1a5cf
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 20 12:08:51 2015 +0100

    Add guards making sure we are not being tricked with LV seg_type
    
    Right now, we only support creation of non-linear LVs under some conditions that
    allow us avoid trying to do too crazy things. Let's make sure these conditions
    are met when a new LVMLogicalVolumeDevice object is being created.

commit e77bad4d65a710b0134199aa57a64edd742c43d4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 20 12:04:34 2015 +0100

    Define and use a new is_raid_lv property of LVMLogicalVolumeDevice
    
    A useful simplification of what we have to check in a few places.

commit ebfa9187f086cf905371f0e364aed534f535aff7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 18 17:38:32 2015 +0100

    Add an example of non-linear LV creation
    
    Useful for some manual testing as well as for people wondering how to do
    something like that.

commit 81b8f545b83bf958b3518382df65b0e7083bd6f7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 18 17:22:29 2015 +0100

    Create non-linear LVs before linear LVs
    
    non-linear LVs require space on specific PVs and thus have stronger restrictions
    than linear LVs which can be allocated from anywhere.

commit eff66a4a3855384b4c393f6ff82c59344e7acc8c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 18 17:17:43 2015 +0100

    Account for LVM RAID metadata
    
    LVM creates small internal LVs for RAID LVs that hold the necessary metadata. We
    need to account for that in order to be able to do calculations of PV/VG free
    space etc. This requires us to do some of the calculations in a more granular
    manner -- separating data and metadata parts.

commit 86fb19bc4dd812e9d88b3bd47c422d7b439d25e5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 6 15:16:21 2015 -0500

    Define RAID level for LV and use it to determine required PV space
    
    We already support various segment types for LVs to some extent. However, we
    need to get a better picture of how much space on such LVs' PVs is required. We
    already have a code for that, so let's just use it.
    
    This unfortunately requires the LVPVSpec to have read-write attributes/fields
    and thus it cannot be a namedtuple. We should probably come up with some
    "read-write namedtuple" thing for cases like this in the future.

commit f6d612a9817dee85d248e73b33ff3c04507b99a0
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 6 15:13:33 2015 -0500

    Add a definition for the striped "RAID level"
    
    Striped LVs are essentially RAID0 LVs as far as all the calculations go.

commit 3cbb4f43d442df8288020d5077c866ed5a520821
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 6 12:53:10 2015 -0500

    Track information about free space in a PV
    
    If we want to support other types of LV than linear we need to know how much
    space we have in each PV. For example a 1GiB RAID1 LV requires not only 2GiB
    total space in the VG with 2 PVs, but at the same time it requires 1GiB space on
    each of the PVs.

commit b4669981d2482f4bb7247090e4a353cb5dd2ad13
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Nov 5 14:56:55 2015 -0500

    Honor the LV segment type when creating it
    
    This really only takes care about passing the type down to libblockdev and thus
    lvcreate. We need to a lot more to actually fully support various types of LVs.

commit c5ecdb9bb0e65dff82cfe55a549df23e5ea6d022
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 4 17:06:36 2015 -0500

    Let LVMLogicalVolumeDevice specify PVs it should be allocated from
    
    This allows for more precise configuration of how the LVM setup should look
    like. We already have some rudimentary support for specifying PVs for caches
    which is a must, but it's useful for all LVs in general.
    
    Thanks dlehman@redhat.com for pieces of code and ideas for this patch!

commit 52fc7aebc16021d2b6d6d4b12f6a38603861a76b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 6 11:45:26 2015 -0500

    Define the Device.parent property with the @property decorator
    
    It's just more common these days and the definition is easier to find and
    recognize in the sources.

commit e0b4685a4daa69b4e1132ba8c24fe8fa40173a53
Merge: 27dea8ed 302db54b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 6 10:30:17 2016 -0500

    Merge pull request #293 from dwlehman/device-children
    
    Let Device know about its children

commit 302db54b0b8fb462e35a021bde7f595268959501
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 10 16:27:41 2015 -0500

    Adjust to Device now having a list of child devices.

commit 4441dac744319166206a0de63144edff23350ffe
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 10 16:26:44 2015 -0500

    Maintain a list of child devices in Device.
    
    Instead of a child counter, having an actual list of children
    makes some basic things easier.

commit 0cba81d20e53748afe68fc5d0f8927fe41b90c77
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 10 16:22:51 2015 -0500

    Add unit tests to explicitly cover container member set changes.

commit b74cde2e787fc192b1e353125e0e1435e7e79c6a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 10 16:20:28 2015 -0500

    Remove ParentList.replace and its usage.
    
    By adding new members before removing old ones you can avoid
    tripping member count and space checks without bypassing the
    basic machinery of the parent list.

commit 27dea8ed5a69df986f68166cdefab5cd2cae8b56
Merge: 5b8b4b3c a3321266
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 6 09:52:57 2016 -0500

    Merge pull request #292 from dwlehman/populator-cleanup
    
    Populator refactor

commit a33212667c6aa449b60753fda94bd3f1ab5d9625
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 9 10:02:38 2015 -0500

    Improve logging of failure to validate new default fstype.

commit 396f53f64e4989bc96e426a55af228a4c06da6bb
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 9 09:55:28 2015 -0500

    Remove unused populated attribute from Populator.

commit 650505fb0118b8b076e006fb558c76cb5ae8e6be
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 9 09:47:20 2015 -0500

    Stop passing around the iscsi singleton.

commit 7ca7a2feb8f5c428f433920e97a62d5845fc0b74
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 9 09:45:13 2015 -0500

    Make the iscsi singleton satisfactory to pylint.

commit 7523d41266849dc9d617c6dc06231fb4171380ff
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 9 09:23:24 2015 -0500

    Remove the various DASD lists from Blivet and DeviceTree.
    
    See Blivet.write_dasd_conf for an example of how to get
    a list of the DASDs.

commit f2342210bcd723acbe368eb8bc47725e2582d7a9
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Dec 8 15:47:32 2015 -0500

    Convert Populator to a mixin class.
    
    This seems like a better way of handling the tight coupling of
    DeviceTree and Populator.

commit fffb905a145c1de66acfda64c6390f595ecda0fa
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Dec 8 11:17:58 2015 -0500

    Move disk filter bits from Populator into DeviceTree.
    
    All disk filtering handling is in DeviceTree.

commit fc0dbed732492b4563441c848f088f3fbcd4cf05
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Dec 8 11:16:58 2015 -0500

    Move the LVM data cache from DeviceTree to Populator.
    
    It is only used in the context of populating the devicetree.

commit 58b631eb362202a0538f1b734597719d1b140310
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Dec 7 11:53:07 2015 -0500

    Rename per-device Populator entry points.
    
    Main entry point is handle_device, which calls handle_format.

commit 075ba98f04c302e6018f4b42c5e9e1346bc18dff
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Dec 7 11:46:46 2015 -0500

    Make Populator.udev_device_is_disk a private method.

commit a8bf63ff35f5303bf0d212c2b065357d2956dd3d
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Dec 7 11:34:53 2015 -0500

    Stop writing an mdadm.conf.
    
    Since arrays are generally active when we arrive on the scene
    there is no value in trying to control which minors mdadm uses.
    In fact, we shouldn't waste any effort pretending to care at all
    which minors are used for md arrays.

commit d22ea6c9410b9e490fdd80ab9b841cb89dbe9126
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Dec 7 11:32:41 2015 -0500

    Group disk-image-related methods together in source code.

commit 7beca33ea68b99e6022c1bb7e14abdc423f35c91
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Dec 7 11:26:56 2015 -0500

    Move some code from _populate into separate methods.

commit abef137159a63ee1c92f5e8ee7bea31936b332e3
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Dec 7 07:12:38 2015 -0500

    Split various parts of add_udev_device into separate methods.

commit ce45f07827acf7ed2e53c3c42f6aab81d082c107
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Dec 4 13:26:50 2015 -0500

    Remove some extraneous methods related to ignored devices.
    
    This is just a bunch of code that has been mostly obsolete for a
    long time.
    
    is_ignored doesn't actually consult the list of ignored/exclusive
    disks -- instead, it just adds some additional cases in which we
    might want to ignore a device. I think this information is better
    stored elsewhere, if only to reduce the number of methods with the
    word "ignore" in the name.
    
    Things ignored because of is_ignored:
    
      1. /dev/ram*
    
        This is already handled by blivet.udev.__is_blacklisted_blockdev.
    
      2. loop devices with no backing file
    
        This is a good idea, and is preserved by an accompanying patch
        to populator.handlers.LoopDevicePopulator's match method.
    
    Things not ignored because of is_ignored (a no-op, really):
    
      1. md container arrays
      2. fwraid arrays whose name was mangled by mdadm because of
         HOMEHOST.
      3. mapped disk images
      4. live media images
      5. loop devices with a backing file
    
    The only place we call add_ignored_disk is right after is_ignored
    returns True for a device. It is not appropriate in any of the
    cases flagged by is_ignored to add the device to the lvm device
    blacklist.

commit 35a6540951371e90ae457fe8f3d5f0fe3ca0698e
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Dec 4 13:24:00 2015 -0500

    Only handle loop devices with a backing file.

commit 98d03c658987aaa4e46c5297691883c15cde6942
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 11 12:47:06 2015 -0500

    Add unit tests for populator helpers.
    
    This is by no means complete.

commit b4654b2ac0549298978af122166e4fa957dc2b6f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 11 12:46:16 2015 -0500

    Use helper getter functions to find populator helpers.

commit aded1c825385817dc39d8ff99c169e6620008abf
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 11 12:26:54 2015 -0500

    Add functions to return a helper class based on device data.
    
    This is intended to be the complete API of populator.helpers.

commit 368a4db6141c7fdcb31ed45fe6be207ccc08ad30
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Nov 9 12:31:31 2015 -0500

    Move format-type-specific bits into populator helpers.
    
    Disklabels are now handled using the same mechanism as all other
    formats.

commit 832fe67f6e8d0cb1a38e84b86410fcf15d42a92d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 11 14:34:37 2015 -0500

    Split DiskDevicePopulator up by disk type.

commit 46fc277b4c48a01aa83df7001c85dca268105982
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 6 15:47:18 2015 -0500

    Move device-type-specific populator bits to populator helpers.

commit c6313157d9578985cf821a9d2e7f38eff417187c
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 5 16:24:16 2015 -0500

    Add base classes for type-specific Populator helpers.
    
    The main components of each class are the 'match' class method and
    the 'run' method. The 'match' method is used to determine which
    helper class is appropriate for the given udev data set. The 'run'
    method is what instantiates the StorageDevice or DeviceFormat
    instance and updates the DeviceTree as necessary.

commit a5c443f326b42bca8a3318c242a036bcefdb1d73
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 13 17:34:08 2015 -0500

    Use the mpath_member ID_FS_TYPE set up by the multipath udev rules.

commit f617afe6716cfaf5683876d965b6eb77c49b2ed0
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 5 16:23:19 2015 -0500

    Make blivet.populator into a subpackage.

commit 0b4e435e14768785cf0f994d8aa54d7fa317ec15
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 29 13:22:19 2015 -0400

    Convert device_get_dm_partition_disk to not be dm-specific.

commit 237faf53129e575faafad6cfeecf96c707d50c4b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 11 13:10:32 2015 -0500

    Use DeviceTree.__str__ when printing devices in examples.

commit 5b8b4b3cac3488b924dc23ffdc801eddfbca6395
Merge: 0f4607bc 97d593b8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 3 14:10:11 2015 -0500

    Merge pull request #290 from rhinstaller/dwlehman-disk-image-test-root
    
    Disk image test can only be run as root.

commit 97d593b8ddd69049e69dac54642ee959f178fd60
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 3 13:35:01 2015 -0500

    Disk image test can only be run as root.

commit 0f4607bc4108dacb88fa6cafeec5f538124e5145
Merge: 050d4e69 8e23b392
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Nov 23 15:16:21 2015 +0100

    Merge pull request #280 from vpodzime/master-teardown_images
    
    Teardown all descendants devices before tearing disk images down

commit 050d4e692cdc1251dc9b206693b9c2c84ea085cf
Merge: bad52133 113f5230
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Nov 23 15:05:26 2015 +0100

    Merge pull request #285 from vpodzime/master-camel_case_fixes
    
    Fix few more camelCase leftovers

commit 113f52307318e1d03fd69225d4ce1e4217e286c5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 20 13:32:22 2015 +0100

    Fix few more camelCase leftovers
    
    These are not so easy to find by pep8 or pylint because they are just strings.

commit bad521334ccb5b5eed799cdb70865fade6eaac02
Merge: e8218f7c 249350c4
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 19 16:01:57 2015 -0500

    Merge pull request #272 from dwlehman/pep8-check
    
    Add PEP8 compliance checking to 'check' target.

commit 249350c4786134cefc164ddfe4557fd189f07265
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 19 15:47:54 2015 -0500

    Fix various PEP8 violations in recent EDD commits.

commit 243f7c6d588b98837104faafb45c4906bd41e6ce
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 19 15:47:54 2015 -0500

    Add PEP8 compliance checking to 'check' target.
    
    Moves 'pylint' to its own target, adds a 'pep8' target, and makes
    the 'check' target empty with 'check' and 'pep8' as prerequisites.
    This allows the user to run either pylint or pep8 separately or
    together.
    
    It also makes it possible to plumb a user-specified PYTHONPATH
    into the 'pylint' target.
    
    We are currently ignoring errors for overly-long lines, hence the
    '--ignore E501'.

commit e8218f7c80bed06c228e6e27f24233124cd69899
Merge: 5c778c19 fc04bc8f
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Nov 19 10:54:26 2015 +0100

    Merge pull request #279 from vpodzime/master-path_fix
    
    Only prepend the root to get the ondisk path if there is some

commit 8e23b39221158245a85d6afd8ec45b67fd169529
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 13 14:36:44 2015 +0100

    Teardown all devices before tearing disk images down
    
    DM maps cannot be removed while they are in use so in order to make them
    removable, we need to teardown all devices "built" on top of them first. Since
    we don't support using disk images together with real disks we can safely just
    tear all devices down. This makes our examples (and possibly some tests) better
    clean after themselves.

commit 5c778c19386efeddbdefda16d0333a34665aa435
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Nov 16 14:42:07 2015 +0100

    Change doc Introduction to reflect PEP8 compliance changes

commit 448fdf65b890b344768a09d46229ec7d71724114
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Nov 16 14:39:57 2015 +0100

    Few PEP8 compliance related fixes

commit 7b72d706ef588e0a430adc748197ca233fb9dd34
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Nov 13 15:34:28 2015 +0100

    Pass devices arg when calling actions.process

commit e90ad2c3e0597bfd91b1abf9dc439ba28ac40d75
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Nov 13 10:12:06 2015 +0100

    Do not catch CryptoError when decrypting LUKS format (#1280239)
    
    LUKS format.setup now raises LUKSError not blockdev.CryptoError

commit 2392e52ac0f0423689671a313ca5ca8fa2c7b90f
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Nov 16 08:22:13 2015 -0800

    Fix makebumpver for new conf.py
    
    In conf.py release and version are the same thing, only version needs to
    be updated with the new version string.

commit c0a4e67d53d17b391faf531a088fb4e3ab299a34
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Nov 11 07:59:32 2015 -0800

    Bump version numbers to 2.0 before we forget.
    
    This branch is now 2.x development. The first build will need to skip
    bumpver to keep the 2.0 release number, for now change it manually so
    that we don't accidentally build with a 1.x version.

commit fc04bc8f4ab057fa73ac448402fdc167d653267b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Nov 13 10:35:17 2015 +0100

    Only prepend the root to get the ondisk path if there is some
    
    Otherwise we get things like this:
    '/home/user/sources/blivet/None/sys/devices/.../block/sda/size'
    
    which is not really what we want.

commit 5f879b367bb51bb5f96dbc0c1b5c8457d5d13105
Merge: 0c43c957 e5a76f40
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Nov 13 08:52:16 2015 +0100

    Merge pull request #277 from vpodzime/master-getattr_names
    
    Update the getattr calls with PEP8 property/attribute names

commit 0c43c9570954d95d70638c850c3f02a44b8b3239
Merge: 6f9dd6ed b4baf5e7
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Nov 12 18:36:42 2015 +0100

    Merge pull request #274 from vpodzime/master-lvm_cache_size
    
    Do not try to get LVM cache's size from stats for inactive LV

commit 6f9dd6ed7307ada7633c0caff9edeba943cd3426
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 12 10:10:14 2015 -0500

    Ignore unused memo_dict arguments in __deepcopy__ methods.

commit e5a76f40fb6b8d93b28803555a3bfe36be394075
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Nov 12 14:37:55 2015 +0100

    Update the getattr calls with PEP8 property/attribute names
    
    In order to have a nicer code we have recently moved from camelCase names to
    split_words names. While the change covered all the direct accesses (pylint
    would catch any problematic ones), it didn't cover the cases where we access the
    items indirectly via the getattr() call. This fixes all the getattr() calls that
    tried to access any camelCase items.

commit 7d4a5d4a7dff62a77a7d04cf44fb3a7f08c687f9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Oct 7 12:23:59 2015 +0200

    Do not create a copy of singleton objects
    
    They are singletons and thus should only exist in single instances.
    
    Related: rhbz#1267944

commit 61c75c890edcc25c33238d3cf4db76b40bcd9c57
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 10 13:40:53 2015 -0500

    Fix pylint problems with the new default namedtuple stuff.
    
    (1) Something's going on with pylinting util_test.py leading to
    tracebacks that end line this:
    
      File "/usr/lib/python3.4/site-packages/astroid/builder.py", line 39, in parse
        return compile(string, "<string>", 'exec', PyCF_ONLY_AST)
      File "<string>", line 2
        class 1(tuple):
    
    No one wants to wade into that, so just disable pylint on that one file
    for the moment.
    
    (2) Don't worry about TheDefaultNamedTuple not having an __init__.
    That's just one pylint can't figure out.
    
    (3) Get rid of an unnecessary lambda.

commit b4baf5e7c9c7a7afe28ff6183aea8c0b4fa7702e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Nov 10 21:04:56 2015 +0100

    Do not try to get LVM cache's size from stats for inactive LV
    
    If the cached LV is not active, we cannot determine the size of its cache from
    the stats because these are only available for activated LVs. However, if the LV
    and cache exist, we examined them on devicetree population and got the
    information about the size at that point. Thus we can used the stored value if
    the LV is no longer active.
    
    Also, keep the logic of when we should be able to get stats in one place.

commit 3c458c968fd3f797ba387530993c7155ae2e4f93
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Add mostly fixed virt data
    
    This is data for seabios with
    https://github.com/vathpela/seabios/tree/edd applied to try and actually
    make EDD work on our virtual machines.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 6eb2e4035ee896039994c09a9670461b3fede05b
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Add another terrible seabios dataset
    
    So apparently if it actually shows the EDDv3 info on a SATA drive, it's
    just a matter of luck.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit cf491194ac4a2121b6df4669ee66dbbaf54f66c4
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Add test data from a Strawberry Mountain machine w/ lots of SATA.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 292d42520203b3890bf185f2183363571cf8e65d
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Fix the error case in the "absurd_virt" test.
    
    The problem is that SeaBIOS (and thus our qemu VMs) doesn't enumerate ata
    devices separately from PCI devices.  So on a real system,
    EddEntry.ata_device should reset to 0 for each new PCI device, but on a
    virt running SeaBIOS, they just count up monotonically.
    
    So do the /right/ thing when we can, and if we don't find a correct
    device, try relaxing the requirement on the scsi target id in sysfs, and
    see if we find the right port number anyway.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit b95c644d6f49db46025b0ab603bb1f93cd294587
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Add absurd_virt tests back in
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit f8dc45f6d62c9184ca8beed28960c7dfe67f4f88
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Try to detect multiple ATA/SATA matches and log them.
    
    This is probably always indicative of a bug in firmware or our matcher,
    but that's still worth the logging.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit d5f7851a8175313d2ca48b065803f49d67797ad7
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Split up VirtIO and VirtIO SCSI matching

commit 0802c49e77b31b1fde066cdbae7d7d75d213a8ff
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Log every glob.glob() match in our test data log.
    
    This way we can be sure we collect them for test cases.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 1059fc2d34052c18959181c38ee2dd70c5875115
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Eradicate fsroot entirely.
    
    This gets rid of EddEntry._sysfsroot and the sysfsroot property
    entirely, because we don't need these at all any more with our Path
    object.
    
    This also tries to limit how much we manually interpolate the fsroot.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit fa8b55afe92625b841b7fc6381d52990893622b3
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: add EddEntry.bios_device_number
    
    This lets us tell (and log) which edd entry we're probing.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 94468c5f91f6731acf721f7887ce4a7c0508e992
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Make our own assertVerboseListEqual to get rid of truncated output.
    
    It's really annoying that there's no way to turn off
    unittest.assertEqual()'s stupid string truncation, and it makes it very
    difficult to debug test failures that involve a fairly large amount of
    data.  So replace it with something that tells us the meaningful bits.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 78266891bce197304e7734da769c07cbb3621019
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    edd: Add sysfslink for mbr matches
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit a99f7fae75f6f32dffe53974bf1da04aaa8ba390
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:10 2015 -0500

    Make get_sysfs_attr() use our path joiners and add sysfs_readlink()
    
    Because seriously, code shouldn't have to care about if we do
    get_sysfs_attr("/sys/foo/","bar") or get_sysfs_attr("/sys/foo","/bar")
    
    This also makes these functions able to deal with an alternate root
    directory separately from the sysfs path.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 4a6864ec66a54e81fef10341b96b007a810fd828
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:09 2015 -0500

    Make a "Path" object that handles separate fs root for us.
    
    This also makes path joining simpler, and automagically normalizes
    slashes reasonably.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 67b38b345f2af9e50955971a5527628e8bc4a18a
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:09 2015 -0500

    edd: Minor PEP8 fix
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit ca3bb4ff7532cc29104a6e5dacae9324ea15a470
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 6 15:58:09 2015 -0500

    Add a much much simpler path normalizer and joiner.
    
    I'm just so, so tired of futzing around with os.path.join() and
    os.path.normalize() not doing their jobs usefully.
    
    This version of normalize doesn't try to resolve .. or symlinks; it only
    de-dupes slashes.  I can't find anywhere we depend on resolving ..  or
    symlinks, so it's just not as pretty as it could be.
    
    So basically if you need to normalize slashes, use
    util.normalize_path_slashes() .  If you need to resolve symlinks, use
    os.path.normalize()
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 18c12a40fa97790800b152952ab3e1283527342d
Merge: c42fbf3f 9d822397
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Nov 6 21:20:02 2015 -0500

    Merge pull request #268 from vpodzime/master-default_namedtuple
    
    Add a class constructor for namedtuples with default values

commit c42fbf3f5f1980726f1fd443d92a9d57baa603bd
Merge: 29917730 70de6cfe
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 6 14:57:32 2015 -0500

    Merge pull request #271 from dwlehman/default-fstype-error
    
    Improve clarity of error when setting new default fstype fails.

commit 70de6cfecdffbdceffdab4be61219b749cf77e61
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 6 14:17:17 2015 -0500

    Improve clarity of error when setting new default fstype fails.
    
    It's good to log the full format we instantiated, but we should be
    inlcuding the type -- not a DeviceFormat instance -- in the error
    message.

commit 2991773044dffa38041d59a319abf0fb64030aed
Merge: f5ba22f3 1e5005c1
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Nov 5 13:52:02 2015 -0500

    Merge pull request #270 from vpodzime/master-lvm_factory_metadata
    
    LVM factory LVM metadata

commit f5ba22f335092fee50c1f97008d0e4eb11cdb586
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 5 11:04:00 2015 -0500

    Fix missed rebase of populator test from 169dc6b6.

commit 9d82239739fd228e2e2c7a41c32317f3fc76b3ac
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Nov 3 11:03:44 2015 -0500

    Add a class constructor for namedtuples with default values
    
    namedtuple classes are great as pure data objects one can store things in and
    then access them really easily. The problem is that if a new field is added to a
    namedtuple, all places creating instances of it has to be modified to provide a
    value for that new field. The default_namedtuple class constructor implemented
    in this commit constructs namedtuples with default values for (some) fields and
    fields without any value passed defaulting to None.
    
    Such default namedtuple classes are still great for storing data and
    e.g. passing data to functions/methods grouped into a few objects (like
    DeviceInfo, FormatInfo,...) passed as arguments, but allow us to add extra
    fields in the future (e.g. a new device attribute to DeviceInfo) without
    breaking the API.

commit 1e5005c1e0543ccc6ee9a6edb82f794b1ec29a16
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 4 14:46:36 2015 -0500

    Use lvm.round_size_to_pe() instead of get_lv_physical_size() with the VG size
    
    The result is the same, but it just makes more sense.

commit d16644c6a365694c22062b79e62aa4cfbf8926bb
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 4 14:39:30 2015 -0500

    Account for LVM metadata in the LVMFactory
    
    If we want to have an e.g. 1020 MiB big container (VG), we actually need more
    space for it because LVM puts its meta data to the PVs the VG consists of. We
    need to account for this meta data otherwise we get less space then requested.

commit 46f3bfa7096c3530c6de29e93e29dfcec3f40dca
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 4 14:37:19 2015 -0500

    Put the LVM metadata size calculation into a separate property
    
    By default LVM puts metadata on every PV a VG consists of. We need to account
    for that space when calculating the size of the VG, but it's useful in other
    cases too. Thus the value should be available as a separate property.

commit 95633bc550bc51afc5b97dd633356a131e586e64
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 4 14:15:30 2015 -0500

    Rename size->space in LVMFactory._get_total_space
    
    The variable actually holds the information about the space the container
    occupies so 'space' is just a better name.

commit 918d0bdd77e0038b294ba4b29e1923469b7130a0
Merge: c4b96a1e 32ff4059
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 5 09:41:15 2015 -0500

    Merge pull request #264 from dwlehman/devicetree-cleanup
    
    DeviceTree cleanup

commit 32ff4059f8b0ca4770f561bf6f17367a5231b10f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 28 15:11:06 2015 -0400

    Remove action-oriented wrapper methods from DeviceTree.
    
    This replaces ActionList.append with ActionList.add. While perhaps
    less intuitive to python people, 'add' and 'remove' are the most
    obvious ways to manipulate a list.
    
    DeviceTree methods removed:
      register_action->actions.add
      cancel_action->actions.remove
      find_actions->actions.find
      prune_actions->actions.prune
      sort_actions->actions.sort
      process_actions->actions.process

commit 3acd2238dcb82adee6d82078dababd8beb4adec8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 28 14:47:43 2015 -0400

    Put DeviceTree methods into a sensible order.

commit c4b96a1e02664f53bb3f121108c6b8417c04a0e1
Merge: 81732f1c bfa717f3
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 5 09:38:17 2015 -0500

    Merge pull request #263 from dwlehman/pep8-branch
    
    PEP8 compliance

commit bfa717f3efcce7951cdaa36e8eb87b2d18c9cce2
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 3 12:06:00 2015 -0500

    Fix remaining PEP8 violations.
    
    The only violations that have not been addressed at this point are
    overly long lines, which I would like to address eventually.

commit d3d2076ae76dfcb71323d0d423e5adde240b5714
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 28 09:31:22 2015 -0400

    Fix PEP8 indentation issues.
    
    This is the exact result of running the following command:
    
      python3-autopep8 --select E1 --in-place $(find . -name \*.py)

commit 202e1eb5e15226e2c69b01cf7f1ccc028bf2b599
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 27 16:57:16 2015 -0400

    Fix the easy PEP8 violations.
    
    This is mostly adding blank lines, removing unneeded spaces, &c.
    
    I ran the following command to generate these changes:
    
      python3-autopep8 --ignore E501,E1 --in-place $(find . -name \*.py)

commit 4e8f941bcf7e08fefa47595a87cdf62670562eaf
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 27 15:26:19 2015 -0400

    Make all names conform to PEP8.
    
    Several manual conversions were done, eg:
    
      auto_part -> autopart
      autopartition -> autopart
      file_system -> filesystem
      multi_path -> multipath
      boot_loader -> bootloader
      sub_volume -> subvolume

commit 81732f1c3963dc84dbe99c2d98c3574a94615add
Merge: b989cb52 169dc6b6
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Nov 4 19:46:35 2015 -0500

    Merge pull request #267 from atodorov/fix_1252703
    
    Update dmdev size when setting up disk images

commit 169dc6b6d038450bfab9335e3c4adcbe164e8ca6
Author: Alexander Todorov <atodorov@redhat.com>
Date:   Tue Nov 3 09:54:01 2015 -0500

    Update dmdev size when setting up disk images
    
    The size needs to be updated after the sysfs path has been setup.
    Related: rhbz#1252703

commit b989cb5270e24bb6b05fb465d5ff983b56e5dd4b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 28 18:20:37 2015 -0700

    New version: 1.16

commit e0f33ee38ce8bf66573b3d74c7ff8ebb4c782b07
Merge: dc159f8d b49b61fd
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Oct 28 21:26:59 2015 +0100

    Merge pull request #257 from vpodzime/master-singleton_decorator
    
    Make the function adding the deprecation doc text more generic

commit dc159f8d1c58297fd79372f1b23745f2f9b3479c
Author: Peter Jones <pjones@redhat.com>
Date:   Wed Oct 28 11:20:03 2015 -0400

    Add pylint stuff to .gitignore
    
    This adds pylint-log and tests/pylint/.pylint.d/ to .gitignore.
    
    I hate looking at this stuff in "git status", but removing it isn't
    worth the trouble.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 76924d8fe35856f4a8d13f3a713b9d74eeafd455
Author: Peter Jones <pjones@redhat.com>
Date:   Wed Oct 28 11:00:55 2015 -0400

    Minor cleanups in set_up_logging()
    
    This just fixes up some minor "make check" problems; apologies for not
    having them in the previous commit.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit b9f1f2421c4b2fa5fbcb000374087901bf88c5b9
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Oct 23 13:45:29 2015 -0400

    Make a logger for test data that we can automatically use later
    
    This adds another logger that we can use to write data to about what we
    find on the filesystem, in such a way that we can use that data to
    recreate test cases later, automatically, from the log.
    
    This also adds that data to all the EDD code.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit a06be9a111bcae4ff2422c44fd755d34aa110ac8
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Oct 23 13:39:56 2015 -0400

    edd: Fix one regexp so it matches against a real system /or/ test data.
    
    Woops.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit f062f1e4a8897bd1ba377c45be6cb555bd34faf0
Merge: 64e7b0e6 76af2bb6
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Oct 27 07:13:16 2015 +0100

    Merge pull request #253 from dashea/libblockdev-python
    
    Require the python libblockdev packages

commit b49b61fd65c18ef6731c3aa51618c069e468228b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Oct 26 13:58:26 2015 +0100

    Make the function adding the deprecation doc text more generic
    
    This way we can use it not only for the deprecation decorator, but for similar
    things as well.

commit 64e7b0e67222b7f57626108ac1bfc2e00f256c81
Merge: 42d5de5e 5a1c2d62
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 22 10:32:49 2015 -0400

    Merge pull request #242 from dwlehman/resolveDevice-regex
    
    Fix an overly inclusive regex in DeviceTree.resolveDevice.

commit 5a1c2d62b51e5e0ee752ec782f5db5b6f223a07a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 8 16:45:52 2015 -0400

    Fix an overly inclusive regex in DeviceTree.resolveDevice.
    
    Also adds support for specifying partitions by bios disk, eg: 0x81p3
    
    Fixes #152

commit 42d5de5ea37e62714ec6ad53252dcf7cdf588ecb
Merge: a5e78e21 b2d923b7
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Oct 21 13:58:17 2015 +0200

    Merge pull request #244 from atodorov/master
    
    Produce coverage-report.log and enable coverage in CI

commit 76af2bb63f4a45b5d8208ea2440f05c7a01bbc04
Author: David Shea <dshea@redhat.com>
Date:   Mon Oct 19 11:04:59 2015 -0400

    Require the python libblockdev packages

commit a5e78e21929ef71b3a09e5e548dc9004ed4100fb
Merge: 6c8517f2 3b4885e0
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Oct 19 16:24:59 2015 -0400

    Merge pull request #243 from dwlehman/flexible-alignment
    
    Allow allocation of small, minimally-aligned partitions.

commit 6c8517f24b6a352c9a1fe27e69b26cca82cf9985
Merge: b9b86c48 1d5e5f66
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Oct 19 19:10:41 2015 +0200

    Merge pull request #230 from vpodzime/master-lvm_debug
    
    Add a 'debug' flag and use it for LVM debugging

commit 1d5e5f66d0dee99b4ba9ab4b6f6ca0086602fdc6
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Sep 21 17:20:34 2015 +0200

    Add a 'debug' flag and use it for LVM debugging
    
    Many times we have been asked by the LVM team to use the '-vvvv' option whenever
    we do any LVM action so that the logs contain more (debugging)
    information. However, getting the output of every single LVM command cluttered
    with a lot of debugging info would be confusing for both us reading the logs and
    the code parsing the output of such commands. The trade-off solution is to pass
    the 'log{level=7}' config with all our commands that causes LVM to put the extra
    info from '-vvvv' to a log. The default is syslog (i.e. journal), but since LVM
    produces a huge amount of debugging log messages with level=7, it's better to
    put it them into a separate file.

commit b9b86c485cce1d6d7ffaa64aa4220cdbbcfba56c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 16 08:31:35 2015 -0400

    Bypass util.run_program to avoid logging deadlock.
    
    Resolves: rhbz#1272133

commit b597e450b4cf3975840bf6f379c78bb5cdb33bbc
Author: Peter Jones <pjones@redhat.com>
Date:   Wed Oct 14 16:12:49 2015 -0400

    Add an edd test data harvester.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit e9c03977735466c0677a857087a414a5242f8cf4
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Oct 13 15:07:14 2015 +0200

    Do not save None as passphrase for LUKS devices (#1269646)
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 7e96f1e9847a4f3b3d4d17e93f38cea6054e9eef
Author: Peter Jones <pjones@redhat.com>
Date:   Wed Oct 14 13:49:37 2015 -0400

    edd: make logging work usefully during tests
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 847f94e58adaac52af293dfde027c381cfaa8834
Author: Peter Jones <pjones@redhat.com>
Date:   Wed Oct 14 11:47:46 2015 -0400

    edd: Get rid of biosdev_to_edd_dir(), it is pointless.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit afca902bcb7246892548f644cf25fd9c81925601
Author: Peter Jones <pjones@redhat.com>
Date:   Tue Oct 13 13:55:50 2015 -0400

    Make distutils.filelist.findall() do the right thing with symlinks maybe.
    
    I'm not sure this would be right if we actually wanted to /include/ the
    symlink itself, but since so far they're all in directories we don't
    include in the tarball, this will at least make the traversal of them
    not fail.
    
    This fixes "make local" with the EDD test case data.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 2a7c1238036328103a6eaa3ff1f7de4e8f3223a5
Author: Peter Jones <pjones@redhat.com>
Date:   Tue Oct 13 13:42:00 2015 -0400

    edd: Fix some minor 'make check' complaints.
    
    This fixes the following warnings from http://newcutlet.install.bos.redhat.com:8080/job/blivet-master-PR/105/console :
    
    W1201(logging-not-lazy):435,12: EddMatcher.devname_from_scsi_pci_dev:
    Specify string format arguments as logging function parameters
    W1201(logging-not-lazy):439,16: EddMatcher.devname_from_scsi_pci_dev:
    Specify string format arguments as logging function parameters
    W1201(logging-not-lazy):448,12: EddMatcher.devname_from_scsi_pci_dev:
    Specify string format arguments as logging function parameters
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 9f8e60159deb60ff81135ca942b826dbb82cba27
Author: Peter Jones <pjones@redhat.com>
Date:   Tue Oct 13 13:41:58 2015 -0400

    edd: Make devicetree not use edd.edd_dict, instead use blivet's copy.
    
    The edd module used to try to cache the edd output at the module level.
    This makes tests awkward when they replace the whole dataset without
    trying to fix the whole module scope, so I had removed it, not realizing
    blivet.devicetree.resolveDevice() was using it.
    
    This makes blivet.devicetree.resolveDevice() use blivet.eddDict instead.
    
    This fixes the following error from http://newcutlet.install.bos.redhat.com:8080/job/blivet-master-PR/105/console :
    
    E1101(no-member):938,42: DeviceTree.resolveDevice: Module 'blivet.devicelibs.edd' has no 'edd_dict' member
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 942dce6110f08d1e8abafb84ae200b0e0f54300a
Author: Peter Jones <pjones@redhat.com>
Date:   Wed Oct 14 11:42:23 2015 -0400

    edd: Remove the "absurd_virt" test cases for now.
    
    There's actually a bug here that triggers sometimes but not others
    (based on filesystem order), so in the interest of not mucking up the
    builds, don't actually run those tests until it that's fixed.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 5724d17e655f87479ce741296551a72d11901cf9
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 9 16:53:32 2015 -0400

    Add a udev settle call after instantiating parted.Disk. (#1267858)
    
    udev sees parted close a rw fd to the disk (in this case an md fwraid)
    and tries to be helpful by telling the kernel to re-read the partition
    table. That causes the partitions to disappear briefly, which can be
    problematic.

commit 7245a7ccc3c3dd20692e4f6d8b91ea78de99b19e
Author: Peter Jones <pjones@redhat.com>
Date:   Mon Oct 12 15:27:06 2015 -0400

    edd: Add missing directories for absurd_virt test case.
    
    Some of the directories from f5e4a2bced8d didn't get added, because "git
    add" silently accepts empty directories without bothing to tell you it's
    not going to do anything with them.  But in this case, the directory
    path itself is important.
    
    So add some stub files in them.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit b2d923b7649eb790ef58f5d9bb85e6eb1a01d20b
Author: Alexander Todorov <atodorov@redhat.com>
Date:   Mon Oct 12 15:37:08 2015 -0400

    produce coverage-report.log and enable coverage in CI

commit 3b4885e0501140e6fe0a76f523fc7ee99e47d83a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 9 17:01:55 2015 -0400

    Use minimal alignment as needed when allocating small partitions.
    
    Resolves: rhbz#1267858

commit 93c805d74b6ee893e8f9cf59663207ffd45268c3
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 9 16:59:35 2015 -0400

    Add support for minimal alignment of very small partitions.
    
    This patch teaches blivet to use the minimal alignment if the optimal
    alignment's grain size is larger than the requested partition.
    
    Some disks export an optimal io size of 16 or even 64 MiB. Blivet
    always using the optimal alignment made it impossible to allocate
    a PReP partition (allowed size range 4-10 MiB) on these disks.
    
    Related: rhbz#1267858

commit e8865f87aedf88d9ea5514e9e71ca80c2c4942c4
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 9 16:57:13 2015 -0400

    Add an error class for alignment errors.
    
    Related: rhbz#1267858

commit 4d75ff0673bc6024e6c56e4ae7d279f76dbf0621
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Oct 8 14:11:20 2015 +0200

    Deprecate createSubVolumes method
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit a58affd9b65c13823df0057eb18e660cb296218d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Oct 8 14:06:27 2015 +0200

    Change btrfs.do_self_mount to contextmanager (#1266673)
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 1ca8e4525277787ba5c9b9658a774d6da2cb7994
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Oct 9 15:22:14 2015 -0400

    edd: Remove a bunch of nonfunctional EDD tests.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 1640577c77e67e0762fb0bf85e1351f2d38b827c
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Oct 9 15:22:12 2015 -0400

    edd: Add another set of test cases for our QEMU data.
    
    This one is from QEMU configured absurdly.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit f5e4a2bced8d5e8c91a4b6510aedb2a02c40a9e5
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Oct 9 15:22:11 2015 -0400

    edd: Add another set of test data.
    
    This one is from QEMU configured absurdly.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit a57f8fa0d0cf489930a4e94642a736e784ab90e1
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Oct 9 15:22:10 2015 -0400

    edd: Add some working tests for EDD.
    
    Not many working tests, mind you, but some.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit e5a1fbc314c3dcc6a92c4df25757e0b06f3b7668
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Oct 9 15:22:08 2015 -0400

    edd: Add a real EDD dataset captured from a system.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit af859f2cfcbedc70996accc2fa566894b09856f9
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Oct 9 15:22:06 2015 -0400

    edd: Make our edd matcher able to use a fake sysfs root.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 2c5bbf3f9a734240ac9f8621ccd7e27f97a806a7
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Oct 9 15:22:04 2015 -0400

    edd: Add EDD 4 code and some logging cleanups.
    
    This adds support for EDD4 types and fields (some of which the kernel
    does not yet expose), as well as only logging relevant edd information.
    
    Here's an example log from a system with good EDD data booted from USB,
    installing to a locally connected SATA disk:
    
    15:16:01,198 INFO blivet: edd: collected mbr signatures: {u'sda': '0x00022a9f', u'sdb': '0x946a5e4b'}
    15:16:01,199 WARN blivet: edd: interface type USB is not implemented (/sys/firmware/edd/int13_dev80)
    15:16:01,199 DEBUG blivet: edd: data extracted from 0x80:
            path: /sys/firmware/edd/int13_dev80, version: 0x21
            type: USB, mbr_signature: 0x946a5e4b, sectors: 15667200
            host_bus: PCI pci_dev: ff:ff.255 channel: 255
            usb_serial: 808463921
    15:16:01,199 INFO blivet: edd: matched 0x80 to sdb using MBR sig
    15:16:01,202 DEBUG blivet: edd: data extracted from 0x81:
            path: /sys/firmware/edd/int13_dev81, version: 0x30
            type: SATA, mbr_signature: 0x00022a9f, sectors: 312581808
            sysfs pci path: ../devices/pci0000:00/0000:00:1f.2/ata1/host1/target1:0:0/1:0:0:0/block/sda
            host_bus: PCI pci_dev: 00:1f.2 channel: 255
            ata_device: 0
    15:16:01,202 INFO blivet: edd: matched 0x81 to sda using pci_dev
    
    Isn't that nice?  It is nice.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 2fb212654cd63feacd4f2aca7b14d4728e44f621
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Oct 9 15:22:03 2015 -0400

    edd: Try to make EDD support actually match what the kernel does.
    
    Basically the parser for ATA will kind of work with SCSI if lun==0, but
    it won't work with SATA or ATA at all, and the parser we had for SCSI
    will only work with virtio.
    
    This patch separates those all out by which kernel driver is actually
    providing the sysfs devices, and tries to match the EDD fields up with
    how they're actually provided by the kernel.
    
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 228923163d7aa370442428d35baa411b7785bac6
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Oct 5 17:14:16 2015 -0700

    Always build python2 and python3 versions.
    
    Also need to include the python2-devel package for the macros. Blivet's
    Makefile now defaults to python3 so we need to explicitly set the python
    version when installing.

commit 07f4cbd7f03a1b60afeafe2530816bff350ea752
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Oct 2 16:55:37 2015 -0700

    Switch to using rd.iscsi.initiator (#1268315)
    
    Deprecated dracut argument.
    
    Resolves: rhbz#1268315

commit 85c2a469d1be4821f32fecdd30c38229098e8dae
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Oct 2 17:22:54 2015 -0700

    New version: 1.15

commit a47c4aa13fe46c4333573b0dac54455416d4121e
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 2 11:16:29 2015 -0400

    Update Makefile to default to python3.

commit 0769b18b5acee2650e2461288dbf802017c73ddc
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Sep 22 14:24:27 2015 +0200

    Add test for extended partition minSize
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit be16c82f4b924404daeced5c335150c357523b35
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Sep 10 14:30:53 2015 +0200

    Allow resizing of non-leaf partitions
    
    Do not run _preDestroy when resizing partitions -- it raises
    exception when trying to resize non-leaf partitions (e.g. extended
    partition with logical partitions).

commit 831c7826237f178cfcfec073bb887697108ea56a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Sep 10 14:15:46 2015 +0200

    Fix minSize for extended partitions (#1254875)

commit 59f79f523c648e679314b018250e182e1bb84e14
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Thu Sep 24 10:57:53 2015 +0200

    Fix calling non-existing method (#1252902)
    
    Fix my bug from commit (#05feef37e2c5ae8fd63abe2198ccd8d55e09b08a) where
    I was calling non-existing device.format.umount() method, the unmount()
    (missing 'n') method exists there but it's still only calling teardown()
    instead of system umount. I'm changing call to util.umount() which
    calling the system umount.
    Because of this regression the first call of the
    _findExistingInstallations method will raise an exception so no existing
    installations were found and everything were in the Unknown group.
    The exception was logged to storage log as info so I missed it.
    
    Sorry guys for this issue.
    
    Related: rhbz#1252902
    (cherry picked from commit 57abe232f7a2c11a0c99ff425caa6a87ed577017)

commit 970ac11928a94376adadddd285737c0e2cd22e40
Author: David Shea <dshea@redhat.com>
Date:   Tue Sep 22 14:45:20 2015 -0400

    Use the RAID classes to calculate btrfs sizes (#1264696)
    
    We already have a bunch of a RAID size calculcation code, so use that
    for the raid modes of btrfs volumes.

commit 9bb0042a575d331cafea04621a886666bcddcbab
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Sep 22 08:48:00 2015 -0700

    Handle sysfs size if it is missing (#1265090)
    
    sysfs paths may, for whatever reason, not exist. Return '0' for int()
    instead of None if this is the case.
    
    Resolves: rhbz#1265090
    (cherry picked from commit 7630522c6105086ff5f09121b55de061a527e856)

commit 27d6d51119d35078e0a0d2e2e44791a2aa15dda8
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Fri Sep 18 13:30:46 2015 +0200

    Convert float to str for better precision in Size
    
    Convert float to string before it's converted to Decimal. This prevents
    precision loss.
    
    Related: rhbz#1224048
    (cherry picked from commit 46e03fe2e69039e2b4a9f4432fb1e2e542641cd4)

commit f46bd9ac2a1cba179b8a181d24298fbb6dafbbcb
Merge: d7efc54a 6fc20d30
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 17 14:07:15 2015 -0400

    Merge pull request #226 from dwlehman/lvactivate-lvmetad
    
    lvactivate when lvmetad is active

commit 6fc20d30bab3755e626d2ff02c7f3c77b923b170
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 15 11:24:29 2015 -0400

    Wait for auto-activation of LVs when lvmetad is running. (#1261621)
    
    When lvmetad is running, activating the last PV in a VG will trigger
    automatic activation of the LVs. This happens asynchronously, however,
    so we have to just wait for it to be done. Since it is possible to
    configure which VGs/LVs get auto-activated, we only wait for 30
    seconds. After that, we will try to activate the LV ourselves.

commit 91bf114fe431a51f0d76588071801c046eaf67f3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 15 11:24:06 2015 -0400

    Add a function to tell us if the lvmetad socket exists.

commit d7efc54a121c87a4be38f8b1fdb2454e914f4c48
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Mon Sep 14 12:53:05 2015 +0200

    Don't teardown FSs when searching for installed systems (#1252902)
    
    When looking for existing installations the FSs are mounted to the
    sysroot but if the device is protected it can't be teared down.
    
    Umount the disks instead of teardown. The teardownAll() method is
    used when all devices were tested.
    
    Related: rhbz#1252902
    (cherry picked from commit 05feef37e2c5ae8fd63abe2198ccd8d55e09b08a)

commit 6ff36989422f1a70f5aaed0dcfbb81e93b977776
Merge: 2e1f890e 4239cb86
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Sep 15 09:57:34 2015 +0200

    Merge pull request #218 from vpodzime/master-lvm_on_raid_improvements
    
    Improvements for LVM on RAID calculations

commit 2e1f890e1d055e11c714e0875b8bcbc9bd26977e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Sep 11 17:53:23 2015 -0700

    New version: 1.14

commit 63c5bff3b9cda804720ba7bb9779019822dc3b54
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Sep 9 12:24:32 2015 +0200

    Make sure devices are torn down in findExistingInstallations (#1261439)
    
    It's not that uncommon that findExistingInstallations() raises an
    exception. Even in such case we need to tear all devices down if requested. Also
    such exceptions should be just logged and not propagated as this function is a
    "best-effort" one.
    
    (port of commits bbe124c94772cb3313a05e9a00a663f75084be55 and
    71f77ec0e7f657a3e9bffd03b859e845b2598eb7 from rhel7-branch merged together)

commit 238fdb7e8ffe828dde37e7b61c7d52905bce42bf
Merge: 7851d90e d478f1fb
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 10 13:51:35 2015 -0400

    Merge pull request #211 from dwlehman/multipath-member-metadata
    
    Don't store UUIDs or labels of multipath members.

commit 7851d90e362c54130960c7d7d69bfec915d70226
Merge: 104fbd79 49e515f2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 10 13:45:07 2015 -0400

    Merge pull request #212 from dwlehman/recursive-teardown
    
    Continue with recursive teardown beyond inactive devices.

commit 104fbd792435b632acf1f3ea0823df4bca946548
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Sep 8 14:18:53 2015 -0700

    Mount efivarfs during os installation (#1260799)
    
    Tools running inside the chroot need access to /sys/firmware/efi/efivars
    if it exists on the host. eg. efibootmgr

commit 1d22e2a85087390a0455bcfcd49d6947fef70db4
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Sep 10 10:41:54 2015 -0400

    Use --whatprovides when querying for if all requirements are installed.
    
    There's no package named pygobject3-base.  It's actually named
    python-gobject-base, but it provides pygobject3-base.  Possible fixes
    are either changing the requires or just looking harder.

commit b083c0b063ebf72554264d9e8eb6f7e71967bd34
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Thu Aug 27 13:58:28 2015 +0200

    Add method for estimated size of formated device (#1224048)
    
    We are using magic numbers acquired by testing to reduce the size
    depending on a used format.
    
    Related: rhbz#1224048

commit 54a2af226457cb38565b780a2b96b6fb4aa6cb73
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Thu Aug 27 12:04:31 2015 +0200

    Add support for mul,div,sub,add by float to Size

commit 9a2b65aa9101001a6b91bc97b810bbeda5aa2035
Merge: 3c9d109a 4ced2303
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Sep 9 08:55:51 2015 +0200

    Merge pull request #220 from AdamWill/nodev-typo
    
    fix typo in NoDevice: updateSize not udpateSize

commit 4ced2303de0c5710189920bac3f9156985d1d2f4
Author: Adam Williamson <awilliam@redhat.com>
Date:   Tue Sep 8 15:58:17 2015 -0700

    fix typo in NoDevice: updateSize not udpateSize

commit 3c9d109a73dcfcfc69cf70ef5d1c069421c4ac32
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Sep 4 09:54:47 2015 +0200

    Duplicate VG names are problem even if their disks are ignored (#1198367)
    
    Even if user tells us we should ignore a disk that contains a VG with the same
    name as a VG on some not-ignored disk, it is a problem, because LVM has no idea
    about our ignored disks and thus fails to do things we need to do. More
    precisely, we tell LVM to filter the ignored disk out, but that only leads to it
    seeing a VG with no existing or not-ignored PVs which is no-GO for it.
    
    (port of the commit ba7e28a0c89c00fd8b8bf23189711b5c9ecd8549 from rhel7-branch)

commit 4239cb86014264a52f7055f8a6fee7b9c3c831cc
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Aug 31 14:59:19 2015 +0200

    Account for bigger LVM meta data due to alignment on MD RAID
    
    As explained in the inline comment LVM aligns data and meta data according to
    the underlying block device. In case of a MD RAID device where typically a
    512KiB chunks are used, this may result in twice as big space allocated for meta
    data as if a plain partition was used. Since the default size is 1 MiB, we can
    safely just use a double size in case an MD RAID device is used as a PV because
    we can be at most 1 MiB and thus one extent off in the end which is okay.

commit 716d9627e08912a993f759601f3c70b89cd082bf
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Aug 31 13:09:35 2015 +0200

    Calculate the MD RAID superblock size from the right size
    
    libblockdev inherited from blivet a very precise algorithm to calculate MD RAID
    superblock (meta data) size which was taken from the mdadm's sources. However,
    in mdadm, this algorithm is applied to a size of a single member device not the
    size of the whole RAID. Which makes sense, because the superblock area is on
    every member and it contains meta data about that particular member. Thus we
    need to pass the size of the smallest member device to the algorithm calculating
    the superblock size, not the total size of the whole RAID.

commit 07fff7ba0b22fb40319b8432700dbf4f93930704
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Aug 31 13:05:08 2015 +0200

    Don't be naïve about liblvm
    
    It's not going to be a working/usable reality any time soon so stop pretending
    the opposite as that's just confusing.

commit 8f9bc8abd5c322b98fe118ae206047eaff0aeca0
Merge: 07fa4191 cfad3235
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Aug 31 15:53:46 2015 +0200

    Merge pull request #215 from vpodzime/master-lvm_on_raid
    
    Do not reserve extra space for metadata in a VG with RAID PVs

commit cfad323514a42fffccc54a60c92fede4c8368679
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 26 08:28:08 2015 +0200

    Do not reserve extra space for metadata in a VG with RAID PVs
    
    Reserving 5 extents per disk per LV for metadata if a VG is on top of RAID PVs
    is a weird magic that saved us troubles with placing LVM on top of RAID, but
    even on the first it's just wrong and doesn't make sense. LVM doesn't allocate
    any extra meta data if an LV is added to a VG (unless it is a meta data LV of
    course) and the RAID device below it (the PV) is just a block device with some
    size and no matter how many disks are below, the meta data space used by LVM is
    just subtracted from the RAID device's (PV's) size. Moreover the LVM extent size
    has nothing to do with the RAID device so it's like mixing apples and oranges.
    
    If things don't fit we need to tweak our calculations of free space/size in/of
    an MD RAID device (depending on the level and underlying disks) since that's the
    only place where these tweaks really make sense. However, after quite a lot of
    testing it seems that we are reserving more than enough space for the meta data.

commit 07fa4191fda3ad738e645e94a1f40c828d6649c7
Merge: c78277c4 c6ad606b
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Aug 31 15:50:23 2015 +0200

    Merge pull request #207 from vpodzime/master-lvm_pmspare
    
    Better calculate required space for LVM cache

commit c78277c4f95edcaf3376daa115601db511c3d425
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 20 13:21:55 2015 +0200

    Fix currentSize for extended partitions (#1254899)
    
    It isn't possible to use size from /sys for extended partitions
    because it always reports it to be 2 sectors.
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit f3715a844ee3b7e5367146942f4d2e0c381e5fd0
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Aug 26 17:40:51 2015 -0700

    Catch problems with chassis vendor names (#1256072)
    
    If it can't be decoded it certainly isn't a Mac.

commit fdc0ed23bd754243be8328c54ff25d7838cd78e5
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Fri Aug 21 13:50:38 2015 +0200

    Don't teardown protected devices
    
    We don't want to unmount protected devices.

commit e7899cb5f5eb517d013f6578e117b3d666f5f61e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Aug 24 16:18:17 2015 -0700

    New version: 1.13

commit 208d1d64b7c8f1a8f9fafad6c52115a11b68f752
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Jul 27 10:52:21 2015 -0400

    Add CONTRIBUTING file to blivet.
    
    This contains patch submission guidelines for blivet, which are based
    on the kernel patch submission guidelines.

commit 72b9c8963aa1e9794297790d7e36a33b5aaf9a2b
Merge: fc1c563a 1af76925
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Aug 24 15:00:26 2015 +0200

    Merge pull request #208 from vpodzime/master-luks_catch_exceptions
    
    Do not propagate low-level blockdev.CryptoError when setting up LUKS (#1253925)

commit fc1c563a4c663152598fa08169fd6bd8dc8ef62b
Author: Jan Stodola <jstodola@redhat.com>
Date:   Mon Aug 24 14:43:03 2015 +0200

    Fix the name of the variable specifying requested libblockdev plugins (#1256273)
    
    This got mangled as part of the merge.

commit d478f1fb4d68a3a342bed28b43ff34131f02850d
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 20 13:21:56 2015 -0500

    Don't store UUIDs or labels of multipath members.
    
    multipath itself has absolutely no identifying metadata, so whatever
    metadata found on the member is related to the multipath set's
    formatting -- not the the multipath set itself (as is normally the case
    when metadata is associated with a member of a container/aggregate
    device). The same metadata should appear in the udev entry for the
    multipath, so we can (and should) ignore it in the members' entries.
    
    Resolves: rhbz#1254232

commit 49e515f2e8b62ce0c4f3f173af3e8e4610e1475e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 20 13:20:04 2015 -0500

    Continue with recursive teardown beyond inactive devices.
    
    We want to continue to recursively deactivate the parents even if
    the current device is inactive, but we don't want to run the
    _postTeardown method of a device we're not deactivating.
    
    Related: rhbz#1182229

commit c6ad606b2093adf3759c46cdc0feac680188e9c5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Aug 17 17:30:24 2015 +0200

    Reserve space for the 'pmspare' LV in a VG
    
    The 'pmspare' LV is created by LVM behind our back and it serves as a temporary
    space for some metadata reorganizations/cleanup/... so its size is equal to the
    size of the biggest metadata LV in the VG. If we ignore it, we lack free space
    in the VG later when creating LVs.

commit ed2ca91c5dc222f5331af8bc107ec422d606e058
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Aug 17 17:30:05 2015 +0200

    Add a property to get cached LVs in a VG
    
    May come handy in the future.

commit 67b04190f4bc02db76a1000cf38348a3e33fcbfe
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Aug 17 16:14:12 2015 +0200

    Fix VG free space check when shrinking an LV
    
    Shrinking means that there is an LV that fits into the VG (otherwise it cannot
    exist) and thus we can skip the check for maximum size according to the current
    size and VG's free space.

commit e48828c7184136c6dc8eb2b619515404debe2e63
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Aug 17 15:48:42 2015 +0200

    Add a property for Requests to reserve some extra space
    
    This is generic concept for requests that require some extra space that
    shouldn't be included in their base size because it is extra/external space
    taken from the same Chunk. The only usage/case right now is for LVRequests of
    cached LVs to reserve space for their caches in a nicer and cleaner way, but
    more are expected to come in the future because many devices require some fixed
    extra space that is not part of their real/usable size (usually some metadata
    space).

commit a280c0c97ea0c9dac9e9c840067ef32da53f7d2a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 11 16:11:46 2015 +0200

    Use Size instances for sizes in LVM cache's stats
    
    That's what we do in all other places in blivet.

commit 6ab1e678f4c68931ca6dead6ec20daef6670e442
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 11 15:52:08 2015 +0200

    Implement metadata size reporting for the LVM cache
    
    Metadata size is a useful information when doing calculations with LVs' sizes
    for example when growing LVs in a VG. We need to report the actual (if the cache
    exists) or planned (desired or default for a non-existing cache) metadata
    size. However, instead of complicating many places in the codebase by adding
    extra metadata space for requested caches, we just subtract the default metadata
    size from the requested size of the cache so that the whole cache
    (data+metadata) fits into the space or requested size. If both size and metadata
    size are specified, we respect them.
    
    Please note that this adds the metadata size parameter only to the internal
    LVMCache class. A full support of letting the user code to set metadata size
    would/will require more changes in multiple places. This is however definitely
    the compulsory first step.

commit 641d0c38ae85a4c7fb061cf516a784cfc4851e85
Merge: c07e4b18 e4ba1bdf
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Aug 19 14:41:37 2015 +0200

    Merge pull request #209 from vpodzime/master-thinp_fix
    
    Remove the cacheRequest kwarg for thin(pool) LVs (#1254567)

commit c07e4b18445a3e686819303934a321994aa91bce
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Aug 17 08:41:33 2015 +0200

    Change labelFormatOK to classmethods
    
    This allows fslabel validity checks without creating the format.
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 111b88d9f7057749a2bf8fb09b2ab43eecf05275
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Aug 17 09:00:15 2015 +0200

    Add 'build' and '.directory' to gitignore
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 8a4ddc8fd1b0f5e0027e95521b7f0f3d48a120c0
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Aug 17 11:53:58 2015 -0700

    Fix copy method (#1254135)
    
    removed needs to be setup outside the loop.
    
    Resolves: rhbz#1254135

commit b83fbedc1c71cd5bc06d2dd1b8afff6a7f407f4d
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Aug 13 09:50:20 2015 -0700

    Add OSError to list of errors in updateSysfsPath (#1252949)
    
    One more error that pyudev can raise.
    
    Resolves: rhbz#1252949
    (cherry picked from commit ecf779c1bf9be0f57647ab39ea18aea4e2d97d43)

commit e4ba1bdf2cef72c67156bf1e63a4c3b01b1040df
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 18 14:07:45 2015 +0200

    Remove the cacheRequest kwarg for thin(pool) LVs (#1254567)
    
    Otherwise a traceback appears because thin(pool) LVs don't support this kwarg.

commit 1af76925bb5d74220d5b91755bfa2d7146bd562d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 18 11:10:46 2015 +0200

    Do not propagate low-level blockdev.CryptoError when setting up LUKS (#1253925)
    
    Otherwise callers like anaconda would have to catch this low-level error
    (requiring libblockdev as a dependency and other issues) to prevent tracebacks
    when trying to unlock LUKS (possibly with a wrong passphrase).

commit 21030ec63cfa70d99bfb7fe12e6a93521b2444b8
Merge: 4d2ffd61 0c5aac76
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Aug 14 09:07:36 2015 +0200

    Merge pull request #199 from vpodzime/master-lvm_cache_tests
    
    Add unit tests for the LVM cache support

commit 4d2ffd6172871c126aae4f423a064937f9baa8bb
Merge: ee9350b0 441809b9
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Aug 14 07:37:05 2015 +0200

    Merge pull request #201 from vpodzime/master-mountsCache_resolve_devspec
    
    Use device name from udev only if it's available (#1252052)

commit 0c5aac7656a3dc6357cfc89dc7ea333b81076b0b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Aug 14 07:29:31 2015 +0200

    Prefer code consistency over pylint's complaints in tests

commit 8b6bc52a0de8d6849ed2b4dda8e8ede132210f23
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 12 14:07:05 2015 +0200

    Add a basic test for cached LVMLogicalVolumeDevice's properties
    
    It should report it is cached with some other values reflecting the fact too.

commit 83f2e98206144e3f7fd466ba679c0c7f1079c7a8
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 12 13:46:55 2015 +0200

    Add a basic test for LVMLogicalVolumeDevice's properties
    
    We need to make sure these are all available and have proper values.

commit 30c7c87ada9302a416e572486837dee0821e9ca9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 12 13:45:31 2015 +0200

    Make sure LV's properties reporting size return a Size instance
    
    If there are no such internal LVs as some properties check, the result is
    sum([]), which is 0. However, these properties are supposed to return size, thus
    a Size instance.

commit bba699289fc32a003741994fcef7377908b0bbd7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 11 12:48:06 2015 +0200

    Add unit tests for the LVM cache support
    
    So that we can catch possible regressions easily in the future.

commit 441809b9404bb49d8f86f18d637a88b19c223473
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 12 12:37:30 2015 +0200

    Use device name from udev only if it's available (#1252052)
    
    Sometimes we may know about a device udev has no (longer) idea about. For
    example if an LV is deactivated and thus it's device node gets destroyed. We
    shouldn't replace a valid device spec with None in such cases.

commit ee9350b08a54f1cd1b2b3e6014b1e9c9336e9d9f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 6 17:22:01 2015 +0200

    Add test for getFreeSpace aligning
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 719c0a10c440b7b73e1fa437919c204cb0a4c3ad
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Aug 5 13:45:29 2015 +0200

    Allow aligning free regions to disk grainSize (#1244671)
    
    Using full size of a free region results in PartitioningError
    because blivet expects the size of new partition to be aligned
    to disk grainSize (and rounds the size up if it isn't aligned).
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit e039430e66e43e4e466d7b22eb2c57c56154d80a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Aug 7 11:00:08 2015 +0200

    Fix _unalignedMaxPartSize for logical partitions (#1250890)
    
    This fixes two problems: free space inside extended partition was
    not recognized and free space outside of extended partition was
    considered as valid for resizing.
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 70810987339542278d7383abebbce31ffa0fbe32
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Aug 7 17:19:11 2015 -0700

    New version: 1.12

commit c4c17843161443a6c8d151e06068d93f94b6b58a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 30 15:28:28 2015 -0500

    Remove unusable free regions from list when setting up growth.

commit bf04fa18a439d96058e8dcf488140235cc32e982
Merge: b113cdda 5512c61d
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 6 16:12:46 2015 -0500

    Merge pull request #190 from vpodzime/master-lvm_cache_creation
    
    LVM cache creation

commit b113cddaa5a6b44af93e8fd23b3bf8730a1429ef
Merge: 9c01971b 349f9f05
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 6 16:12:20 2015 -0500

    Merge pull request #194 from dwlehman/mount-cache-symlinks
    
    Fix mount cache for devices with symlinks

commit 9c01971b149e8322f96ca5ebb39a0b989ec904bf
Merge: 2b84598d ffa71627
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 6 16:11:55 2015 -0500

    Merge pull request #193 from dwlehman/md-fwraid-detection
    
    md fwraid detection

commit ffa7162762cc151b25f5802fd6284a41ce8fa7b9
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 5 12:27:48 2015 -0500

    Add unit tests to cover md containers.

commit 20f621d894fd4e011eeef8c0387d5544261d6c85
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 4 11:55:32 2015 -0500

    Minor cleanup of blivet.formats.fs.BTRFS._preSetup.
    
    Fix return type and improve logging of method call.

commit 6c562dbf2b8b9c5efd5d0fc4395524f26c104bbc
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 4 10:31:24 2015 -0500

    Fix isDisk and partitionable properties for md fwraid.
    
    We want MDBiosRaidArrayDevice to use the properties from StorageDevice
    instead of those from MDRaidArrayDevice.
    
    Related: rhbz#1245191

commit ac8119eaa650a1c010b9d33d0ab90f7658203970
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 4 09:29:56 2015 -0500

    Don't use MD_DEVNAME as device name for md partitions.
    
    Related: rhbz#1245191

commit 955c35718644c35f8aab81402848520eb4fcf844
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Aug 3 12:13:11 2015 -0500

    Use udev to find name of md members' container.
    
    mdadm examine doesn't give the name of the container a member disk
    belongs to. An easy way to find it is to iterate over the udev device
    list and find a match by UUID and level.
    
    Related: rhbz#1245191

commit 2328e7d697e70548e49968ad58f7dcf2c0cd238c
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 30 15:52:29 2015 -0500

    Call superclass ctor a bit later to get size attrs set up first.
    
    Related: rhbz#1245191

commit 1b8c9ca8411b7942921adfac5a5359abe6bc9204
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 30 16:05:19 2015 -0500

    updateSize for md containers is a no-op.
    
    Related: rhbz#1245191

commit 2b84598dc830752939e960237186ae7a51fe8001
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Aug 3 10:08:32 2015 +0200

    Fix UnboundLocalError in FSMinSize (#1249304)
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 349f9f05d448b66fd219e565a490f52771542715
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 4 12:14:18 2015 -0500

    Fix mount cache resolution of devices with symlinks. (#1247803)
    
    MD and DM devices both have multiple device nodes, so resolve
    everything to the canonical names.

commit a28d3c96ac63248230ac099992d593af985259ef
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 4 11:56:21 2015 -0500

    Add kwarg to udev.resolve_devspec to return canonical device name.
    
    Related: rhbz#1247803

commit 5512c61daf2ec8e769215c1c807ae0caedac2613
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 31 13:08:53 2015 +0200

    Use slow as well as fast PVs for cached LV's non-cache part
    
    The requested size for the LV's non-cache part may be bigger than the free space
    on the slow PVs while it can safely fit in the set of slow and fast PVs together
    with the cache.
    
    An example of this is when a kickstart is used with two PVs in a VG and LV(s)
    with --cachesize and --grow. In that case the LV is grown to the maximum size
    filling up the VG together with the cache and other LVs (and their caches).

commit 40a91e7c632a43d6556f2fc9b0b04bd641cc326d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jun 16 13:34:08 2015 +0200

    Make VG determination in Blivet.newLV() less cryptic
    
    The new LV's parent may be a VG or a thin pool depending on the type of the new
    LV. Let's call this object 'parent' instead of 'vg' which is way less confusing.

commit ee3e4ad1f08dfbb38f704a48cca1eae0c37bdd78
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jun 16 13:29:32 2015 +0200

    Reserve space for LVM cache(s) when growing LVM requests
    
    LVM cache takes space from the VG, but it is not included in the cached LV's
    size.

commit 02c4e711563d9482827703b6296b13f121ea6c8a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jun 16 13:06:02 2015 +0200

    Create cached LVs before non-cached LVs
    
    In order to minimize the risk of non-cached LVs taking space on fast PVs that
    should be used by caches.

commit 233e29242c8a8df6b34f966dc254baf7f8c5cf91
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jun 16 12:56:14 2015 +0200

    Add support for LVM cache creation to LVM device classes
    
    These are the basic building blocks for LVM cache creation as all high-level
    calls end up doing these things.

commit a9e0b7ff3944153d2f577fc1d7d549b35e1bbd14
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jun 16 12:51:08 2015 +0200

    Add generic class for cache creation requests
    
    Instead of passing cache parameters as separate numbers, strings, etc. we may
    better put them into objects that hold them as a single logical unit.

commit 0d804932584dc68e6ed58ec6307bd736725723c5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 31 17:54:18 2015 -0700

    New version: 1.11

commit 0153922337fc41acf6ce3ca0dee896674b9eb7d9
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 29 11:03:01 2015 -0500

    Put MDRaidArrayDevice.devices back, but mark it as deprecated.

commit ebdf5c49379356c1f0bb9e1a31288d69e4ef6e94
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jul 29 14:58:11 2015 -0700

    Skip tearing down devices when unmounting filesystems
    
    Otherwise it will try to unmount things that shouldn't be unmounted.

commit e793ae106b7d9485c0ea34eecaecc576205de23d
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jul 28 16:23:22 2015 -0700

    Include details when umount fails
    
    Add the mountpoint and the rc value to the FSError message. Details and
    output of lsof are still available in program.log, this just makes the
    error more clear to whoever catches it.

commit ab01eaab38497c226785670e4ab2f0c94d1d86b3
Merge: 6a6db07c bb765af0
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 29 18:40:58 2015 -0500

    Merge pull request #183 from dwlehman/tests-20150728
    
    Various small test changes

commit 6a6db07cd7515c94e189ae777a961b72feafcc33
Merge: 98aac954 fb70b519
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 29 18:39:56 2015 -0500

    Merge pull request #182 from dwlehman/devicefactory-20150728
    
    device factory bug fixes

commit 98aac9549a119c869ee5ed2dfae178c3e41e26a2
Merge: f4fc207f 5dd53220
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 29 18:39:12 2015 -0500

    Merge pull request #184 from dwlehman/misc-20150728
    
    Misc 20150728

commit bb765af04785d5c9767940d4a71a8d665650bb07
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 28 16:35:06 2015 -0500

    Enable unit test suite in jenkins.

commit 8ac3ca27e5aaccc17e1794b42f8116da6c36ea69
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 28 15:46:51 2015 -0500

    Disable image-backed unit tests temporarily.
    
    They are prone to breaking and leaving a mess on the test system.
    They should be converted to use a vm to eliminate tainting (or being
    tainted by) other tests.

commit 150713aa11cfc2dff1e6067768f9c925946de9b8
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 28 12:50:22 2015 -0500

    Add some tests for DeviceFactory.

commit fb70b519e2f391818317e26c7ccd909a24032809
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 29 09:17:55 2015 -0500

    Do basic child accounting when replacing a parent.

commit 1ff9a4b7dfc362d4778dcb54ccff23cd2e1b26a1
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 28 15:36:50 2015 -0500

    Set new raid level on correct device in MDFactory.

commit 7bdef2e16b1471d3dc76076d1fc33f5dd3274821
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 24 16:12:52 2015 -0500

    Fix container member switching when toggling member encryption.
    
    We need the member we're removing to be a leaf device before we can
    destroy it, so we have to remove it from the container first.

commit 01da4e47ca07c26689405159c51592dd02021a69
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 24 16:11:37 2015 -0500

    Don't adjust actual lv size based on md metadata space requirements.
    
    We adjusted the amount of disk space needed, but we didn't alter the
    planned device size.

commit bfea086ef8608de46e843dcf91da78d704c63cc6
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jun 16 12:48:36 2015 +0200

    Two minor fixes in LVMLogicalVolumeDevice's constructor's docstring

commit f4fc207fdc717cc7b6644b3cf2908b0f76892663
Merge: d00e7d4a 3d2fc06b
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Jul 29 14:11:58 2015 +0200

    Merge pull request #57 from vpodzime/master-luks_npass
    
    Fix name of the keyword argument for luks_add_key

commit 3d2fc06bbbe6ac3bef267ca34ced76caf1c92d95
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Mar 19 12:08:31 2015 +0100

    Fix names of the keyword arguments for luks_add_key and luks_remove_key
    
    It should be 'npass' not 'new_passphrase' and 'pass_' not 'passhprase'.

commit 3116bcc7bac78204434027c136c2dd78b804a70e
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 27 11:12:39 2015 -0500

    Make a better effort to clean up loop devices on failure.

commit 55f8ece5fed5a0475aad4387c94fec30db2e0773
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 24 16:01:23 2015 -0500

    Correctly get current size of disk files.

commit 5dd532203fe93a5ab055fb5691ea1088f0d7ec9c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 24 16:00:19 2015 -0500

    Don't warn about missing UUIDs for non-existent containers.
    
    It's not possible for the container or its members to have UUIDs
    until they have been created.

commit b931cc74f8da2d19c358e3e94bdebaf47f77c1df
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 20 11:25:02 2015 -0500

    Only check disks for membership in a multipath.

commit df9ff81cfd597870f4fa153b21e9b79c29ca7d27
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 20 11:20:53 2015 -0500

    Only update md array name if MD_DEVNAME is set. (#1212073)

commit d00e7d4ab65ea87ee27cb18081b3762ab36d3c83
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Jul 28 14:18:50 2015 -0400

    Weed out unresolved macros in the check-requires target.
    
    It was giving back results like that the %{realname}-data package isn't
    installed, nor is the = package.

commit bd0b71dc8fade3eb86537b7dad91330497cc6191
Merge: 5ca4f510 44568ead
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Jul 28 16:39:08 2015 +0200

    Merge pull request #126 from vpodzime/master-translations_subpackage
    
    Put translations into a subpackage shared by Python 2 and 3

commit 44568ead35a9c104255694dd455fcc6510d26b12
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 25 13:50:59 2015 +0200

    Put translations into a subpackage shared by Python 2 and 3
    
    With providing both Python 2 and Python 3 packages we need to make sure both
    have the translations available. This commit makes the translations shared by
    both Python 2 and 3 subpackages by putting them into a separate subpackage
    required by both.

commit 5ca4f5105129e5a61d530ac440a1181886f86dd1
Author: David Shea <dshea@redhat.com>
Date:   Mon Jul 27 10:53:59 2015 -0400

    Require pygobject3-base instead of pygobject (#1246842)
    
    The package with the normal looking name is now the one with the cairo
    crud for some reason.

commit d9f892006a0dff27d76eb8ab712a3d96cc97da7d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jul 23 14:02:46 2015 +0200

    Add method to list primary partitions
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit da53cedc16b32690018ff1b86b05534073da7cda
Merge: 1b69d02e b8b2c480
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 27 12:50:39 2015 -0500

    Merge pull request #179 from dwlehman/size-followups
    
    More followups for size property changes

commit b8b2c480724150776067e0aef38555fc45ddeb51
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 24 16:08:25 2015 -0500

    Fix test for failure to find space for device.
    
    If the device ends up smaller than the format's min size we must have
    run out of space. It's only okay for the device size to end up the
    format's min size if that's what was asked for, whether explicitly or
    by normalizing the specified target size.

commit a8001281b592dc0266a4220b452abadc4063b74b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 24 16:07:40 2015 -0500

    Make sure factory target size is within the limits of the fstype.

commit a5000d45bbe152e9b302169582f114642db80019
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 21 17:31:26 2015 -0500

    Unset obsolete format before updating device size.
    
    The format type can impose limits on the size of the device, so
    clear it before setting the size.

commit 7dab197c03e4c202135fc27e9b94cef828707155
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 24 16:03:50 2015 -0500

    Make sure size is numeric before comparing it with format minimum.

commit d7fd2db5e4374dafa80beabcaf009ac26fec8821
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 24 16:02:28 2015 -0500

    Don't constrain thin lv sizes to vg free space.
    
    This is a followup to a recent change in which I added a call to
    the superclass size setter from thinlv's size setter.

commit 1b69d02e7697e801bb3307cc6ab80c5a35cb1ca3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 24 12:04:21 2015 -0700

    New version: 1.10

commit 3efb5cb1971524ea7c2852a32533693a955107ec
Merge: d1b07ad5 075ebeb2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 23 17:00:24 2015 -0500

    Merge pull request #177 from AdamWill/1245446
    
    use floor division in calculating amount to reclaim (#1245446)

commit 075ebeb22276c10d868decda2cd8bfb57c433f0b
Author: Adam Williamson <awilliam@redhat.com>
Date:   Wed Jul 22 23:44:33 2015 -0700

    use floor division in calculating amount to reclaim (#1245446)
    
    Using true division results in a float, which eventually causes
    a crash when the value is passed to sectorsToSize(), which
    tries to multiply it by a Size. Multiplying a float by a Size
    doesn't work. sectorsToSize() does specify that it needs an int.
    This is a python2 vs. python3 thing: in py2, int/int returns
    an int. See PEP 238.
    This fixes #1245854 and #1245446 (tested).

commit d1b07ad5fed9a6febe972955ec9a56249ae14e07
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jul 22 10:21:04 2015 -0400

    Remember to use the shell command when calling external stuff in Makefile.

commit 626eb1b2210dcffb9f925451b2072da209d3aee6
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jul 22 09:49:28 2015 -0400

    Add a new makefile target that does everything needed for jenkins.
    
    We should have as much of the logic of how the CI tests are run in source
    control as possible, so that's what this target is for.  Besides this, jenkins
    just runs a "git clean" first.

commit fc8a709ac6a4a045e498ae731ef4bf96ebc10906
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jul 20 16:12:16 2015 -0700

    Add missing gobject introspection Requires

commit 71d3edba8c5803a013b9f29db03d5d0a1c25e502
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jul 20 15:53:04 2015 -0700

    Add install-requires Makefile target

commit 375e6786e17940ed820c08d60acb5ebcce6f653d
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 16:06:48 2015 -0500

    Update md and btrfs unit tests to run with recent size changes.
    
    It also fixes several of the MD property tests that weren't doing
    anything useful.

commit 6347b30c1fb73787687ca99001dff5e63ad12a07
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 12:33:51 2015 -0500

    Set format attr after super ctor for md.
    
    The MD classes have a circular dependency between level, parents, size,
    and format. Setting the format a bit late is a simple way to break it.

commit bb5c6c4428e4c2963d8fed1d8faf548ff840f9ed
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 12:31:58 2015 -0500

    Account for container layer in md fwraid array properties.

commit ba77827c8a21cecc7b12a67b516e69d362594727
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 12:27:39 2015 -0500

    Ensure format is a DeviceFormat during initialization.

commit 80887b0b220bf07059d3bb4150b2b8ad3f2edfb3
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 12:26:15 2015 -0500

    Set target size when setting other size attrs.

commit 473e55f5eb3ce57472c97e096f480a715628b9df
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 12:28:44 2015 -0500

    Use 'members' attribute to list RAID member devices.
    
    MD firmware RAID has an intermediate layer (the container). RAID
    level checking and size calculation need to be able to access the
    list of member devices.

commit f42cf0926415c808fbb338732619e4d8278259ab
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 12:24:44 2015 -0500

    BTRFS subvolumes shouldn't inherit from RAIDDevice.
    
    All of the RAID functionality is at the volume level.

commit ea4eb1153ed0470a5aaff0e8ca5adce5952ec206
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 12:33:14 2015 -0500

    Require a non-empty member set for md disks.

commit 4627e654620f6d53024441eff201dce028c93293
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 11:53:12 2015 -0500

    Mock mount cache while running action tests.

commit 8f60c535ef083583e96e57433bcea8e1f4e6de61
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 12:40:23 2015 -0500

    Account for recent lvm snapshot format changes in tests.

commit 27acf782ff49de0b679825839385bb83c5bf321b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 16 12:00:48 2015 -0500

    Bump size of non-existent devices to format minimum.
    
    Otherwise it's cumbersome to check size versus format for growable
    partitions with base sizes like 1 MiB (think kickstart).

commit 00165cb1c5d1c745e7d2306702812ae8baf9137e
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jul 17 15:34:48 2015 -0400

    Don't pass createOptions along when creating the btrfs device.
    
    This only applies to the format, not the device.  Thus this needs to be
    popped off before passing the rest of the kwargs along.  This was found
    by kickstart_tests in anaconda.

commit b7a5a22b09dca2d98d55f79eb53711e73441c394
Merge: 864de790 b3b6feb0
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri Jul 17 17:51:02 2015 +0200

    Merge pull request #59 from vpodzime/master-tab_tab
    
    Implement the __dir__ method of the LazyImportObject class

commit b3b6feb00a450c73cacbca34a927830c6ab6a62a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Mar 20 12:57:08 2015 +0100

    Implement the __dir__ method of the LazyImportObject class
    
    This makes the 'TAB-TAB' completion in ipython and dir() calls work as if the
    lazy-imported object was imported in a normal way.

commit 864de790d12f69565989b3f643c52082f252b5e1
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jul 16 16:14:28 2015 -0700

    New version: 1.9

commit 76377d95405e37620965298678b6b9b7fdfb13d7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 13 13:24:45 2015 -0500

    Apply default size for new partition earlier in constructor.
    
    Otherwise, if no size was passed in, the size will be Size(0) when
    the format gets set, which is problematic for formats with a minimum
    size.

commit 13ce0f8c9c03a933a0d3b6d2ea3207fcc203daf0
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 13 14:03:57 2015 -0500

    Don't pass model to md fwraid constructor. (#1242610)

commit 6bef248d8df780a354522400f30572e55359df12
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 10 17:13:34 2015 -0700

    New version: 1.8

commit 8f2ee815fe4eb32a9de15986b0258a331231076b
Author: David Shea <dshea@redhat.com>
Date:   Wed Jul 8 13:18:03 2015 -0400

    Add a bunch more gi.require_version calls
    
    These need to be before any import from gi.repository to keep pygobject
    from complaining.

commit 7a8df908d0252b5cd8c905a648ac3f3104f4f667
Merge: 6fed423f bc781453
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 8 16:13:46 2015 -0500

    Merge pull request #170 from dwlehman/size-cleanups
    
    Clean up device size properties a bit

commit bc781453ac14c58fa64f51b5ab91e78dd300621a
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 30 17:11:49 2015 -0500

    Add unit tests for device size setters and getters.

commit 9f925f724970ef2418af9799cb46d3dab42202d8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 1 11:57:23 2015 -0500

    Only return target size if it is set to something meaningful.
    
    This allows setting targetSize to zero to cancel a resize, which
    is nicer than having to set it to the current size.

commit 26b23b13eba437ffbdbcd60013d3c202a7546cbb
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 30 15:41:13 2015 -0500

    Validate new formats against current device size.
    
    This prevents, eg: assigning PReP boot format to a device much larger
    than the maximum size allowed for that format.

commit 2bdafb0cab98612f28d9300772026563663c1604
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 30 18:00:43 2015 -0500

    Device size checks do not apply to existing devices.
    
    We need to check new sizes for non-existent devices against the limits
    of the device's format.
    
    Calls to size setter for existing devices should only be to reflect
    the current reality. Setting up a resize should be done by setting
    the target size.

commit 1554673768112db46ba3a339338d6cf1e2bd60db
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 30 15:52:49 2015 -0500

    Make sure subclasses size setters use the base setter as appropriate.
    
    All classes should be using the same code to actually set the size.

commit 6fed423f5db1b5441d73dfa2679625b110fca850
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jul 8 08:32:18 2015 -0700

    x-initrd.mount should only be set for /var (#1238603)
    
    Only add it to /var and only when /var is on a _netdev.
    
    Resolves: rhbz#1238603

commit e8ca15b2b9c5284dcd4b9e0434382f7b47711ad7
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jul 2 11:40:22 2015 -0400

    There's a python3 anaconda now, so ditch the temporary false positives.

commit 66938df0d014313db18270d1d7e69ed2e7d1d9ed
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jul 2 11:26:23 2015 -0400

    Fix a syntax error caused by my previous commit.

commit 0accd8f44f1c129a4806917ba09b81ac64dff107
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jul 1 16:32:07 2015 -0400

    Fix a duplicate key caused by patch merging.
    
    Related: rhbz#1220898

commit 68019e972e9577157270446d94d3a2dd2184bd20
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jun 19 15:05:58 2015 -0400

    Add support for specifying arbitrary mkfs options.
    
    While we have support for fsprofile, that is only supported by the
    various ext* filesystems.  We have no way to support passing options for
    any of the other filesystems, including the default in RHEL.
    
    Resolves: rhbz#1220898

commit 29340f9dc239dd007949c9a9effbedcf324de6aa
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 15 14:33:33 2015 -0500

    Align free regions before choosing one.
    
    By aligning the start sector of free regions we improve our ability to
    select an appropriate free region in which to place a new partition.
    When the start sector alignment is not taken into consideration the
    possibility arises that aligning the start sector will shrink the size
    of the free region below the requested size of the partition.
    
    Related: rhbz#1181494

commit a64a0ef72d6d1fdd72581a5ac0ff2306dbeb3fcc
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 15 13:49:28 2015 -0500

    Align partition sizes earlier in the allocation process.
    
    Resolves: rhbz#1181494

commit f5361aa64d20fbe49759f22acb22a0048ed56066
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 29 15:45:40 2015 -0500

    Don't crash on cleanup with DASDs or iSCSI devices present. (#1166506)

commit 7a7857e653124a0395fbddd59c683bd8cd90c790
Author: David Shea <dshea@redhat.com>
Date:   Mon Jun 29 17:22:23 2015 -0400

    Make check-requires errors more readable.
    
    Only output the parts about packages that are not installed.

commit ff12570043eb185e0b1623d4303a1f1bc8267804
Merge: 1e1cc0cd 0998f5e6
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 29 14:07:45 2015 -0500

    Merge pull request #166 from dwlehman/autopart-snapshot-branch
    
    Fixes related to lvm snapshots.

commit 0998f5e6305a2c19240a6f27f7a4e1c8ef1d66ba
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 24 08:56:18 2015 -0500

    Default to a string when sorting mountpoints in FSSet.umountFilesystems.
    
    The default of None caused a TypeError when sorting swap devices under
    python3.
    
    Related: rhbz#1113207

commit b48d19dc14b0707ac2688ae692873b2b939346ca
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 24 08:54:46 2015 -0500

    Fix order of arguments to blockdev.thsnapshotcreate.
    
    Related: rhbz#1113207

commit 19b6df3d7fa1b49b99047d24621a806d1a044222
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 24 08:53:12 2015 -0500

    Snapshot format exists upon snapshot creation.
    
    Related: rhbz#1113207

commit 1c2d8a0b3633145b0528c4a0734e4ac7a7bffed8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 24 08:48:21 2015 -0500

    Improve format handling for lvm snapshots.
    
    Non-existent lvm snapshots have a copy of the origin's format as their
    format. When an origin's format changes, all non-existent snapshots of
    that origin must have their formats updated as well.
    
    Related: rhbz#1113207

commit 1e1cc0cd14dfce86418b96a66b27faef76ad78f5
Merge: 00ded997 907c737b
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 29 14:02:17 2015 -0500

    Merge pull request #160 from dwlehman/lookup-method-deprecations
    
    Add a framework for deprecation and use it on some devicetree lookup methods.

commit 907c737bcf7a7d0522e1796eaa9c64409ac29380
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 15 12:49:43 2015 -0500

    Deprecate some little-used devicetree lookup methods.

commit 867b359fd6313f59c0738f6806a260c335116fc9
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 25 15:57:07 2015 -0500

    Add a decorator to mark deprecated functions/methods.
    
    The function's docstring is modified to include the sphinx 'deprecated'
    directive and a wrapper ensures that every call to the function emits a
    warning using warnings.warn.

commit 794d3448e5a327ca82b9344025c32fd032814bfd
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 15 12:49:12 2015 -0500

    Log python warnings, including DeprecationWarning.

commit 00ded997e2ad27bfc97da3b29c38c591dad1f8d4
Author: David Shea <dshea@redhat.com>
Date:   Fri Jun 26 15:33:26 2015 -0400

    Catch and relay more exception types from the iscsi process

commit f4cb02d27c8fc70e5e84dbc0ab75ee4507b6e484
Author: David Shea <dshea@redhat.com>
Date:   Fri Jun 26 14:50:47 2015 -0400

    Use the pipes as contextmanagers to ensure they are closed

commit a16310838f83caafb6c8e0ccd03a47887c95e5ea
Author: David Shea <dshea@redhat.com>
Date:   Fri Jun 26 14:41:50 2015 -0400

    Close the unused half of pipes after the fork
    
    Closing the writing end of the pipe in the parent is important to ensure
    that errors in the child that close the pipe result in the pipe being
    fully closed.  Otherwise an error in the child will cause the parent to
    hang reading from the pipe instead of receiving an EOFError.
    
    Closing the reading end of the pipe in the child is less important but
    ensures that bugs in libiscsi can't do anything dumb to the file
    descriptor.

commit 22d035ab541af2bbb62e47c40c272f634d69e03e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jun 26 17:50:31 2015 -0700

    New version: 1.7

commit a7f74b0a135dc0da60575640758578b5166ba159
Merge: 7b7770ee 4af685dc
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Thu Jun 25 17:24:54 2015 -0400

    Merge pull request #167 from mulkieran/master-format-copy-b
    
    Deep copy DeviceFormat objects and remove file-system tasks initializer boilerplate.

commit 7b7770eeb44f9d6ff6b408b9699bdcc6c34f6105
Merge: 362d535d 85a38127
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Jun 25 10:31:34 2015 +0200

    Merge pull request #156 from vpodzime/master-lvm_cache_actually
    
    LVM cache detection, manipulation and reporting

commit 85a381271c373b296845c88e4b9567bd93e48dec
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jun 12 15:33:22 2015 +0200

    Add cache support to the LVMLogicalVolumeDevice class
    
    This way LVMLogicalVolumeDevice can report whether they are cached, provide
    information related to their cache and attach cache pool to themselves so that
    they become cached.

commit 4af685dcb9e871171ff482ff49bbcbe5e3593921
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jun 24 17:02:40 2015 -0400

    Copy all DeviceFormat objects using deepcopy.
    
    To avoid sharing of mutable subparts.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5e389e40b967880cb5aa98228121a48d4320b7fc
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jun 24 10:12:27 2015 -0400

    Make use of FSTask and FSUnimplementedTask in FS* tasks.
    
    Inherit from these classes wherever possible in filesystem task classes.
    
    Get rid of all initializers in subclasses of FSTask.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d3a5a3994a47b0b0f31be3951aead595f15dbbd9
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jun 24 09:24:08 2015 -0400

    Add an abstract parent of all filesystem tasks.
    
    It defines the initializer, which should not vary among filesystem tasks.
    
    Include a convenience class for simple unimplemented filesystem tasks.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 362d535d7f7ae3ce295abc8c90884b15df777c37
Merge: 71e35dd9 851e9ad1
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 24 16:34:38 2015 -0500

    Merge pull request #162 from dwlehman/storage-device-format-type-consistency
    
    Enforce and document the fact that StorageDevice.format is always a DeviceFormat.

commit 71e35dd903fd7ef9489fd221ef4cac2c0e31d57b
Merge: ca2ff6ec b07101d8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 24 16:32:52 2015 -0500

    Merge pull request #138 from dwlehman/partitionable-md
    
    Allow partitioning of md arrays whose members are all disks

commit 851e9ad17a39fb2d29aa77f52431a470755d4d8f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 17 15:54:36 2015 -0500

    Document the fact that StorageDevice.format is always a DeviceFormat.
    
    StorageDevice.format should never be anything other than an instance
    of DeviceFormat or one of its subclasses. All block devices contain data
    that is arranged according to some format. The case of empty or
    uninitialized or unrecognized formatting is represented by the base class
    DeviceFormat.

commit ca2ff6ece58865d9762be4c79d32b0fdd0e5972c
Author: David Shea <dshea@redhat.com>
Date:   Tue Jun 23 10:23:13 2015 -0400

    Ignore some interruptible system call warnings
    
    None of these scripts are likely to be interrupted by a signal.

commit 92b88e523f4927bf4a3659717e59ae1ae872a102
Author: David Shea <dshea@redhat.com>
Date:   Tue Jun 23 10:18:44 2015 -0400

    Retry interruptible calls
    
    Redefine open to a wrapper that retries open, and wrap a call to
    os.mknod.

commit 438f8b5c2a34f5c45595f390908326f87d8d82cb
Author: David Shea <dshea@redhat.com>
Date:   Tue Jun 23 10:04:02 2015 -0400

    Ignore EINTR from os.close instead of retrying the call
    
    Retrying close in Linux is considered a bad idea, it turns out.

commit 11de3f4420920ca163c6e71f1caff28d17aecf43
Author: David Shea <dshea@redhat.com>
Date:   Tue Jun 23 10:05:13 2015 -0400

    Add kwargs to eintr_retry_call

commit 4d62d17caaa7096c89792b013c26089b979ebb10
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jun 19 18:00:06 2015 +0200

    Specify required version of GI-imported packages
    
    This is recommended and pylint now checks if we do this.

commit d115b4d0f2a6f5d7ad3bc9b8a4a8bc07eb687bd1
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 11 16:33:59 2015 +0200

    Add classes for LVM cache related functionality

commit 3cae442e78a2ca6c4c03c78bd31139d04488f734
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 11 16:33:26 2015 +0200

    Add generic classes for cache and cache stats
    
    Inheriting classes will implement specific functionality for LVM cache and Bcache.

commit 7afac665b2fbd0ecf5f5b5d89636e9225709a318
Merge: 5d78a39f 86748b36
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Jun 18 22:03:59 2015 +0200

    Merge pull request #149 from vpodzime/master-lvm_cache
    
    Make blivet aware of internal LVs

commit 86748b36c2c15597b3dda9307080b27793dba54e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 8 12:45:28 2015 +0200

    Implement the support for resizing internal metadata LVs of thin pools
    
    Internal metadata LVs of thin pools can be resized so our representation should
    also allow it.

commit 3c80131af11629eb8bf1002ba58e2f1c1a19158a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 8 16:11:30 2015 +0200

    Use relations between LVs to determine parent LV
    
    Thin/cache pools have internal data/metadata LVs the name of which can be
    queried. Let's use this functionality to help determining the parent LV if name
    matching fails.

commit 5903e71e1aca47815bbc848865289e2e0e7be4f9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 8 10:23:28 2015 +0200

    Make Blivet.lvs return all LVs not just traditional/thick LVs
    
    Thin pools and thin LVs are also LVs so they should be included in the
    result. Also don't use the to-be-deprecated-soon getDevicesByType() method.

commit f468d8b25975e2fb8e52d7be1b80350f0d37e0d7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 4 19:51:01 2015 +0200

    Accept both list and ParentList when checking LVs parents
    
    These are both valid types for the self.parents attribute.

commit 2a8499624a8bfe158bf71b54138cc14ca1f264f7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 4 14:57:49 2015 +0200

    Create and use internal LVs instead of static values
    
    Instead of calculating static values for number of copies, log size and metadata
    size of a given LV, we should use internal LVs assigned to their "parent"
    (normal) LVs and calculate such values dynamically from those internal LVs.

commit e46eca828a05bf183d26f0b9fb8c3ef03cc22fd5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 4 14:57:23 2015 +0200

    Add classes for the internal LVs of various types
    
    Also make the LVMLogicalVolumeDevice class ready for managing internal LVs.

commit 5d78a39f7172b63dba865df5801ea2a92d35afc5
Merge: 9aaf705e b6792689
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 17 11:36:50 2015 -0500

    Merge pull request #137 from dwlehman/md-boot-metadata-branch
    
    Use default md metadata version for everything except /boot/efi

commit b07101d878df993d26d3d251881bf4c9efb4213f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 28 11:14:04 2015 -0500

    Treat existing md arrays whose members are all disks like disks.
    
    Similarly, if all members of an existing array are partitionable
    the array is also partitionable.
    
    Resolves: rhbz#1197582

commit 1d3fc688b504b329d9f19da530f52da314fc2ff4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 17 10:26:07 2015 -0500

    Handle formatting after adding devices from format handlers.
    
    If we don't do it right away the device could be looked up successfully
    and cause confusion due to inaccurate(missing) format data.
    
    This is only needed in the places where we add a new device from a
    format handler. The device additions from add*Device are not vulnerable
    to this issue.
    
    Related: rhbz#1192004
    Related: rhbz#1197582

commit 9aaf705ef0dee5f1aa9f8a2461f309e566976800
Merge: 63beda4b 5f8678b8
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Wed Jun 17 11:38:47 2015 -0400

    Merge pull request #158 from mulkieran/master-target-size
    
    Some small patches

commit 30c61caca2798eaf2b39f1cfd862a691e8f4d700
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jun 4 14:53:56 2015 +0200

    Move parents checking and update into a seprarate methods
    
    Internal LVs are not going to be referenced by the DeviceTree instance and are
    going to have no parents. Their "parent" LVs are going to be referenced as
    'self.parent_lv' instead of 'self.parents[0]' because all the other devices use
    the opposite logic for parent-children relations -- children are consisting of
    or built on top of parents (whereas "parent" LVs are consisting of their
    internal LVs).
    
    This way internal LVs can easily override these methods.

commit 9a405555712a538303ce8e0c1700ca1120156d63
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jun 2 19:21:04 2015 +0200

    Rearrange and group some of the StorageDevice's methods/properties
    
    Those that are related to each other should be next to each other and titled.

commit d3f8aa457939916b195846b79d0d33e64584e7f3
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jun 2 12:57:26 2015 +0200

    Don't crash when processing cached LVs
    
    Just ignore the unsupported "sub-LVs" and consider cached LVs normal LVs.

commit 5f8678b86b1bb0e8781af11e90f5c55d4f357a59
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 16 09:44:05 2015 -0400

    Make roundToNearest() slightly more robust.
    
    Related: #56
    
    Check all values as Decimal values rather than checking for 0 as Size().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b4958003f27bf76affecbcedf82c4b969df135ea
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jun 11 17:15:03 2015 -0400

    Extend Size.convertTo() to work with arbitrary Size() values.
    
    Related: #56
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fb40db04e09e8dcc87ddc41266b1c5582f89924e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 16 09:00:21 2015 -0400

    Changes to FS._setTargetSize().
    
    Related: #56
    
    * Eliminate some dead code. The "if newsize is None" block has been
    dead since commit 910ff446cd4881610b9fab46a37e8f63b1f468fe (2013 Sep),
    and it hasn't been missed. I think that _targetSize field is now often
    set in such complicated ways that setting back to _size is no longer
    a very useful behavior.
    
    * Acknowledge the possibility that the maxSize may be 0, when checking
    bounds. For some filesystems, this is the case.
    
    * Extend docstring.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 63beda4bd329d9334242bd48a80c620567b88cdc
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 15 12:14:20 2015 -0700

    Increase ext4 maximum size from 16 TiB to 1 EiB (#1231049)
    
    Resolves: rhbz#1231049

commit 6ca39b98cf8c088350ee906e339c342402403040
Merge: 7fae4fea 443874df
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Thu Jun 11 09:03:17 2015 -0400

    Merge pull request #155 from atodorov/fix_issue_154
    
    Use len of set to check for duplicates in list of packages.

commit 443874df07a3c3ed8d9e075b25e5f93c1de0128b
Author: Alexander Todorov <atodorov@redhat.com>
Date:   Wed Jun 10 07:08:31 2015 -0400

    Use len of set to check for duplicates in list of packages.
    
    Resolves: #154.
    
    Checking for equality of the two lists was a mistake, since
    the order of the list generated from the set is undefined.

commit 7fae4fea88ed31187dbf3914090a2d8cf8d43575
Merge: 293c4296 58d824d6
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Thu Jun 11 08:31:25 2015 -0400

    Merge pull request #153 from mulkieran/master-task-names
    
    A few miscellaneous patches

commit 293c4296fd13b4b38613912e1bec6081fdbe72ad
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jun 10 16:47:29 2015 -0700

    New version: 1.6

commit 14f09c48587abd62911e77eb60a5404f4503894a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 10 10:15:57 2015 -0500

    Fix indentation in action_test.py

commit 2ced4b838f94a665d097004cb92b18be9fd12f75
Merge: 4e808fff 05e77a67
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Wed Jun 10 10:40:52 2015 -0400

    Merge pull request #133 from atodorov/fix_deprecation_warnings
    
    Fix tests deprecation warnings in a backward compatible way

commit 4e808fff73188c7afef5ee5d0c98b14d9ca2fbfb
Merge: 40a2d5bf d5f4ae5b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jun 10 13:31:31 2015 +0200

    Merge pull request #147 from vojtechtrefny/master_fix_undo_resize
    
    Fix setting original size for format resize action. (#1225352)

commit d5f4ae5b73fb342f06b624fbc36e375df812a5a6
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jun 3 12:41:45 2015 +0200

    Fix setting original size for format resize action. (#1225352)
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 05e77a67377c240810bc5ca7bd7aaf6474056f91
Author: Alexander Todorov <atodorov@redhat.com>
Date:   Mon May 25 05:28:34 2015 -0400

    Make unit test assertion expressions fully Python2/3 compatible.
    
    Use assertion methods that are defined in Python 2 and not deprecated in
    Python 3 wherever possible.
    
    Where the only choice is between a method name that is deprecated in Python
    3 and one that does not exist in Python 2, use the one that does not
    exist in Python 2, but translate it to the Python 2 equivalent when executing
    under Python 2.

commit 58d824d674b81a0cf396f8369999385cc45ef99d
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 19 17:43:13 2015 -0400

    Omit completely pointless setUp method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ed5b26821b6eca3d159e2e7319c351bfb44fd12e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 15 11:09:34 2015 -0400

    Make a size refer to a Size object.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit eaa6e2947807062fb73378141e8734cea8f5ff0a
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 9 12:58:59 2015 -0400

    Add __str__ method to various subclasses of Task.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 40a2d5bf480ec8763d1e3286e83130819277222c
Merge: 053fc41b 862e29fe
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Tue Jun 9 16:26:33 2015 -0400

    Merge pull request #151 from mulkieran/master-120
    
    Parameterize Makefile test targets on Python version.

commit 053fc41b9516e5c3b5188225d8173bbb6772986e
Merge: 395ca276 e762e320
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Tue Jun 9 10:56:42 2015 -0400

    Merge pull request #122 from atodorov/remove_doctest
    
    Remove mention of doctest b/c target was removed

commit 862e29fefb6050bee335686bfde0ffbc1c9e68cd
Author: Alexander Todorov <atodorov@redhat.com>
Date:   Mon May 25 05:09:51 2015 -0400

    Parameterize Makefile test targets on Python version.
    
    Check that dependencies for testing are available.

commit 395ca2761008171188e4ed67c5b71980f95844b4
Merge: 5d08f69f 7c0aca6e
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Mon Jun 8 07:57:46 2015 -0400

    Merge pull request #148 from mulkieran/master-132
    
    Remove facilities for running tests as standalone modules.

commit 5d08f69fbb3481c57c159ea321c01f76a4109ff0
Merge: d215b34b 796b8797
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Thu Jun 4 09:20:34 2015 -0400

    Merge pull request #144 from mulkieran/master-128
    
    Include automatic and manual test documentation.

commit 7c0aca6e74da1e2b74fd10f559b89bfa68ee2be0
Author: Alexander Todorov <atodorov@redhat.com>
Date:   Mon May 25 05:26:27 2015 -0400

    Remove facilities for running tests as standalone modules.
    
    * Remove #!/usr/bin/python shebang from tests.
    * Remove unittest.main() from tests.
    * Remove a definition of suite method, which we no longer use.
    
    The tests should be run via the unittest discovery mechanism.
    They are best run by invoking the "test" target in the Makefile.
    
    This allows any necessary setup to occur, including overrides
    for Python2/3 compatibility.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 796b8797e011c53d00e2f1b1eb8a8c183c04ba88
Author: Alexander Todorov <atodorov@redhat.com>
Date:   Mon May 25 04:59:15 2015 -0400

    Include automatic and manual test documentation.
    
    * No longer explicitly remove files in apidoc target, all handled in clean.
    * Put autogenerated .rst files in subdirectories and gitignore them.
    * Create a hidden file which includes some inheritance diagrams.
    * Add commented out option for inheritance graph in conf.py.
    * Include documentation for test modules at top level.
    * Include documentation about testing in the introduction.
    * Get rid of unnecessary MODULE_NAMES variable.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d215b34b3cdbfcb27287ee0240a5fce0f5441309
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jun 2 14:14:14 2015 +0200

    Remove an accidental variable assignment in LVMLogicalVolumeDevice
    
    An artifact of rebase or something like that which comes from the commit
    c61ccf1e0bd74f8527bab1a4f23e3f51c57fd55f.
    
    Acked-by: mulhern <amulhern@redhat.com>

commit 9331499ca38de6c0d672b4176146b570d0f9d97f
Merge: 70f0fc8e af5260e9
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Mon Jun 1 09:49:49 2015 -0400

    Merge pull request #143 from mulkieran/master-134
    
    Small tests/ fixes

commit af5260e90a8c25a09b6b44a2673b625afc9c01d6
Author: Alexander Todorov <atodorov@redhat.com>
Date:   Wed May 27 09:45:33 2015 -0400

    Remove two files in tests directory.
    
    These are no longer required since blivet switched to pocketlint for
    pylinting.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ad4bf98b3b96521a2baf557cbc849605cdc6efdd
Author: Alexander Todorov <atodorov@redhat.com>
Date:   Wed May 27 09:45:07 2015 -0400

    Fix typo in docstring.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 70f0fc8e6e6551339429ca422469d638d5656db4
Merge: c134ea76 9ab5e5bf
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Jun 1 15:29:25 2015 +0200

    Merge pull request #112 from vpodzime/master-fixed_maps
    
    Beware of Python 3's version of the map() built-in function

commit c134ea76b0967d9243ac22945102c5f2deb61974
Merge: 398b7d48 f0345a5e
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Fri May 29 14:06:37 2015 -0400

    Merge pull request #129 from mulkieran/master-keepers-c

commit 398b7d48283a5f7213d57a1f9b44f9b9507ee757
Merge: 18a48d7d ff97a4fe
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Fri May 29 14:01:15 2015 -0400

    Merge pull request #135 from mulkieran/master-test-fixes
    
    Some Test Fixes

commit 18a48d7d5b5776247966587de9b50258d8c943e2
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 28 11:30:48 2015 -0700

    New version: 1.5

commit e9e399f014c88b825601b1fe15c082b3b0bf37bd
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Thu May 28 14:12:25 2015 -0400

    Get rid of an unused import in blivet.zfcp

commit 0f977a56661bad103a760ffa302cb3f227deb82d
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Thu May 28 13:37:49 2015 -0400

    Make appropriate changes to adapt for s390 libblockdev plugin.
    
    This includes:
     -- removing blivet.devices.dasd
     -- moving some remaining, localized functions into blivet.devicetree
        (make_dasd_list and make_unformatted_dasd_list) or blivet.blivet
        (write_dasd_conf).
    -- getting rid of dasd/zfcp input sanitizing functions
    -- getting rid of the DASD test file (now in libblockdev)

commit b6792689cfe45a19d8350905641a85445f40d590
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 29 15:07:07 2015 -0500

    Don't pass unused mountpoint dict to preCommitFixup.
    
    Related: rhbz#1061711

commit 8bce84025e0f0af9b2538a2611e5d52257a82881
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 27 16:07:05 2015 -0500

    Use the default md metadata version for everything except /boot/efi.
    
    Now that we've moved to grub2 this is no longer necessary for /boot.
    As far as I know we have never actually allowed PReP on md, so that's
    not needed either. Apparently UEFI firmware/bootloader still needs it.
    
    Related: rhbz#1061711

commit ccdda3f901e187d751bdf5fe31c629ae480a5119
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed May 27 17:45:42 2015 -0700

    Drop check from the release build target
    
    It has become impossible to do builds for rawhide from previous releases
    because the system is expected to match what it's being built for. Run
    make check manually when making commits instead.

commit ff97a4fe650e10b1d53af117bd207d227ead7069
Author: mulhern <amulhern@redhat.com>
Date:   Wed May 27 12:13:32 2015 -0400

    Convert bytes value to str.
    
    Related: #131
    
    In Python 3, communicate() returns a bytes value.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bcc50e43b67a159575a3ffd218c9c55d4ae8d6be
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 26 18:05:59 2015 -0400

    Change new format lookup name from "msdos" to "disklabel".
    
    Related: #130
    
    There is no msdos format, but default labelType of disklabel format
    is msdos.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 291ef2bc03001efca59ad6e2a13df7a46f0055f7
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 26 17:57:26 2015 -0400

    Get rid of pointless test case about arguments for labeling apps.
    
    Related: #130
    
    It breaks when not all supporting apps are available with a KeyError.
    
    It used to be kind of useful to make sure that the flags for the
    different filesystem apps hadn't been jumbled around. It was
    probably kind of useful to detect regressions.
    
    But now that tasks branch is committed, it serves no useful purpose.
    The tasks for fswritelabel module are a whole lot clearer than the tests.
    And the other tests for the formats do a better job of checking for
    correctness.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4145eb51fc311915c978fd57909fd9469b40b479
Merge: a957348e 8e31f6d4
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed May 27 08:21:55 2015 +0200

    Merge pull request #127 from vpodzime/master-libblockdev_1.0
    
    Adapt to the new libblockdev initialization API

commit 8e31f6d48aa77aeec95ea7c957eac92853514121
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 25 14:39:54 2015 +0200

    Adapt to the new libblockdev initialization API
    
    In version 1.0 the libblockdev library changes the initialization functions a
    bit and thanks to that we may simplify our code.

commit f0345a5e9ccd259f94aec1b902ebd216353b07fc
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 14 12:33:15 2015 -0400

    Do not raise KeyError if ID_PART_ENTRY_DISK is missing.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 63932bd51fa768d99caea6c7bf52ecb34a85ff82
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 22 12:26:26 2015 -0400

    Manage backing store more independently in loop backed test cases.
    
    * Make the backing store before starting to use the loop devices so there
    is less elapsed time between finding a free loop device and actually using
    it. Get rid of it if there is a failure in locating a free loop device
    or using it.
    
    * Make self._loopMap a list of pairs, since we never do random access
    anyway.
    
    * Don't give up on deleting all loop devices the first time one loop
    device is not succesfully removed.
    
    * Give every loop device a minimum of three deletion attempts
    before teardown gives up. This is apallingly ad-hoc, but almost works.
    As many deletion attempts as needed is sometimes infinitely too many.
    
    * Use tempfile.NamedTemporaryFile to get backing store. Still put the
    tempfile in "/var/tmp" not "/tmp".
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a957348e9d13bbc42c079b76ea4d1ca394463cf8
Merge: 789bc281 06718394
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 26 11:20:20 2015 -0500

    Merge pull request #111 from dwlehman/disk-model-branch
    
    Store vendor/model information for DiskDevice instances.

commit 067183942c97f432e739c979c4b1d7a9816eef06
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 29 15:09:04 2015 -0500

    Store vendor/model information for DiskDevice instances.
    
    Also make sure _model and _vendor attrs are never set to None in the
    StorageDevice constructor.
    
    Fixes #84

commit 99a715039a556c358cc71a51c850cb70fd4fdcca
Author: Anne Mulhern <amulhern@redhat.com>
Date:   Thu Mar 26 13:26:22 2015 -0400

    Pass floats as string to Decimal constructor everywhere.
    
    Usually what people mean by literal 1.3 is 1 3/10. "1.3" is interpreted
    by Decimal as exactly that, but 1.3 is interpreted as
    Decimal('1.3000000000000000444089209850062616169452667236328125').
    
    Signed-off-by: Anne Mulhern <amulhern@redhat.com>

commit d2f75a6440f6be7b8b35d181ac424cd3dc26db86
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 21 16:43:57 2015 -0400

    Fix a bug in reading a size specification with a radix in the numeric part.
    
    Since the | operator is not greedy, the match would return the first of the
    three base alternatives that worked, and would split, e.g., "0.0" into
    "0" and ".0" instead of "0.0" and nothing.
    
    Now, base is a single alternative, that should capture numbers with a
    decimal point correctly.
    
    Fixes a bug introduced in commit 65703bfc851f6d919f8e66e1a635ace5835ea6c1.
    
    Changes to the regular expression are:
    * No longer allows spaces between optional sign and number. Decimal
    constructor will raise exception on '- 2', so might as well not go to extra
    trouble to accept it in regular expression.
    * Uses verbose regular expression, to make it a little easier to read.
    Uses separate compile before match call for the same reason.
    * No longer allows trailing non-whitespace characters after a separating
    space, e.g., "1 KiB or maybe 2". Still  allows trailing or leading
    whitespace characters. Never allowed leading non-whitespace characters,
    e.g., "nearly 1 PiB".
    * The expression that matches the base is a lot simpler.
    
    There is also a huge comment above the regular expression. Hopefully, it
    will prevent people from making unnecessarily complicated and possibly
    buggy regular expressions in future.
    
    The only change to the behavior of the method is that the bug is fixed.
    
    Adds a few more tests.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 789bc2812bf88cd7f4c335fc6f831ab6b29768a9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Apr 27 10:07:57 2015 +0200

    Require new version of pyparted with Python 3 related fixes
    
    Now that we provide Python 3 compatibility and subpackage, we need to require
    newer version of pyparted that works with Python 3.

commit f524a3bc3ecb8457f722fdc0a0e9990012f96335
Merge: 93d0e210 6e72a78c
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri May 22 13:01:58 2015 +0200

    Merge pull request #114 from vojtechtrefny/fix_lvmsnapshot_size2
    
    Use COW device to get actual size of LVM snapshots

commit e762e3208ac5d53f7940c8fb9a824b0905de35ba
Author: Alexander Todorov <atodorov@redhat.com>
Date:   Fri May 22 03:21:41 2015 -0400

    remove mention of doctest b/c target was removed in fed53d969af0eddaeeca58cdf3e40916497aa305

commit 93d0e21093b5e6f51c1b699299719dae1c8cdc32
Merge: f60a2a9a ce805b04
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Thu May 21 13:21:57 2015 -0400

    Merge pull request #118 from mulkieran/master-hawkey
    
    Master hawkey

commit ce805b043c5304b1fe6a51a9be3c43965b2850aa
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 18 18:25:04 2015 -0400

    Use python-hawkey instead of rpm-python.
    
    The advantages are that the hawkey API is consistent between python
    versions, and that it is a bit cleaner for this purpose.
    
    python-hawkey adds two new dependencies above what rpm-python adds, but it
    is required by dnf anyway, so it will likely be installed by most users.
    
    Now raise an AvailabilityError if the number of packages is not exactly
    equal to 1. This is more correct and is not going to cause more stack
    traces, because the error is caught in the method that calls
    packageVersion.
    
    Now catch a possible IOError and reraise as AvailabilityError when loading
    repo.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7a774bbfe3559985d0cf2928ca818b8c181b2cfc
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 18 18:11:08 2015 -0400

    Add a dead simple test for some basic task and resource functionality.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f60a2a9a55550f50f58a462b4a48bb33e4fc660a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon May 18 14:50:30 2015 -0700

    New version: 1.4

commit 4b68b39e7ab6b463f88384201529953da81dc5d5
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed May 13 17:09:54 2015 +0200

    Workaround for chrooted mountpoints  (#1217578)
    
    This is workaround for rawhide atomic builds. These are currently
    failing because of mounts cache reporting wrong mountpoints. The
    problem is mostly with chrooted mounts and bind mounts of 'nodev'
    devices.
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 6e72a78ce487291681e631ffebe48e4126c49c55
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed May 13 12:03:03 2015 +0200

    Use COW device to get actual size of LVM snapshots
    
    Override readCurrentSize of LVM old-style snapshots to check size
    on COW device instead of snapshot device. (The latter one reports
    snapshot to be same size as the LV.)
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit e0eda4d8690bc23ac5defb585c8cfab457f794d9
Merge: 1c906438 994bf2ba
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Wed May 13 18:11:47 2015 -0400

    Merge pull request #116 from mulkieran/master-gerror
    
    Filter GLib.GError instead of GLib.Error in pylint false positives.

commit 994bf2baf930596002563bd599fea624e5579ba1
Author: mulhern <amulhern@redhat.com>
Date:   Wed May 13 12:16:57 2015 -0400

    Filter GLib.GError instead of GLib.Error in pylint false positives.
    
    GError and Error are just aliases of each other, and GError is more
    distinctive, thus a better choice for filtering so long as it is
    used always in place of Error.
    
    Should have gone in with commit 3f0aa449e42bc64da78e2ff8c0553b4526deed00.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1c9064383f7462ad397fc600e6bc63012e198cf3
Merge: bf8e88c0 220369a8
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Tue May 12 17:37:24 2015 -0400

    Merge pull request #113 from mulkieran/master-tasks-20150513
    
    Master tasks 20150513

commit 220369a834144c4439a7f23db870170e90f61567
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 29 18:32:32 2015 -0400

    Guard tests against device support being missing.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 08c276876fbca44c27016e7b81207fe829ddd999
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 23 12:33:26 2015 -0400

    Add checks for filesystem availability in selinux tests.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 33f9521d28d2d1b6014fdc4f59c8be4066f4b173
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 23 11:37:25 2015 -0400

    Fix some small mistakes in tests using availability information.
    
    Related: #12
    
    These showed up because fewer tests are skipped with the finer granularity.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 54005a03327cc496621e0e17276cb22998bf7fac
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 23 11:16:57 2015 -0400

    Get rid of abitrary _resizable variable in tests.
    
    Related: #12
    
    Check if the filesystem has resizing abilities instead.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bb4ec0d99a8fd7c2e669673a4faa02e314da5994
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 23 09:32:33 2015 -0400

    Don't use utilsAvailable to skip tests.
    
    Related: #12
    
    Use the methods that check the availability of the specific tasks required.
    With the additional granularity can test a bunch more things.
    
    Note that it is not possible to use resizable to check availability of test.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3f0aa449e42bc64da78e2ff8c0553b4526deed00
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 22 08:31:18 2015 -0400

    Treat a missing plugin as an OK situation.
    
    Related: #12
    
    But log info about what plugin was missing.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8521b44d0a5e62997901bb34a9bca454d3edb0cc
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 22 08:22:23 2015 -0400

    Use availability information in device actions.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0f65a86dedb5f9000a8bcd33cca758a239991fc7
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 30 16:28:28 2015 -0400

    Add a check to determine whether the device type is supported.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f1ee7dd3bdb1706f371a834243510faf39395e05
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 30 13:29:44 2015 -0400

    If external dependencies are unavailable, cannot support RAID levels.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 152e6c9fedf5b1e9ec8be9c597052eeba57bbb38
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 30 13:17:18 2015 -0400

    Add availability information to devicelibs files.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c61ccf1e0bd74f8527bab1a4f23e3f51c57fd55f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 22 08:16:40 2015 -0400

    Track external dependencies in devices.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 35f4b148775a68d776e2305cae4a89a4f7add22d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 30 12:14:14 2015 -0400

    If lvm is not available, do not do the filtering.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0651dfb1ab5f8b35fd8ba1f359ce19e8587c457b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 22 08:12:23 2015 -0400

    Add availability checking to non-FS formats.
    
    Related: #12
    
    Make use of the availability information in method formattable,
    controllable, supported, destroyable.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 58f9ab589a240a488c8596b3cae255b3935d7752
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 22 07:38:39 2015 -0400

    Use filesystem tasks in filesystem.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0deaa16b78e9401ff7846117012f6adbf7ec143b
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 21 16:43:20 2015 -0400

    Add filesystem tasks to tasks directory.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 12d9512d468ae398256995b9ee1a8b180b701648
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 21 16:34:19 2015 -0400

    Add tasks infrastructure to tasks directory.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c7fc27796590c3ed7bf66e4104c2f7d146b16fa7
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 21 16:34:35 2015 -0400

    Add error to detect errors in discovering availability info.
    
    Related: #12
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ad72d01460304f590ecb774945598c10568c54c2
Author: mulhern <amulhern@redhat.com>
Date:   Mon Feb 23 14:17:33 2015 -0500

    Add errors about reading and writing labels to error heirarchy.
    
    Related: #12
    
    Because labeling errors are sometimes not as severe as other errors,
    so we do want to distinguish.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dc7b3a2e1c3b67c77257afc7d9af8ae5b8096c3b
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 15 15:01:29 2014 -0500

    Make assignments that override abstract properties into simple attributes.
    
    Related: #12
    
    See commit 3b50bf259ab8e1ce98969cf15e672459bbef5e18 for a further
    explanation.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 89e2906a26141604171bb144962dffb32b3a31ed
Author: mulhern <amulhern@redhat.com>
Date:   Wed Feb 25 08:27:17 2015 -0500

    Move kernel_filesystems functionality into a little library.
    
    Related: #12
    
    This way, tasks can know what the kernel filesystems are if they need to.
    Avoids circular imports of filesystems, task, then filesystem again.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e82aecdd2ded91e544433b01b76ff2b92e3dd20b
Author: mulhern <amulhern@redhat.com>
Date:   Mon Feb 23 11:58:11 2015 -0500

    Make labeling(), relabels(), and labelFormatOK() instance methods.
    
    Related: #12
    
    After a few more patches they will be required to access instance variables.
    
    Does not affect downstream, which always uses instance when invoking,
    anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bf8e88c09dcc33a28ff73bbc35b6d9ba3f91c595
Merge: bc90c21b 0ebf2110
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 12 14:48:20 2015 +0200

    Merge pull request #108 from vojtechtrefny/progress_callbacks
    
    Add progress report callback for action processing

commit bc90c21b1e65db7ad6cb7d43de10d876b0062a8e
Merge: 7ca19a73 71f1bb2d
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Tue May 12 08:36:17 2015 -0400

    Merge pull request #109 from mulkieran/master-btrfs-c
    
    Master btrfs c

commit 71f1bb2d5d783eb96ef9e41d98323e13b3497edd
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 7 16:16:12 2015 -0400

    Set a subvolspec format args when making a new BTRFS volume.
    
    Set it from the MAIN_VOLUME_ID for a volume or from the name for a
    subvolume.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9ab5e5bfc7257d4f22e8fa17ec1bcb21d34dd74c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 11 14:46:52 2015 +0200

    Beware of Python 3's version of the map() built-in function
    
    It not only returns an iterator in Python 3, it actually works in the lazy
    evaluation fashion. So if its returned value is not iterated over, the passed
    function is not called on the iterable's items. Let's use a for cycle in these
    places to make the iteration and function calls explicit.

commit 854d12a5fdcde323ba8a095014265097c466350f
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 7 08:31:14 2015 -0400

    Cache data obtained from /proc/self/mountinfo.
    
    This avoids reading and parsing the file whenever additional
    btrfs information needs to be looked up.
    
    Changes are:
    * Addition of a small, special purpose cache for btrfs information
    obtained from mountinfo. The only facility the cache offers is laziness.
    Since it currently is instantiated and destroyed in a single method where
    it is used in a very simple way it does not require other management
    facilities.
    * Slightly improved parsing of /proc/self/mountinfo which takes into
    account some variable number fields.
    * Make sure all components of key values are str or NoneType when
    inserted into mounts cache or when looked up.
    * Use context manager for "/proc/mounts" processing.
    * Log an error if a line in "/proc/mounts" is skipped because no
    subvolspec was obtained for the btrfs volume entry.
    * Use named constant MAIN_VOLUME_ID instead of 5 where appropriate.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0ebf2110be99836069f4d57fdd33568238fd0cef
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu May 7 09:12:32 2015 +0200

    Add progress report callback for action processing
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 0e3263d0f9c3914c2580693636bd775c0a52cc4a
Author: mulhern <amulhern@redhat.com>
Date:   Wed May 6 08:56:05 2015 -0400

    Do not have two ignored variables when one will do.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b440c30543a2a2e2abec2e7297b9fd041969df24
Author: mulhern <amulhern@redhat.com>
Date:   Wed May 6 09:40:20 2015 -0400

    Fix a typo in comment.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7ca19a734b5ce874f34ac0b03a0b2d95a0255011
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 5 16:20:29 2015 -0400

    Do not use type() in makebumpver.
    
    pylint has gotten pickier about this for whatever reason, so we should stop
    using it.  Thus, I'm just going to have _getCommitDetail always return a
    list and callers of it decide if they just want one element or what.

commit ee39810cfbf298f47f97f9b5e4a94e5dba6a1b2c
Merge: 63c1cc79 165147d2
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Mon May 4 08:07:49 2015 -0400

    Merge pull request #100 from mulkieran/master-lvm-a
    
    Un-escape '-'s in names or paths for _all_ lvm lv or vgs.

commit 63c1cc798b2f20c058c69b4fc20c010ae4148c64
Merge: 6c316f93 19c929ba
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Fri May 1 17:22:05 2015 -0400

    Merge pull request #104 from mulkieran/master-1139222
    
    Include LUKSDevice information in kickstart data (#1139222)

commit 19c929badf7bb03f1da7429fdc1eba5e5e97b424
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 16 08:16:22 2015 -0400

    Include LUKSDevice information in kickstart data (#1139222)
    
    Resolves: rhbz#1139222
    
    Previously, if a device had a child that was a LUKS device that child was
    ignored when generating ksdata. What this meant was that that device's
    format, which was luks, was used in generating the kickstart data.
    
    Now, the LUKSDevice, which contains the format that should appear in the ks
    output is used. This means that the LUKS format is used to set some ks data,
    but the mountpoint and so forth are overwritten with the correct values
    when the format on the LUKSDevice is used to populate those values.
    
    The --passphrase option with passphrase continues to not appear in the
    output anaconda-ks.cfg file.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 165147d291360481febbc02acb019e9f8ff1b7d8
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 28 11:39:46 2015 -0400

    Un-escape '-'s in names or paths for _all_ lvm lv or vgs.
    
    Assume that whenever lvm presents blivet w/ a name with two consecutive
    dashes this represents an escaped single dash.
    
    Previously only doing this for lvmvg's and lvmlv's, which turned out
    to be a problem when looking up subclass instances, like lvm thin lvs.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6c316f938b7930749e25672c7468a3c920bb11b6
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Apr 27 12:03:34 2015 -0400

    Fix a few miscellaneous pylint-caught problems.
    
    (1) Replace a use of filter with a list comprehension, because the former was
    resulting in some weird errors from pylint.
    
    (2) We're using print as a function everywhere else in makebumpver, so do the
    same when we just want to print out a newline.
    
    (3) raw_input in python3 has been renamed to input, so use six to figure that
    out for us.

commit c973c16ee05a7c58971c263a01304314df28550e
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Apr 23 14:16:37 2015 -0400

    Only give Size objects a __div__ method under python2.

commit 550f95e5972221b5fc76b3eefb910443371799d7
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 22 16:32:20 2015 -0400

    Protect against calling testMount on an object that may not have it.
    
    And then I still have to ignore the pylint warning, because it thinks that
    fmt might have too broad of a type.

commit 3d45c51cd628fd48fec334d67e45a93f55882ede
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 22 15:25:11 2015 -0400

    Add a bunch of false positives to make pylint succeed.

commit 21f1e0c35addedeb1dc3741f81ec9b1f8324c79f
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 22 14:45:03 2015 -0400

    e.message -> str(e)

commit aa78db30ad56262e7961013b523e69dacec26d60
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 22 14:36:27 2015 -0400

    Disable a pointless override warning.
    
    This is a valid warning, but only on python3.  On python2, the default
    is False.  I don't want to crud up the code with a bunch of conditionals
    for stuff like this.

commit 1ce2f39ec7032d7299d58e2aab3164d443c5391c
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 22 13:58:25 2015 -0400

    Ignore the environment-modify pylint warnings for size_test.py.
    
    These should be safe in the test cases, since threads won't be involved.

commit 7e1f2abb720b0726e50c761716a566b8a1423af0
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 22 13:37:30 2015 -0400

    blockdevError -> BlockDevError

commit a7d0cbd1568c6203ca4436121e381fdb1069b673
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 22 13:31:39 2015 -0400

    Remove uses of the string module we don't need, ignore warnings on those we do.

commit ba7599b8d21054f4bd8331827e047bbc2fb7e678
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 22 11:58:01 2015 -0400

    unicode isn't undefined on the python2 code paths.

commit 4b5598f391b43a7559a3129786336bfeb232d973
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 22 11:33:56 2015 -0400

    Use eintr_retry_call from anaconda.

commit b5382f4580130bb806190f6ae24a12b3020ad56a
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 22 11:12:49 2015 -0400

    Move blivet to using pocketlint.
    
    There's a fair number of errors right now, some of which could be false
    positives, but I am going to take care of those in subsequent commits.

commit 5fa273038d032c7bdca2940d80fb1064c2facfd6
Merge: 38c780c0 18f29d89
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Tue Apr 28 09:25:38 2015 -0400

    Merge pull request #97 from mulkieran/master-1072060
    
    If the parent volume has a label, use it in subvol's kickstart (#1072060...

commit 38c780c0824178c7573016e833e9975b3f7f20d0
Merge: ee39fc6d b72e957d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Apr 28 15:22:16 2015 +0200

    Merge pull request #93 from vojtechtrefny/fix_active_parted
    
    Fix adding new partitions on disks with active devices (#1212841)

commit 18f29d89805a1b55e0d269623921bc9344ee37a1
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 28 09:16:10 2015 -0400

    If the parent volume has a label, use it in subvol's kickstart (#1072060)
    
    Resolves: rhbz#1072060
    
    The LABEL= entry identifies the parent of the specified subvolume by its
    label. If the parent volume does not have a label, then no entry is made
    that identifies the parent volume and the generated kickstart
    file will be rejected by ksvalidator.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ee39fc6dc2e0152c390126635fdb8ac8ebeb56f8
Merge: b00cb1d6 9e42acc2
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Tue Apr 28 07:13:09 2015 -0400

    Merge pull request #94 from mulkieran/master-raid
    
    Move definition of _level attribute above super-constructor call.

commit b72e957d2b23444824316331ae21d1c594371e9c
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 23 12:17:48 2015 +0200

    Allow adding new partitions to disks with active devices (#1212841)
    
    Parted doesn't allow changing disklabel when there is an active
    partition on the disk. Current implementation of
    findActiveDevicesOnActionDisks doesn't allow adding new partitions
    when there is an existing active (child) device other than another
    partition (eg. VG). New version checks only actions that actually
    changes the disklabel and checks status of formats of (child) devices
    on the disk with changes.
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit b00cb1d66c2aa5005da6cda7ae767a8829070b7e
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Tue Apr 14 11:48:25 2015 +0200

    Fix "anaconda hangs while trying to discover iscsi..." (#1166652)
    
    This was 2 errors in one.
    
    First problem: anaconda freeze for some time.
    Second problem: libiscsi was run on thread and libiscsi the library
    is not thread safe.
    
    Anaconda freeze is because of GIL is taken on library thread which is
    trying to connect to server.
    The thread safe problem is because libiscsi is using signals internally
    which were delivered to another thread (this is hard to solve in python
    threads...). Solution is to start discover method on new process.
    
    So new process is now created to call libiscsi discover_sendtargets
    method. This should fix both problems.
    
    Resolves: rhbz#1166652
    
    Signed-off-by: Jiri Konecny <jkonecny@redhat.com>

commit 9e42acc233249b7f02e1640834acbe5687145552
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 23 17:30:04 2015 -0400

    Move definition of _level attribute above super-constructor call.
    
    The basic problem is that level is a very important concept for md
    so a lot of log messages log this information. Some of these
    log messages are executed as a result of running the parent constructor.
    The particular problem I saw is that self.updateSize() is called by
    StorageDevice.__init__, which understandably logs the size,
    and the size() methods logs its result, along with the level, leading to
    an AttributeError. Now there will be no AttributeError, but the RAID
    level will be displayed as None when this happens.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit de7b86c62a5daf55309c64ed0f709ae01316a5c8
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 23 12:15:32 2015 +0200

    Fix status for LVMPhysicalVolume format
    
    LVMPhysicalVolume format should be True (active) if exists and if
    has an existing VG.
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 258ae9d11280f8ca0e5663a2de4961f1958b8b6c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Apr 22 09:37:07 2015 -0700

    New version: 1.3

commit c74d8a563cc5800b42e6494f26ce2da3393ee4c4
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Apr 22 09:27:14 2015 -0700

    fix conf.py pylint errors

commit 09d14bef8c8a002f6d71de5ff1f6002a27227884
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Apr 21 13:46:59 2015 -0700

    Fix BlockDev import in populator.py

commit 388162b67bca1bc6b922a89c37728fd9ae4edfdc
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Apr 20 18:25:37 2015 +0200

    Prevent pylint from going crazy because of libblockdev's ErrorProxy

commit 24a7773eee6164460a81a1747473cf8e68c7baa6
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 17 16:47:51 2015 +0200

    Make use of the new libblockdev error reporting
    
    As of version 0.10 libblockdev provides better error reporting if its ErrorProxy
    instances are used (e.g. blockdev.lvm.lvcreate instead of lvm.lvm_lvcreate where
    blockdev.lvm is an ErrorProxy instance). Let's make use of this feature and
    catch native python exceptions defined in libblockdev's python GI overrides
    instead of GLib.GError.

commit eaef2784ec43f6b919bc7a682f487e35090784c6
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Apr 15 13:30:32 2015 +0200

    Add libselinux-python to package dependencies (#1211834)
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 24291d33df7fbf9e7d78bb61ebb72e96c504807e
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Apr 13 15:34:48 2015 -0400

    Introduce a new doReqPartition method that is similar to doAutoPartition.
    
    This method allows automatically creating just platform-specific partitions,
    allowing kickstart files to do custom partitioning without having to introduce
    lots of machine-specific details.
    
    This also required splitting up platform.setDefaultPartitioning into two more
    fined grained methods.  I've left the older method around with its existing
    behavior for anyone who may be using it.  The split allows for users to be
    even more picky in how much autostuff they want - just things like biosboot,
    or also the /boot partition?
    
    Related: rhbz#1164660

commit d520cf630c0aa37432f7b6d24a5a72e6f4987491
Merge: 86537741 0ee617bc
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Thu Apr 16 12:36:17 2015 -0400

    Merge pull request #81 from mulkieran/master-mount-options
    
    In FS._postSetup() check the mountpoint options that were actually used.

commit 86537741e41556e0e895914c9e1e87c92d021863
Merge: e1511f8f 0a0a722c
Author: Martin Kolman <martin.kolman@gmail.com>
Date:   Thu Apr 16 17:07:50 2015 +0200

    Merge pull request #66 from vpodzime/master-py3_final
    
    Fix some Python 3 compatibility issues and add the python3 subpackage

commit 0a0a722c667b588731381c8a11ad452bd9b3c473
Author: Martin Kolman <mkolman@redhat.com>
Date:   Thu Apr 9 15:31:47 2015 +0200

    Encode input for os.write()
    
    This makes sure os.write() gets bytes with Python 3 and still works fine
    with Python 2.

commit 6b3b637307ab65da8cc4904860eb35f903f6d82d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Feb 17 15:53:12 2015 +0100

    Build the python3-blivet subpackage

commit 4aba8f964db6bb0058019ce8f7125fedab370eb0
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Mar 27 13:28:05 2015 +0100

    Do not modify dict while iterating over its values
    
    Python 3 is not enough benevolent to do something like that and raises an
    exception, in Python 2 it's just a bad idea.

commit 199a249549365edb1f8aa8a84466558f903f4d2f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 25 11:24:32 2015 +0100

    Do not try to compare strings and Nones when sorting mountpoints
    
    Use an empty string instead of None as the fallback value.

commit 0b1a667c98f4604fc852336de7804dacbe4d3c50
Author: Martin Kolman <mkolman@redhat.com>
Date:   Thu Mar 19 10:42:20 2015 +0100

    Always return strings from regular capture output run functions
    
    And add functions that always return binary data.

commit 75db822278c0ae7095cf79e3ae4b2bbc83c727e5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Feb 20 14:35:32 2015 +0100

    Do not use variable from an inner comprehension in tests
    
    In Python 3 such variable is not visible/defined, but it shouldn't be used in
    Python 2 neither.
    
    Also replace two list comprehensions with generator expressions.

commit 5c036e9865f52787a82984b2c1b52390273ae54c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Feb 20 14:33:44 2015 +0100

    Implement and test Python 3 division for the Size class
    
    Python 3 makes division more sane and for / it uses the __truediv__ method while
    for // it uses the __floordiv__ method. We need to implement these two in the
    Size class and adapt tests to work the same in Python 2 and Python 3.

commit d576d25ba409f0e1035f7f64a725887831ba5305
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 19 16:02:06 2015 +0100

    Replace python 2 build-in-function cmp() with custom method
    
    cmp() no longer exists in python 3

commit bf84eceae856c8f4306aac58ccea3f73f4dd2c4f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Feb 19 14:28:18 2015 +0100

    Do not rely on __sub__ being implemented as __add__ (-1)*
    
    There's no point in having two-line comment instead of 6 extra characters and
    rely on something that's not a part of the API and may, and in fact did in
    Python 3, change.

commit d3082439837d27565826b3fcc08fc13a9a8aacd4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Feb 18 16:32:13 2015 +0100

    Transform our compare functions into key functions and use these instead
    
    Python 3's sorting stuff doesn't support the 'cmp=...' argument.

commit 04e69be33cd4df5ed81d2a2f654bd10e98fdf61b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Feb 20 14:32:42 2015 +0100

    Fix the size_test to stop using byte strings
    
    These are just strings now. This should be merged with the commit
    53f1fb52e0967bfe629faa2245248489994bba3a.

commit 54a36bd4712cb269e350302bf4e2b874fcc77bd1
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Feb 18 15:44:10 2015 +0100

    Do not define unit strings as byte strings
    
    They should be just strings in both Python 2 and Python 3.

commit 72a48b919436d1e0945e2f80af947c2e4b394281
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Feb 18 14:43:37 2015 +0100

    Do not pass context to Decimal numeric operations
    
    In Python 3 this causes an exception. We don't set it explicitly anywhere and
    the usage of Decimal we have in our code neither does it.

commit 4e89c3ee66247a9ddbcf2a38f6848fb491a9f453
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Feb 17 14:58:31 2015 +0100

    Don't call object's (as a class) __new__ with extra arguments
    
    The Python 3 version of the 'object' class raises an exception otherwise, the
    Python 2 version of the class ignores them anyway.

commit a66e16b3c6a00f10a3cae71d5d1339a7dfb18530
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Feb 17 14:43:48 2015 +0100

    Make translation to lowerASCII Python[23]-compatible
    
    If we are given a byte string in Python 3 we need to convert it to str (unicode)
    first because otherwise we would need another translation table (for the 'bytes'
    type) and we would need to convert the result into str (unicode) because that's
    what the calling code expects.

commit 4f8ca7771c91b675d1a6a79116bef3e91565e306
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Feb 17 14:41:52 2015 +0100

    Replace __import__ call with importlib.import_module
    
    As __import__'s docstring says:
    "Import a module. Because this function is meant for use by the Python
    interpreter and not for general use it is better to use
    importlib.import_module() to programmatically import a module."
    
    Also __import__ is a bit different in Python 2 and Python 3.

commit 0ee617bcd2e8f704866d42106a686d3064eca798
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 15 12:58:07 2015 -0400

    In FS._postSetup() check the mountpoint options that were actually used.
    
    Should have gone in with commit 10bc41e6f73796298a3a78faaf69dd363429ea53.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e1511f8fb45cee10d072a14990e09b0ca7447f5d
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Apr 13 17:41:30 2015 -0700

    Add kwargs to unmount and move mountpoint check into _preSetup
    
    _preSetup should contain all the logic related to whether or not to
    execute the mount, this moves the mountpoint chroot check from _setup
    into it.

commit 484f466a953dbb460292d5d52317b57cec36633c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 10 16:15:43 2015 +0200

    Do not try importing hidden/backup files as formats
    
    These may come from editors and other tools.

commit 0e625f5f4a6af2c9750042744924fb5aab7d6cd7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 10 16:14:44 2015 +0200

    Add back DeviceTree's support for saving LUKS passphrases
    
    The old version of the code stopped working with the split of population code
    into the Populator class.

commit b7821ada2dd9425a8eb0ff0efb91a02f7ed17423
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Apr 10 16:10:31 2015 +0200

    Do not try to stat FileDevice's path if it doesn't exist
    
    As is the case for a losetup'ed and later removed.

commit d044f62de1b5643ebcc65eec880b463d3f829773
Merge: 147dcf28 d218cb29
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 13 16:14:24 2015 -0500

    Merge pull request #76 from dwlehman/unusable-storage-branch
    
    Do not continue when presented with unusable storage configurations

commit d218cb298e4a62ee22f08232f4d600572d06bce1
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 8 16:58:49 2015 -0500

    Add error handling around storageInitialize for unusable setups.
    
    Related: rhbz#1158475

commit e44aaeeacdabd294793a5932cfbcfb97a752e5fc
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 8 12:34:46 2015 -0500

    Include suggestions in error classes for unusable storage configurations.
    
    Related: rhbz#1158475

commit e8b5e4b0058946b77ac472b466087196f4c6810b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 30 12:28:18 2015 -0600

    Use partially corrupt gpt disklabels.
    
    Tell pyparted to answer "yes" when libparted asks if we want to proceed
    using the secondary gpt disklabel in the event of a corrupt primary (or
    use the primary in spite of a corrupt secondary label). We only do this
    while populating the devicetree.
    
    We only do this if udev/blkid has identified the disk as containing a
    disklabel. This means we are going with the system's consensus as to
    which formatting to acknowledge in the event there are multiple
    signatures on the disk.
    
    Related: rhbz#1157657

commit 147dcf2832af0b75b332361aa42a36aeb8fbf207
Merge: ce82718f 10bc41e6
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 13 16:04:55 2015 -0500

    Merge branch 'format-split-branch' of https://github.com/dwlehman/blivet

commit 10bc41e6f73796298a3a78faaf69dd363429ea53
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 2 17:56:04 2015 -0500

    Consolidate common code in DeviceFormat class methods.
    
    This mirrors what was done long ago for the Device classes. The intention
    is to improve consistency and reduce code duplication.
    
    create and destroy are just split into pre/body/post with no way to bail.
    
    setup and teardown pre methods return a boolean telling whether or not to
    proceed with the operation.

commit ce82718f198f884ac8c3c0241b4ff7c747554556
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Apr 10 14:51:13 2015 -0700

    Update get_mount_paths to use mountsCache

commit 255d837399eb83ff8756895d3a7dfc1c1ad1fb26
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Apr 10 14:36:50 2015 -0700

    Add multiple mountpoint handling to MountsCache
    
    It is possible for a device to be mounted on multiple paths. Collect all
    of these in self.mountpoints and use the last one for systemMountpoint.

commit db48bed49d5c4be23233f0a5b83828dfd9cefaaf
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Apr 7 13:29:14 2015 -0700

    Remove obsolete FIXME from FS.status

commit a02255df2eb3a9819a1a88cbbdc498040b344a64
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Apr 6 10:46:58 2015 -0700

    Check to see if mountpoint is already mounted
    
    Instead of using self.status which checks to see if anything is mounted,
    not the specific mountpoint requested. Make sure to check the chrooted
    mountpoint, otherwise nothing will get mounted.

commit 278d64338561c0819ebeedb1de07d91d2e777d2b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Apr 6 10:46:11 2015 -0700

    Add isMountpoint to MountsCache
    
    Check to see if a path is already mounted.

commit 46437747222ef33af6d2042434a3939d9c2221e0
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Apr 6 10:02:57 2015 -0700

    Add ability to unmount specific mountpoints
    
    The dynamic mountpoint detection patch revealed a problem with multiple
    mountpoints. Sometimes things are mounted in multiple places and the
    first one listed by the system isn't always the one you want to unmount.
    
    This adds the mountpoint argument to unmount so that a specific location
    can be selected. It must exist or else FSError will be raised.
    
    The old code worked because it replaced the _mountpoint value so it
    would unmount the last mounted location, but that wasn't correct because
    you then lost the information about previous mountpoints.
    
    With the current code the caller is expected to keep track of
    mountpoints if more than one is used and to pass mountpoint= to unmount.

commit 957f4971740f29812846851d48f15f0060318f4c
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Apr 13 09:58:24 2015 +0200

    Fix pylint errors for six.moves import
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 8d091b7d3accf1ec767e9bc4d25699aa728886e7
Merge: 3b43f3b9 58defcb3
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Apr 13 06:56:40 2015 +0200

    Merge pull request #72 from vojtechtrefny/picklable-size
    
    Pickling support for Size

commit 3b43f3b947ea9e72ffb0560c7d94764524e2482b
Merge: b1d40226 cfdc58d2
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Fri Apr 10 15:23:26 2015 -0400

    Merge pull request #74 from mulkieran/master-trivia
    
    Trivial Test Fixes

commit cfdc58d27b19efce8d21a7c2a81383448266115e
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 20 18:21:09 2015 -0400

    Fix two instances where check_equal() returned True incorrectly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1b3574bf26cbc36d5adedfdcb7cc3f69350d940b
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 9 15:18:47 2015 -0400

    Fix typo in 66f2ddb11e85ec6f48535d670dd6f24cb60cbe55.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6d5cc55590a06d449a64ab2ce8d8204afead1f96
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 9 15:33:17 2015 -0400

    Make sure installer_mode is reset to original value.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 58defcb3c64472e82bbd8275ea5da2fb296d4049
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 9 09:50:42 2015 +0200

    Test for Size pickling support
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 10a1f4939ccf1735d0d3089e3cb4a16650a05592
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Apr 7 18:12:49 2015 +0200

    Pickling support for Size.
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit b1d40226621a2130e4521308350aa30f18138a3c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 7 15:20:07 2015 -0500

    Disable pylint bad-super-call in MDRaidArrayDevice.updateSize.

commit e7ca5ba907213b930cb2072323f519f87ee68c75
Merge: 32d3244e ed4a0993
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 7 14:39:58 2015 -0500

    Merge pull request #68 from dwlehman/parted-device-branch
    
    Use /sys to obtain sizes of existing devices.

commit ed4a0993f46e8bd5f76867115ad311b4cb41fecb
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 1 12:13:57 2015 -0500

    Require reallocation after changing an allocated partition's size.
    
    As far as I know the code being removed was never used.

commit 0d7c5749f4a48700ccfb2294fcaa7feab9e7dd49
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 7 09:26:48 2014 -0600

    Move mediaPresent out of Device and into StorageDevice.
    
    mediaPresent indicates whether a device node is backed by
    readable/writeable media. It is generally only meaningful for root devices
    (devices with no parents). There are only a few instances in which this
    is relevant: cdrom/dvd, card readers, md containers, and some goofy raid
    hardware that creates a zero-size block device node. If you need a general-
    purpose property to tell you if a device is available for general use, what
    you want is the device's status attribute.

commit 73d9c995c8d46f1aa248d1ade3bbb1838653b6b0
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 5 16:42:37 2014 -0600

    Don't use parted.Device to obtain size info.
    
    Deleting a parted.Device causes parted to close its rw fd for the device,
    which triggers a change uevent on that device, which could in turn trigger
    any number of actions via udev rules. One example is when we reset a Blivet
    instance: All devices are deleted, including their parted.Device instances,
    which triggers a change uevent for every device. In response to these
    events, mdadm's udev rules activate all arrays on those devices. Activating
    devices -- even indirectly -- without cause, is not acceptable behavior for
    a storage library.
    
    This also adds a trailing comma to 1-tuples in variable_copy arguments.
    In my testing, ('foo') is the string 'foo' -- not a tuple with lone element
    'foo'.
    
    Related: rhbz#1069597
    
    Followup for removal of parted.Device.

commit 32d3244e5f4905cfe49c1b37b69b18e3b7878b1b
Merge: b3c0693d 499065bd
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Tue Apr 7 08:59:12 2015 -0400

    Merge pull request #70 from mulkieran/master-1208536
    
    Resolves: fed#1208536

commit 499065bd637a64bba621a730e06f861b53f7df61
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 7 08:42:52 2015 -0400

    Prepend /sys to sysfs path for udev lookup (#1208536)
    
    Resolves: fed#1208536
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a6a8ce6120ea7bd214ebfe75a1a1a30ea989cf1d
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 7 08:41:37 2015 -0400

    Fall back on mdadm info if udev info is missing for the array (#1208536)
    
    Related: fed#1208536
    
    If udev didn't supply the UUID of the array the device belongs to,
    which means it won't be found in the format's mdUuid, assume that
    mdadm got the correct UUID and use it and also assign it to the format's
    mdUuid.
    
    Otherwise, we may end up creating a new device when one is already in
    the device tree.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a7e0f0dbbc86a266e4c637cdf1015f438ff29eb1
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 7 08:38:41 2015 -0400

    Catch DeviceError as well as ValueError (#1208536)
    
    Related: fed#1208536
    
    Since MDRaidArrayDevice constructor can raise DeviceError as well,
    and we don't want failure of the array creation to be fatal.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 82ee83d76d4aa44b253066269e83848bb73a01d8
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 7 08:36:48 2015 -0400

    Make an MDContainerDevice if that is the right model (#1208536)
    
    Related: fed#1208536
    
    Should have gone in right after commit
    ea0cfad52f86dc589d7e83656e97fa2c1a750fad.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1c177219ef88748b2700fe1bcad0ca2dbda7e770
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 7 08:31:25 2015 -0400

    Change raid variable name to raid_items (#1208536)
    
    Related: fed#1208536
    
    So that raid module can be imported as is.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b3c0693d9634a391bff7f0043d65bb1617eecf51
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 6 17:24:02 2015 -0500

    Fix swapped args to processActions.
    
    Arguments got switched in commit bf208731. I also switched to explicit
    keyword argument usage from Blivet.doIt.

commit 436bc704f9f3da1afbe2368df1d8788dda41c76f
Merge: 8784e1ac 6d1dd440
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 2 15:33:38 2015 -0500

    Merge pull request #63 from dwlehman/disk-selection-branch
    
    Bits needed to enforce sane disk selection in anaconda.

commit 8784e1ac684334bbea0e67c8c79eef401d69bf3f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 1 10:42:52 2015 +0200

    Use VGname-LVname as key for LVinfo cache
    
    This is expected by some parts of the code and is a good way to prevent issues
    with multiple LVs with the same name existing in different VGs.
    
    Acked-by: David Lehman <dlehman@redhat.com>

commit 2cfcd783e2ccaf514582dff8d3bf014c095480a2
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 1 14:58:36 2015 +0200

    Add back DeviceTree's methods and properties used from the outside
    
    These methods/properties were moved to Populator and ActionList classes, but to
    keep the API we need to provide them in the DeviceTree class too.
    
    Also make the 'dasd' property settable because that's what Anaconda does.
    
    Acked-by: Chris Lumens <clumens@redhat.com>

commit c25ee12ae1b44335cbcbf5ee4969a29f683f2f3e
Author: Martin Kolman <martin.kolman@gmail.com>
Date:   Wed Apr 1 19:05:54 2015 +0200

    Wrap keys() with a list so that the dictionary can be changed
    
    In Python 3 the keys() dictionary method returns and iterator,
    which we can't use if we want to modify the dictionary while iterating over it
    (it raises a RuntimeError). So wrap keys() with a list to prevent this from
    happening.

commit 6d1dd440fef601b582e9db25a7eb7fe6802d710c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 1 09:29:40 2015 -0500

    Add a method to list disks related by lvm/md/btrfs container membership.

commit 0fd7b79350d11fc6d8e1ad0b4f393a81b1db3e60
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 1 09:25:07 2015 -0500

    Make getDependentDevices work with hidden devices.

commit fb4499c3e4994bb20cfcb892ac4653046d88b292
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Mar 27 17:23:38 2015 -0700

    New version: 1.2

commit 30ca4104acb927e2ef33e92316caa15cdc6f656f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 25 15:42:51 2015 +0100

    Fix pylint unused variable warnings
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 4bddf3b7f0f4dabb31aee848c6d3baaf3f1a14e8
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 18 15:27:19 2015 +0100

    Add test for mountpoints
    
    Tests for new dynamic mountpoint detection using MountsCache
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit c5eeb1a25a6bc2dfa921c16d0a9ceef32c12e191
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Mar 16 12:25:16 2015 +0100

    Replace _mountpoint with systemMountpoint in other modules
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 5a125bb120298e7c6424793b721c1ae533aaecdc
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Mar 16 11:57:18 2015 +0100

    New method to handle nodev filesystems
    
    Handling nodev filesystems was originally part of getActiveMounts
    method that is no longer needed.
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit c128c287eff1b9728bb86ac8760c1b5452b3c589
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Mar 16 11:52:48 2015 +0100

    Add dynamic mountpoint detection support
    
    Current format._mountpoint attribute for "active" mountpoints is
    being replaced with property format.systemMountpoint that returns
    current mountpoint based on system information (cached information
    from /proc/mounts and /proc/self/mountinfo)
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit b8cf6262bb24ada8ee17483df3e1ade21fa34a14
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Mar 16 11:29:50 2015 +0100

    New method to compute md5 hash of file
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit f12cbb9ab4e79e8a793a1e672ac23b33dafec46e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Mar 16 10:04:01 2015 +0100

    Add information about subvolume to BTRFS format
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit c4c939eb97efe0dd8de98ae7bcb0880cbea40902
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 18 16:02:29 2015 +0100

    Don't specify priority in fstab if -1 (default) is used (#1203709)
    
    For some reason, such fstab line doesn't work and it's better not to rely on -1
    meaning the default forever.
    
    Related: rhbz#1202505

commit 34b1e6e27ab794aad51d91703cd3157dddd8ebc7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 18 15:52:38 2015 +0100

    Catch GLib.GError in places where we catch StorageError (#1202505)
    
    Previously, all errors that could have been raised from running storage actions
    from blivet were inherited from the StorageError class. This no longer holds
    with libblockdev being used because libblockdev raises exceptions through GI
    introspection and thus as GLib.GError. In places we catch the all-covering
    StorageError we should also catch GLib.GError and in some places we should only
    catch GLib.GError if a libblockdev call is the only thing in the try-except
    block.

commit bfda7304381e4a5a9eb10fe4c94aa38dc34df872
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Mar 23 11:41:40 2015 -0400

    slave_dev is undefined here, use slave_devices[0] instead.

commit 994c8a1550eea9bfbdcd39082a8a94ae45d92b12
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Mar 20 12:15:15 2015 -0400

    Clean out the mock chroot before attempting to run the rest of the test.
    
    Otherwise it'll get hung up failing to download some package that exists.

commit 36602998d545e41694da199664041534de58c584
Merge: d99fb358 71ed56e6
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 19 15:07:25 2015 -0500

    Merge branch 'misc-pr' of https://github.com/dwlehman/blivet into misc-pr

commit 71ed56e680420dcc7b10dab038e5db401620e5cd
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 5 12:06:22 2014 -0500

    Move recursiveRemove from Blivet to DeviceTree.
    
    Also add an option to do the removal directly instead of using actions.
    
    Some of the logic from Blivet.destroyDevice for scheduling of format
    destroy actions was copied in as well.

commit d5aa6212cedc6b35565c41f76f7cec3210ca2247
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 29 12:36:18 2015 -0600

    Factor out adding of sysfs slave (parent) devices into its own method.

commit d1f226413a5b7dc9e255ce863330a0111f50afd8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 5 17:38:37 2014 -0600

    Add a __str__ method to DeviceTree.

commit bf390e6d68cae97eb4619ff26e31b9e3a1028234
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 5 17:41:04 2014 -0600

    Allow changing the names of existing devices.
    
    This can happen due to a rename outside of blivet or just an update
    while populating the devicetree for dodgy things like md arrays.

commit f4120461b6749c27324a53919d19c333033f78c3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 10 16:28:58 2015 -0500

    Remove redundant block for adding fwraid member disks.
    
    This can be handled from the normal addUdevDiskDevice path.

commit adfbe4afe37fe0eafac23512dcb347ff5fdfd5fa
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 17 14:53:13 2015 -0500

    Return a device from addUdevLVDevice if possible.
    
    I can't see any reason not to return it from here since we do so from
    all of the other addUdev*Device methods.

commit d2a27294a05b0c34bb6a69d3393cda1d17ae0a7c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 17 14:55:30 2015 -0500

    Pass a sysfs path to MultipathDevice constructor from Populator.

commit ed42d705ef17e7d28ce34746dd64b49886e9b658
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 30 13:06:20 2015 -0600

    Resolve md names in udev info.

commit a3be5ccc4c8ecb872b683c6ded3abcd81a085fb5
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 12 13:44:51 2015 -0500

    LVMVolumeGroupDevice format should be marked as immutable.

commit 8508cdccf518d267c54a3ac09f205b70c5de0683
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 4 09:41:21 2015 -0600

    Don't catch and re-raise device create exceptions as DeviceCreateError.

commit 9617f5a48318b25f68c9407a69768cd8bb62c4ce
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 4 10:10:32 2015 -0600

    Call superclass _preCreate from BTRFSVolumeDevice._preCreate.

commit 1de962788f5815156b0de4dfe192e192c0aa6ee2
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 10 13:34:44 2015 -0500

    Move code that populates the device tree into a new class and module.

commit bf208731bd5eb4831da16327692ed238f3c9549c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 10 11:03:42 2015 -0500

    Move action list management into a separate class and module.
    
    registerAction and cancelAction remain in DeviceTree because their
    purpose is wholly specific to the device tree. The action list has
    no concept of registering or canceling actions -- there is only
    append and remove.

commit d99fb358f352ee827e3f950365f6d62d3ffa9216
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 18 21:12:42 2015 -0400

    Put an __init__.py in devices_tests directory.
    
    Otherwise unittest framework will fail to discover them.
    
    This change should have gone in with commit
    cd56287e7c2574e188a8dab6967e9f867aeba867.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9a6acef77255e2454822fbf758d65e92145fe32a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Mar 16 14:43:47 2015 +0100

    Require the Python 2 version of pykickstart (#1202255)
    
    The 'pykickstart' package now pulls in the Python 3 version.

commit 5b001148334d54a9e03e4220925176747c874e2b
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 17 08:18:49 2015 -0400

    Use Size method to perform a Size operation (#1200812)
    
    Related: fed#1200812
    
    It should not be necessary to invoke an lvm plugin to round a Size.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6caa7f8f0e9625cdc2c389d7d75429fd5d02d908
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 17 08:07:47 2015 -0400

    Extend Size.roundToNearest to allow Size units (#1200812)
    
    Related: fed#1200812
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ee3328fd7afeaa65977e22ae6a2648c2aa2190aa
Merge: 7198ea97 a4dfac9d
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 17 12:40:45 2015 -0500

    Merge branch 'devicetree-split' of https://github.com/dwlehman/blivet

commit a4dfac9deb590b66e97d011fc6278f56ff7f3237
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 10 13:34:44 2015 -0500

    Move code that populates the device tree into a new class and module.

commit bb3ac283fc971230ab966bd65cf53ccd9e870de6
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 10 11:03:42 2015 -0500

    Move action list management into a separate class and module.
    
    registerAction and cancelAction remain in DeviceTree because their
    purpose is wholly specific to the device tree. The action list has
    no concept of registering or canceling actions -- there is only
    append and remove.

commit 7198ea9741a5b999835971d8daf65417700bf935
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 16 09:15:16 2015 -0400

    Remove a pointless override.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 198dafa7ddd1647f877149c89dfe88da4b28c69c
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 16 09:13:23 2015 -0400

    Display the name of the overridden ancestor in error message.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a690dccb0e50aacf5fb9a8113f95d344efe2b77a
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 16 07:57:36 2015 -0400

    Check for simple function calls in pointless overrides.

commit 785b53c87a430a4d1a4fb59ffbc18eeaddf242a4
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 2 11:09:57 2015 -0500

    Simplify supported methods in FS.py.
    
    Also, use super-call whenever possible. This doesn't change any behavior,
    it is just a little tidier.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2b6b8f3ea2a818f94c6cae54a2e012622a2b85d1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 2 12:33:08 2015 -0500

    Make hidden property use superclass method where possible.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 13ab3901c0c91e2c76b5d3b63917c49ac7e3c134
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 10 13:20:28 2015 -0400

    Simplify some methods in DeviceFormat class.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f176fb41f0e4ef24dc8af49b355bb9ee187d6c6b
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 10 13:44:48 2015 -0400

    Do supercall in BTRFSVolumeDevice.formatImmutable.
    
    That way we can take into account if the device is protected, even if it
    is non-existant.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 79030e30b7e62013c3a0de2f92496ca79b6cb9b2
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 2 11:47:46 2015 -0500

    Add a comment to supported property.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 306313aa94b0e020a031431e56e473da1bbf1093
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 10 13:59:20 2015 -0400

    Get rid of some very old commented out code.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7e8610874d11b9c45070a8e31d231d8dde6422d5
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Mar 11 16:13:34 2015 -0400

    Put all mock results into the top-level source dir.
    
    This allows us to capture the mock logs in jenkins, among other things.

commit 97dbcf5f0ec7e8b23d122658fb7b8e192691f669
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 10 09:06:35 2015 -0400

    Spell TestCase.teardown correctly as tearDown().
    
    So that it is invoked by test framework and the tmp filesystems are
    actually unmounted and their temporary directories deleted.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 33023d66fa5a883f61c82d8df3c723ce80e4e930
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 10 08:55:05 2015 -0400

    Make testMount() check return value of util.mount().
    
    util.mount() return value is the return code of mount, needed to indicate
    if the mount operation was succesful.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 852d743c126683255e5cb26605d202a9bac2a138
Author: mulhern <amulhern@redhat.com>
Date:   Wed Feb 25 08:22:19 2015 -0500

    Remove unused fs_configs.
    
    It should have been removed in commit
    0b682b09470b5e3aa910f9a903969a0e309e0b64.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3c35f86b40f9656dff1f259cfff52ed2e2ed1e2a
Author: mulhern <amulhern@redhat.com>
Date:   Wed Feb 25 11:24:28 2015 -0500

    Remove side-effects from mountType property.
    
    It sets _mountType to the value of _type if _mountType is not set,
    but _mountType is never used anywhere outside this method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0eebaed92ab985287d427147b23917a976aed59a
Author: mulhern <amulhern@redhat.com>
Date:   Wed Feb 25 10:00:21 2015 -0500

    Do not make the mountpoint directory in fs.FS.mount().
    
    util.mount() makes the directory unless it already exists.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a00555ae31bf81e72785b782891648c9894f59fd
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 10 08:38:57 2015 -0400

    Mount should not be satisfied with anything less than a directory.
    
    isdir implies exists, so it is not necessary to check exists as well.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit da54037dec9a365416a8302689582cd2165feae9
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 26 13:03:43 2015 -0500

    Do not return doFormat() value.
    
    It has no value or its value is always None, depending on your philosophy.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b010f7090b0cfdb1a05d06c32e38111512b477d4
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 9 12:40:19 2015 -0400

    Put previously removed mountExistingSystem() into osinstall.py.
    
    It was incorrectly removed in commit
    65f95ac603853d6362b2c3da498b68ed8b54cd27.
    
    Previous commit added back in a bunch of stuff that had been
    removed in commits:
    6564c5f95dde3018ecf3ff04f3dd69994fe377a6
    576cb575583ae893213735bcbbd302e242ca5027
    b057deebcfdd7986f8feb78d87c456bd7ad76459
    
    The only change from the version that was removed from blivet/__init__.py
    in commit 65f95ac603853d6362b2c3da498b68ed8b54cd27 is that _sysroot
    becomes getSysroot(), like other methods that were moved from
    __init__.py to osintall.py.

commit 4ed01851ade192d430cf2f6a2640a2f83308a0e8
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 9 12:29:09 2015 -0400

    Revert "Revive the mountExistingSystem() function and all it needs"
    
    This reverts commit 5d5e27aad2033135793d6a2dd4967f87e256e30e.
    
    It revives an obsolete version and a deleted exception class, as well
    as implying the existance of some deleted format methods.

commit 2d7dc00df7456980055aba613f02804469ce3d19
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Mar 9 17:20:14 2015 -0700

    Make sure the device is setup before formatting it (#1196397)
    
    Reusing an existing LV wasn't working because it was not setup before
    formatting.
    
    (cherry picked from commit 1834001a731a11ce42186bffc84a54d02d4f1df4)

commit 7cc412fbbd1ea99159d3f001c764dc5515af5fe5
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 9 16:48:43 2015 -0400

    Use %d format string for every value that should be an integer decimal.
    
    Don't convert any of the values to an int. %d will do that conversion.

commit 8bd301e0c8b2a16715824bb65e38170a92c1ea40
Author: mulhern <amulhern@redhat.com>
Date:   Sat Mar 7 09:31:10 2015 -0500

    Robustify PartitionDevice._wipe() method.
    
    Previously, if block size is larger than 1 MiB, nothing gets erased.
    Now, the smallest number of blocks that erases at least 1 MiB is wiped.

commit 21b663856510e68525d1926dbc02add159caff5e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 10 08:13:34 2015 -0400

    Fix up scientific notation _parseSpec() tests.
    
    This should have gone in with previous commit
    afa154b973cbc73927bce5255c9fff5be451ece7.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit afa154b973cbc73927bce5255c9fff5be451ece7
Author: mulhern <amulhern@redhat.com>
Date:   Sat Mar 7 13:07:44 2015 -0500

    Make size._parseSpec a public method.
    
    This will allow it to be used by client code to prepare for a switch
    to new implementation of Size which does not take an arbitrary string
    specification as a constructor argument.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 07c58dbfd31f32f5359c8c43b5b011a98f987ed9
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 3 13:01:29 2015 -0500

    Simplify StorageDevice.disks.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f3a7119f855d5daafdf6f2d150ed06e06080db87
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 3 12:58:29 2015 -0500

    Simplify StorageDevice.growable.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fd00f6543f9d5a97456f27f043b1e34ab6d29f84
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 2 17:59:29 2015 -0500

    Simplify and correct StorageDevice.packages property.
    
    It's an error to check the parent's format's packages in the loop,
    just because it's possible to check self's format's packages.
    
    The for statement was a null op, because all the packages that it considered
    had already been added by the magic of virtual method invocation.
    This would not be the case if any device classes extended Device w/out
    extending StorageDevice...in that case there might have been an
    AttributeError due to a missing format attribuate.
    
    packages is not supposed to have duplicates, so make sure not to add
    duplicates when adding format's packages.
    
    So, StorageDevice.packages might previously have had duplicates, but now
    it should not, as was clearly originally intended.
    
    Update Device.packages so that method docstring is correct and simplify
    body slightly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 09f67ca33582a9e72f9c9114e17eb769f57d229d
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 2 17:39:46 2015 -0500

    Remove services infrastructure from devices and formats.
    
    It was added for bz #615040 so that multipathd could be started
    in the configuration step (after installation).
    
    multipathd.service is "WantedBy" sysinit.target, so it is expected that it
    does not need to be explicitly started by anaconda. services infrastructure
    is not used anywhere else.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cd56287e7c2574e188a8dab6967e9f867aeba867
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 3 14:22:27 2015 -0500

    Split devices tests out into a separate directory.
    
    They were pretty big and diverse, just like devices.py/devices directory.

commit 1b3edd45e2dd758f439565c251ef7a0a9cbb4409
Author: Alexander Lakhin <exclusion@gmail.com>
Date:   Sat Mar 7 13:36:10 2015 +0300

    Fix dd wipe call.
    
    This should have gone in w/ commit 7295abb857b58b04e913493dcb773c22c41e1265.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 80ac1346b25694974a28890f6c4b61bd696c8964
Author: David Shea <dshea@redhat.com>
Date:   Mon Mar 9 12:23:44 2015 -0500

    Add a script to rebase and merge pull requests
    
    This is both a tool for avoiding merge commits and something to point at
    later when we decide that maybe merge commits aren't so bad in github's
    contribution model.
    
    (taken from anaconda commit 64872d807e4c).

commit fff69a822d71cb97f476a6cae8df4ad5bbed95bd
Author: mulhern <amulhern@redhat.com>
Date:   Sat Mar 7 12:57:28 2015 -0500

    Add pylint false positive to list of pylint false positives.
    
    This is another false positive resulting from pylint's inability to find
    GLib in gi.repository.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 040a6614fdcb3cad8e3976b45308a63ec619415c
Author: mulhern <amulhern@redhat.com>
Date:   Sat Mar 7 12:34:01 2015 -0500

    Change all instances of GLib.Error to GLib.GError.
    
    This is the precise error the invoked functions are returning and GError
    is a more precise match than Error in false positives.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cae9eff7ef6c1ca6a2c4bfa90036a162b977f13d
Author: mulhern <amulhern@redhat.com>
Date:   Sat Mar 7 12:42:01 2015 -0500

    Sort pylint-false-positives using sort's default options with LC_ALL=C.
    
    Setting LC_ALL=C should avoid any differences due to different locales.
    
    Sort order seems a bit more sensible for programming.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 65703bfc851f6d919f8e66e1a635ace5835ea6c1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Feb 16 14:09:39 2015 -0500

    Add ability to match scientific notation in strings.
    
    The matching regular expression is expanded to include possible
    scientific notation in numeric part and to exclude numeric parts
    with multiple radices.
    
    Uses named groups instead of indices.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9f04bc978c8afe5d885ca6b1c4f2a0f9af577c9c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Mar 6 17:57:19 2015 -0800

    New version: 1.1

commit a352382e24ff8d3add1ae6c9076ccd12cbf9f7d1
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Mar 5 15:18:00 2015 -0800

    Add scratch, scratch-bumpver and rc-release targets.
    
    Use these make targets for creating scratch rc builds that can be used
    before an official release. rc-release will run scratch-bumpver to bump
    the version and add a rc release with the current date and time to the
    specfile.  scratch is then run to create the tar.gz file and then mock
    is used to build a rc rpm package.
    
    No changes are committed to git, no zanata account is required and
    nothing is pushed to zanata.

commit beaabaf49483c2087520819cc33797f3ae171cb1
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Mar 5 14:44:01 2015 -0800

    Add --newrelease to makebumpver
    
    This is written to the changelog entries and the Release: field in the
    spec file. Defaults to the same release as it currently has.

commit 7208b0bc80cee8fbbdbb649f008523335801d376
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Mar 5 14:22:42 2015 -0800

    Add po-empty make target

commit 5d5e27aad2033135793d6a2dd4967f87e256e30e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 4 17:23:29 2015 +0100

    Revive the mountExistingSystem() function and all it needs
    
    These pieces got lost during multiple rebases from one branch to another.

commit 50f32acafeb86eda16dc7efea3b8cc664e1d1aa8
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Feb 26 14:08:33 2015 -0800

    Switch translations to use Zanata
    
    Use https://fedora.zanata.org/project/view/blivet for translations. Also
    check to make sure zanata-python-client is installed before po-pull

commit f536c7d2bec580c34847d18f0f011de98a8a3e70
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 2 08:26:45 2015 -0500

    Set EFIFS._check to True so that it gets correct fspassno (#1077917)
    
    Resolves: fed#1077917
    
    Previously, it was getting value of 0 in /etc/fstab, now it should get value
    of 2 (unless /).
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a3df85241bde37c8ca443b835bfae579a4b1e981
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Feb 27 16:54:17 2015 +0100

    Use format string and arguments for logging function
    
    This is how it's supposed to be done.

commit 9745e2c10f8052d7da308b47e3872a576988673a
Merge: b73d46ad 10870766
Author: Vratislav Podzimek <vratislav.podzimek@gmail.com>
Date:   Fri Feb 27 16:34:11 2015 +0100

    Merge pull request #28 from vpodzime/master-libblockdev
    
    Port blivet to libblockdev

commit 108707667b24235a0eb7d7ae9f94acbf40ffa608
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Feb 27 14:50:45 2015 +0100

    Do not restrict MDRaidArrayDevice's memberDevices to type int
    
    We may also get long from various places (e.g. libblockdev via GObject
    introspection).
    
    Also improve the confusing error message.

commit 69d82a029d9bed455f3eb3ee6feaadb6914df325
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Feb 27 14:42:15 2015 +0100

    Adapt better to libblockdev's md_examine data
    
    We no longer need the try-except block because what we get is an object that has
    all the fields we expect defined.
    
    Also don't use md_info.name since that's mdadm's MD_NAME (e.g. localhost:pv00)
    not MD_DEVNAME (pv00) and it is thus safer to construct the name from the device
    path.

commit b73d46ad9cd5616ce58ee22c828eb55d6ba433c8
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 15 13:10:40 2015 -0500

    Set TmpFS._resizable to False.
    
    Hack the tests slightly to allow them to continue running.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7344f8b84cd510ac15a05449936b27bc75dcb138
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 14 15:05:38 2015 -0500

    Add an additional test for TmpFS.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 22272861569974ed87cff3d3ba79fe09401e5fed
Author: mulhern <amulhern@redhat.com>
Date:   Fri Feb 20 18:56:08 2015 -0500

    Override NoDevFS.notifyKernel() so that it does nothing.
    
    It should never have to notify the kernel, since it lives w/in kernel space.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit be8ce7afb9aa0bbd77f6382fd4a5d1f236e56398
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 8 13:40:13 2015 -0500

    Add TmpFS._resizefsUnit and use appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 881ee02fc1fe65d37fc02a92a4402baecf196c55
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 5 15:38:37 2015 -0500

    Rewrite TmpFS class definition.
    
    Principle changes are:
    
    * Abstract calculating the format for the size mount option into
    _sizeOption method.
    
    * Substitute FS.mountopts for TmpFS._options instance variable.
    
    * Whether mounting or remounting always use default options if no
    special options set and always use size mount option if required.
    
    * do not set size to what the tmpfs default usually is. When it is
    necessary to get the actual size, TmpFS._getExistingSize() will be used.

commit 8710f5b49f01a16f7a9519015b20e9654d64e188
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 15 08:25:59 2015 -0500

    Add TmpFS._getExistingSize() method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9fdc892275b3e6b256e3ed72c32b8ef01d69f85a
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 15 08:03:27 2015 -0500

    Make _getExistingSize() method more generally useful.
    
    If it gathers data only if self._size is not 0, then it is necessary
    to set self._size to 0 to get it to run, which can prove awkward.
    
    This doesn't change any observable behavior, since self._getExistingSize()
    is always called when self._size is 0 anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 120ce58fbcc294d5e9a23cd51b2ea464b59f0c8f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 14 14:45:38 2015 -0500

    Remove _getExistingSize() methods with body pass.
    
    pass is equivalent to "return None" and we have a long-standing objection
    to assigning None to fields that refer to Size objects.
    
    For both classes, the effect of
    self._size = self._getExistingSize()
    
    is now
    
    self._size = self._size, i.e., a null op
    
    instead of
    
    self._size = None
    
    assuming self._size is some Size before the op.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3f3b1ef66b3310e8185ce8b3e6e4274891e9ee1d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 22 13:16:52 2015 -0500

    Tidy up the definition of the device property throughout formats package.
    
    Remove pointless overrides of device property, _setDevice, _getDevice.
    
    Be consistant using _deviceCheck() throughout.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c7c2be0f2edc47e88d1dcc6169098b8018c8b108
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 20 19:04:58 2015 -0500

    Add a test to check properties of device paths assigned to formats.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ee6d31710fa12eaaee047ef5af47bbd11f9a24a0
Author: mulhern <amulhern@redhat.com>
Date:   Fri Feb 20 16:34:45 2015 -0500

    Set TmpFSDevice object's _formatImmutable attribute to True.
    
    Otherwise, in blivet.Blivet.createDevice(), an action to create the
    device's format will be scheduled. Scheduling the DeviceFormatCreate action
    will raise an exception, since every TmpFS format object is defined to
    always exist.
    
    With this change no exception is raised in DeviceFormatCreate action
    initializer, and the partition with fstype specified as tmpfs in kickstart
    is created during installation with filesystem type tmpfs.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 86b67cdec8c6aea7752baab9a0aeb038ed847f46
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Feb 17 15:51:56 2015 +0100

    Remove no longer needed requires
    
    These tool packages are no longer directly used by blivet, libblockdev hides
    them as direct requires.

commit 650ad45f7b576247b87ba66ea67e78aa8d957438
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Feb 16 16:15:40 2015 +0100

    Filter out pylint's "No name 'GLib' in module 'gi.repository'" messages
    
    These are false positives.

commit f8a3b294bfb95373f85e7e0684d3d458032e67fd
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Feb 16 16:03:23 2015 +0100

    Add a static method providing list of available PE sizes
    
    Physical Extent sizes are related to LVM volume groups thus LVMVolumeGroupDevice
    seems to be the best candidate for such method.

commit 9f3223478c7ee93ad4990ab0a516b976d4dcb034
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Feb 16 15:43:31 2015 +0100

    Use BlockDev's crypto plugin to do LUKS escrow
    
    This way we can get rid of the optional python-volume_key and python-nss
    dependencies.

commit bae5a0ce94b6ac1716f5f8153bceee63aeada369
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Feb 16 15:32:54 2015 +0100

    Use BlockDev's DM plugin to work with DM RAID sets
    
    That's the only remaining functionality we needed from pyblock so we can drop it
    as a dependency, be grateful for it's years of service and put it into
    retirement.

commit f077d2e79c9bbcf4d05f3cd95f7c80bca32aa7dd
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Feb 10 17:33:47 2015 +0100

    Use BlockDev's DM plugin for DM map existence testing
    
    So that we move a step closer to putting pyblock into retirement.

commit c30eeb85fb1e9ee430f85613db2d9889ebf1e27f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Feb 19 09:39:34 2015 +0100

    Remove tests for the removed devicelibs functions
    
    These functions are no longer part of the blivet codebase.

commit 067dba196cc8d05813dd7f781e17c70e632d2f2f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jan 30 21:43:32 2015 +0100

    Set and refresh BlockDev's global LVM config if needed
    
    BlockDev now runs all the lvm utilities for us so we need to set it the global
    config if we want any.

commit 8c996463e0b395db85e3fd612964ad376f38ff09
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jan 30 15:46:24 2015 +0100

    Use BlockDev's LVM plugin instead of devicelibs/lvm.py
    
    Except for a few things BlockDev doesn't provide.

commit 8af8c55d95b52ae310ddf44b10e48d8783e36f84
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jan 30 10:30:31 2015 +0100

    Use BlockDev's BTRFS plugin instead of devicelibs/btrfs.py
    
    Except for the few things that are not provided by BlockDev.

commit 75accb312b14cb543df7c417975c3d2254940988
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 28 13:08:21 2015 +0100

    Use the BlockDev's DM plugin instead of devicelibs/dm.py

commit c42b5640cc731f8f2593469fb2086ade981d6154
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jan 27 16:00:12 2015 +0100

    Use BlockDev's crypto plugin instead of devicelibs/crypto.py

commit a16ff7ca2c0332fb88108231840873aec9c680a4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jan 27 15:39:16 2015 +0100

    Use BlockDev's loop plugin instead of devicelibs/loop.py

commit b4644dffc6ce6ad6cebd7170a04ef694914e8944
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jan 27 09:04:00 2015 +0100

    Use BlockDev's MD plugin instead of devicelibs/mdraid.py
    
    Except for few things that are not provided by the libblockdev library and its
    MD plugin.

commit 098695fade6f2e19bd3b1c3f5e50b192b3bec283
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jan 27 08:22:15 2015 +0100

    Use BlockDev's swap plugin instead of devicelibs/swap.py

commit 3c2d9dde9f235ff87bfe7e76e02506e953b70e05
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jan 26 16:48:12 2015 +0100

    Use BlockDev's mpath plugin instead of devicelibs/mpath.py

commit e0d08fa3952b83c68fe81f5c33dd35cc58a81856
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jan 26 16:44:03 2015 +0100

    First little step towards libblockdev
    
    We need to import and init the library first and give it the logging function
    for utils execution.

commit 65f95ac603853d6362b2c3da498b68ed8b54cd27
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Feb 13 14:44:30 2015 +0100

    Move the Blivet class into its own module
    
    The __init__.py file should not contain such a big class with a lot of code. And
    importing anything from the 'blivet' package shouldn't require importing all the
    things that the 'Blivet' class requires.

commit 8c8406c09ec4904e1686a36bebc0132a5adaa38a
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 3 12:47:48 2015 -0600

    Use a safer method to get a dm partition's disk name.
    
    Resolves: rhbz#1190886
    Related: rhbz#1181336

commit b3f28a2d1fcaeec768917ba6ef1b761423bc01d4
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 17 13:43:33 2015 -0600

    Be more careful about overwriting device.originalFormat. (#1192004)
    
    We don't want to overwrite it if addUdevDevice was called a second time
    for a device we've already added, since that would cause us to lose the
    real original format.

commit 5ab1d54ea2bf82b36ebd48b303a6c106edcf784b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 13 14:34:11 2015 -0600

    New version: 1.0

commit 16a79255bf230f7dc5e8cf29865042b3a7a86ebe
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Feb 11 16:35:51 2015 +0100

    Move autopart and installation-specific code outside of __init__.py
    
    This code belongs to separate modules.

commit 2b8784ae6988a6f88d3712a5448dad2dbd03d94b
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Feb 12 10:19:35 2015 +0100

    Convert _parseUnits to public function
    
    blivet.size.convertTo function now doesn't accept strings (eg. "MiB") as
    parameters. It is necessary to use _parseUnits to convert strings into a named
    constant.

commit 899fd24f857775a4563c125cf2c8327fe9e58149
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Dec 17 14:17:34 2014 +0100

    LVMFactory: raise exception when adding LV to full fixed size VG (#1170660)

commit 20c04469771f830525c1e8db7c481d1073baaa9c
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Feb 2 13:56:11 2015 +0100

    Do not unhide devices with hidden parents (#1158643)

commit 16588ec2aca65da46a73e68dd834241ef6204cc8
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Feb 6 18:02:27 2015 -0800

    New version: 0.76

commit 01395260eb124d0e671433cfe71deb5ee002ff97
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Feb 6 17:56:18 2015 -0800

    Revert "Switch to temporary transifex project"
    
    This reverts commit e9f1392489a8de5f4a3b17fb8c7d6f0b98d35168.
    
    blivet transifex is actually separate from Fedora.

commit 913c73048129fddc11ea5a02e3d77ae7e0728dc8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 30 11:11:28 2015 -0600

    Check parent/container type for thin volumes and normal volumes.

commit 90b56efd86a2ab5510345c140c68293687b76c0d
Author: Adam Williamson <awilliam@redhat.com>
Date:   Thu Jan 22 13:15:29 2015 -0800

    drop useless entries from formatByDefault exceptlist
    
    These will never match, as the 'exceptlist' is only used to
    except devices whose mountpoint starts with one of the
    'formatlist' entries, and / is not in 'formatlist'.

commit 5f47cb116d519a69467f8ab64a150c5c4ba1a675
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Sun Feb 1 19:05:42 2015 +0100

    Fix import of devicelibs.raid in platform.py
    
    The devicelibs subpackage doesn't import the raid module automatically (in its
    __init__.py) so it has to be imported explicitly.

commit b1371f475fe26acff4ff083364b628e36509e329
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jan 28 09:30:45 2015 -0800

    Use %license in python-blivet.spec
    
    https://fedoraproject.org/wiki/Packaging:LicensingGuidelines#License_Text

commit 22148d5b8d864a058a80af869ad76dde579e8217
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 28 18:18:11 2015 +0100

    Fix import of FALLBACK_DEFAULT_PART_SIZE
    
    On master it lives in the devices/partition.py module.

commit 2cf92a769f07fdda85d945a160d023c0425a23f7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 21 10:06:34 2015 +0100

    Make implicit partitions smaller if real requests don't fit anywhere
    
    In case of BTRFS/LVM autopartitioning we schedule one parition on every disk
    used for the installation to be part of the new BTRFS/LVM setup. But in case
    some other partition needs to be allocated (e.g. swap in case of BTRFS) we need
    to fit this partition to some disk together with one of the implicitly scheduled
    ones. In case we find out the implicitly scheduled partitions are too big to
    make this possible we need to make them smaller so that autopartitioning works.
    
    Resolves: rhbz#1171116

commit 3e80d125dd974d5fca88fc27ed73ff4ecd59eaa2
Author: Anne Mulhern <amulhern@redhat.com>
Date:   Mon Jan 26 12:45:23 2015 +0100

    Use list comprehension instead of filter+lambda in makebumpver

commit 1761a775df84e2409e32b69e54ae8a66ee44f53e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 27 10:53:24 2015 -0600

    Revert "Try to deactivate lvm on corrupted gpt disks."
    
    This reverts commit a4fef12b3e5dfa70637798af4ad04074999cb935.
    
    In some scenarios (multiple md pvs?) we can fail to detect the vg
    the first time but succeed shortly thereafter. Also, this patch was
    incomplete in that the devicetree will still try to handle the udev
    entries for the now-deactivated lvs, which causes a traceback.

commit e1cae3a002d48b66a2e8512e33f6eab81899dfa0
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 5 14:32:53 2015 -0500

    Virtualize options property methods in DeviceFormat.options definition.
    
    _setOptions and _getOptions are overridden in a few places.
    Remove any redundant definitions of options property in these places.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4bbd405facb25bf33fab2b14f6390fa73fbe4dea
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 6 12:42:11 2015 -0500

    Do not redefine size property in TmpFS.
    
    The meaning of size is defined in FS.size. The property in TmpFS breaks
    that meaning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ed8e4232896412f050b4e00ca7a6101bb8376c97
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 15 10:49:54 2015 -0500

    Do not set self.exists to True in TmpFS.__init__().
    
    This behavior is implemented in NoDevFS.__init__().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 08c38848e04b96e88a59093034137abcaa5fb1dc
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 14 14:05:54 2015 -0500

    Simplify NoDevFS.type.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9c4b5a478d88bb4b8ab861f71ef613f662de687e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 6 11:45:23 2015 -0500

    Set format's mountpoint if it has the mountpoint attribute.
    
    Checking whether the device is mountable is somewhat expensive. Also, it
    seems like the value of mountable could change. It would be depressing to
    have not set the mountpoint here, but to later encounter the mountable() but
    alas, no mountpoint, situation.
    
    I can not find a location where the existance of a mountpoint is taken
    to indicate that the format is mountable.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3040c2aae45ac7c4b05ad9c447d29650ce7a39ab
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 6 10:18:54 2015 -0500

    Do not bother to set device.format.mountopts.
    
    It will be set via the assignment to device.format.options.
    
    Also, remove enclosing try because options is defined in DeviceFormat.
    
    This should not change observable behavior at all. Previously mountopts
    was sometimes set twice to the same value, now it will just be set once.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 075e3ed3c779573858be4bd05dae3aab49a91085
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 6 10:29:55 2015 -0500

    Tighten up FS.mountable().
    
    Only calculate values if needed and omit redundant startswith check.
    
    Add a comment to clarify middle loop's purpose.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 26d6d0a430c567d6893b7b75b5b4cf0c73b90be0
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 5 13:45:22 2015 -0500

    Simplify FS._getOptions().
    
    Get rid of the XXX as well. clobbering has become traditional.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ea341243a452baf01481fc7c53658a44e5c7eb4d
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 5 14:16:46 2015 -0500

    Simplify setting options variable.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d300c489cceb42ae6437eb81c14ed34a2849f313
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 6 13:07:24 2015 -0500

    Be less eager about processing all lines in /proc/meminfo.
    
    Don't read all the lines in the file and stop on first match of MemTotal.
    
    Previous code assumed that there would be at least one match and that
    doesn't seem to have failed ever, so my code assumes the same.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1aaffd4cc20ba1ada1828d0242fd52f12a02e36f
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 15 10:01:02 2015 -0500

    Make error message more useful.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a054c294307fb6bea9a8ea34baf1c47d275f35af
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 6 14:36:27 2015 -0500

    Add a tiny test for TmpFS.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8d2ef8ac021c8a52aeeda3f742d484fd212b1379
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 23 11:20:11 2015 -0600

    More fixes for alignment-related partition allocation failures.
    
    Commit dcfd06a7cdb7b9 caused an UnboundLocalError, which this fixes.
    
    Also, handle alignment-related failures when no growable requests are
    being allocated.
    
    Related: rhbz#1167292

commit 9d0165e5a6b96d4bd6c608d85837ab3ca6bdbf38
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jan 22 12:00:01 2015 +0100

    Do not mix stdout and stderr when running utilities unless requested
    
    We only gather data from stdout and stderr contents may confuse our parsing
    code. However, we may still be interested in the stderr so log it and allow
    caller code to specify that stderr should go to stdout.
    
    Signed-off-by: Vratislav Podzimek <vpodzime@redhat.com>

commit 9b30abfcd228189bb965a67ad271768a55dc3ea3
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 21 11:46:30 2015 +0100

    Define the _device, _label and _options attributes in constructor
    
    That's how good guys do it.

commit c1948d32900052cb88da979e75e2a47a4ddc0586
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 21 14:09:29 2015 +0100

    Get rid of the has_lvm function
    
    It's only used in the tests and since blivet requires lvm tools to be installed
    I doubt any (user) code uses it.

commit 42ce2c93448442b97fc1642d59088a36bf2fa6ab
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 21 11:47:52 2015 +0100

    Do not create lambda over and over in a cycle
    
    Let's just define and create it once and use it over and over.

commit 802b281516f08cc5222979755e7138c5e7056551
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 21 11:45:22 2015 +0100

    Disable pylint check for cached LVM data in more places
    
    We disable the check few lines below so we should do the same in this place.

commit 31803a99fcbf38e81cfb769a558bad29fe9e5758
Author: Robert Marshall <rmarshall@redhat.com>
Date:   Thu Jan 22 11:22:30 2015 -0500

    Fix issue where too many mpath luns crashes installer (#1181336)
    
    The installer would crash if a system had a large number of LUN paths
    and one of those paths ended with 'p'. Partnered with David Lehman and
    he was able to come up with a solution.
    
    Resolves: rhbz#1181336
    
    Signed-off-by: Robert Marshall <rmarshall@redhat.com>

commit c575c841974d4f651a7c812cd1ed0d7fbb0d543e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 15 16:42:23 2015 -0600

    Allow user-specified values for data alignment of new lvm pvs. (#1178705)

commit 615de2b8b4b85b5e9d6df2ae6ef1bca5d6c4e1a1
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 15 16:36:14 2015 -0600

    Let LVM determine alignment for PV data areas. (#962961)

commit 0e1b6446c01f2acbf329e8859b8437c6206183f4
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 4 14:35:43 2014 -0600

    Raise UnusableConfigurationError when unusable configuration is detected.
    
    The two cases included initially are a corrupt gpt disklabel and
    multiple lvm volume groups with the same name.
    
    Blivet cannot proceed in the corrupt gpt case because pyparted doesn't
    support instantiating a parted.Disk if the underlying gpt disklabel is
    corrupt.
    
    The lvm case has several issues, the most basic being that lvm is not
    designed to handle multiple volume groups with the same name. A user
    would have to rename one of the same-named vgs manually in order to
    make it possible to use both vgs.
    
    Resolves: rhbz#1123450

commit f0ee1ccc5224cb5193c3034696f303e1ee190979
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 29 15:36:07 2014 -0500

    Don't raise an exception for failure to scan an ignored disk.
    
    The disk will be ignored anyway, so it should not matter if there are
    active devices on it since we won't be trying to write to it.
    
    Related: rhbz#1123450

commit a4fef12b3e5dfa70637798af4ad04074999cb935
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 29 15:30:03 2014 -0500

    Try to deactivate lvm on corrupted gpt disks.
    
    Since pyparted won't let us use the corrupt gpt disklabel we can't
    treat the disk as partitioned, which prevents us from correctly detecting
    the lvm on top of it. By deactivating the lvm when this situation arises,
    we at least make it possible to clear the disk and do a fresh installation
    on it.
    
    Related: rhbz#1123450

commit 686452b71e7e2b264edcf1532d39465c6fd88d2d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jan 19 15:49:23 2015 +0100

    Remove an unused and outdated constant
    
    LVM2 doesn't limit the number of LVs in any way and this constant isn't used
    anywhere in our code so just let's get rid of it.

commit c093367586a6dcaaeb76eb26d7e818cc89ec0585
Author: David Shea <dshea@redhat.com>
Date:   Fri Jan 16 13:35:26 2015 -0500

    Relax the blivet device name requirements (#1183061)
    
    Allow ., .., and /'s in all kinds of btrfs device.

commit 6ab7dfa35e6b6009e830a3119e94993a9788e77c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 16 17:12:04 2015 -0800

    New version: 0.75

commit e9f1392489a8de5f4a3b17fb8c7d6f0b98d35168
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 16 09:01:32 2015 -0800

    Switch to temporary transifex project

commit ea67c97bfe7287306e08bd02a9c58f93657fb026
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jan 14 16:52:39 2015 -0800

    Add docstrings to the methods in loop.py

commit a554379b7ff9803a8d4b7e4e89aaf22a69d94c10
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jan 14 10:09:10 2015 -0800

    get_loop_name should return an empty name if it isn't found (#980510)
    
    Callers expect a name or "" not an error.
    
    Related: rhbz#980510

commit 961d74f320507ad436aca5184175736902207434
Author: Pat Riehecky <riehecky@fnal.gov>
Date:   Fri Dec 19 14:49:03 2014 -0600

    Use dict() instead of dict comprehension.
    
    dict() is compatible with Python 2.6 through 3.3.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a3fe28590da7c2d8f6544e67a75e19ed162d5c58
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 12 17:09:36 2015 -0500

    Fix the pylint errors in the examples directory.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 82ca002ba23de71ef27557533f5c31e9e2137387
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 12 17:08:32 2015 -0500

    Add __init__ file to examples directory.
    
    This enables it to be pylinted.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b5a6090f39cd3a8b517789d6cfd60e4edf325a69
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 9 17:07:55 2015 -0800

    New version: 0.74

commit e39e5a5415438c615c82fbe7c7957d78b3e4bc10
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 09:08:20 2014 -0500

    Use _resizefsUnit in resizeArgs() method implementations.
    
    The reason it is used elsewhere, i.e., when calculating minimum size
    is because of the constraint on the resizeArgs() method to use the
    units defined by _resizefsUnit. This patch makes that explicit.
    
    The appropriate format string for the size specification for the particular
    resizing application and resizefsUnit combination is looked up dynamically
    during execution of resizeArgs(). Ideally, it would be calculated when
    the class is read, rather than at every invocation. However, due to the
    fact that the format string is a function of the class's resizefsUnit
    that is tricky. The only principled way to do it is to construct the class
    dynamically, passing the resizefsUnit value as an argument. This is
    definite overkill for this particular problem, so it seems better to
    accept this slightly wasteful dynamic calculation.
    
    There is no try/except KeyError block surrounding the FMT calculations.
    Since the key is known statically and does not change between one invocation
    and the next, this would be overkill.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dc83f1757e46defe1afaadf28dca7d0c551374c4
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 09:04:36 2014 -0500

    Do not supply a default implementation for the resizeArgs() method.
    
    The different resize utilities require different args and sometimes
    different units specifications as well.
    
    Be explicit that it needs to be overridden.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6eb51149c08dd8445184a8f163f53d21c9ad148d
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 08:25:10 2014 -0500

    Use convertTo in humanReadable().
    
    It's equivalent and the value that is desired.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f519a8eff823d33889f03baaf6226cf1031ecfdb
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 22 15:12:53 2014 -0500

    Change convertTo() and roundToNearest() so each takes a units specifier.
    
    It's a lot nicer to pass them a named constant that they can use directly,
    rather than a spec, which must be parsed as if it was entered by a user.
    
    If there is ever a situation where the target of the conversion is user
    specified, there is always _parseUnit() for converting a string to a unit.
    
    Get rid of xlate parameter on convertTo(), it's pointless if the spec is
    no longer being passed.
    
    Change calling code appropriately.
    
    This change requires a corresponding change in anaconda as convertTo() is
    called there in two places.
    
    The gains are clarity, simplicity, and efficiency.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6ac7fbab3ac7572ba7b299bcb8e9a54057c85bf5
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 22 12:19:14 2014 -0500

    Do not even pretend that ReiserFS is resizable.
    
    To a resize request it will timidly respond:
    
    resize_reiserfs 3.6.24
    
    You are running BETA version of reiserfs shrinker.
    This version is only for testing or VERY CAREFUL use.
    Backup of you data is recommended.
    
    Do you want to continue? [y/N]:
    
    In man page, there is described a flag:
    
    -f     Force, do not perform checks.
    
    but no amount of -f'ing will persuade resize_reiserfs to just do it.
    
    This is true not just in the currently distributed f20 version (3.6.21),
    but also in the most recent version, 3.6.24.
    
    ReiserFS is fairly moribund, I don't think this state of affairs is likely
    to change.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2d47c7f2beab3ba8ebf31b5aa4dd15a63c7d1db3
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 07:55:51 2014 -0500

    Get whole unit tuple in loop when searching for correct units.
    
    Some parts of the tuple are not used. This way, it is unnecessary to name
    them and then ignore them.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit eaee25e0a447acca8c5f235cf07c880a3605105c
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 07:38:43 2014 -0500

    Make _parseUnits() return a unit constant, rather than a number.
    
    Update client code appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d9aee1f26bbbeda58ed36ad579fc99c0452e21aa
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 11:57:18 2014 -0500

    Add unitStr() method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1a0026bb6d976a2707054b8357c6afd63330e137
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 07:17:34 2014 -0500

    Make _Prefix entries named constants.
    
    They can be useful as arguments for methods.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0ebac7d8ff27e456285e2d4e45b6eebb7b2cf334
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 07:51:38 2014 -0500

    Hoist _BINARY_FACTOR * min_value calculation out of loop.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5b542bc83b8d46494c48bfd0439b02d14a07ed3d
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 22 15:47:46 2014 -0500

    Comment _prefixTestHelper() and eliminate some redundancies.
    
    The checks for prefix, abbr are unnecessary, since _makeSpec will do the
    correct thing if either is the empty string.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit faf01506af2068747070433a73512038ed8cf98a
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 22 15:36:15 2014 -0500

    Eliminate redundant test.
    
    The test is done in the loop below, it does not need to be run twice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d2c48720e4edc81c0f71bfcc96a5ac4074a3c377
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 10:30:52 2014 -0500

    Avoid using Size constant in FileDevice._create().
    
    It makes the code a little bit awkward and busy and the name MiB
    will conflict with some size constants defined in subsequent patch.
    Also, hoist computation of big chunk of \0s above loop.
    
    New code is an order of magnitude more efficient, which is a bonus.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 11fe96e8be495fe7269d4cd2cca1702cb71b6cce
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 13:29:33 2014 -0500

    Do not compare the same two values twice.
    
    If x and y are Sizes, not (x < y) implies x >= y.
    
    Write out the formula the if-statement implements in a comment, in case
    readers of the code do not understand the semantics of elif or Size().
    
    Remove a few unnecessary constant definitions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 986c0fb2b5a24645818d3f41954c7b5ed2e92ac5
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 23 14:47:07 2014 -0500

    Make possiblePhysicalExtents() a bit more direct.
    
    Remove corresponding tests because now it just duplicates the code
    except where it uses xrange (which is missing from Python3).
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6aba3438844068b76e72690e8cda2bf7f74a8c06
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 22 15:32:08 2014 -0500

    Get rid of unnecessary use of long.
    
    Python 2.7 will do all the necessary conversion to long if required.
    Get rid of Python 3 compatibility stuff as well.
    
    This is the last of explicit use of long in blivet.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 39bbea13f22c6137625d55cd4902f09be6dc032c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 17 15:24:34 2014 -0600

    Use _netdev mount option as needed. (#1166509)
    
    The intention is to pass the option as needed when mounting filesystems
    in addition to putting it in /etc/fstab.

commit dcfd06a7cdb7b9b2884664435fd775b20b11ccda
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 17 14:25:52 2014 -0600

    Don't crash when a free region is too small for an aligned partition.
    
    Resolves: rhbz#1167292

commit d63c967affc5a6b88c355d6b24089d68080f02e2
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jan 6 10:20:15 2015 -0800

    Multiple loops shouldn't be fatal (#980510)
    
    Backing files can have multiple loops associated with them without
    problems. Raising an error here causes a crash when using an iso for
    both stage2 and for the repo (eg. boot with
    inst.repo=hd:/dev/sdb1:/path-to-dvd.iso).
    
    Instead just use the first loop device in the list as the name.
    
    Resolves: rhbz#980510

commit ddb2e1756600d918df9df10384deb3364a9bbc3b
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 11 16:29:32 2014 -0500

    If allowing degraded array, attempt to start it (#1090009)
    
    If we can't get the name for the array, that's probably because the
    array is in a state such that udevadm doesn't have the info. Try to
    run the array and get the info again.
    
    Resolves: rhbz#1090009
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bfb93d682e7270fdf73b5fd8b3c80c9ea699d3f2
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 11 16:14:13 2014 -0500

    Add a method that looks at DEVNAME (#1090009)
    
    Related: rhbz#1090009
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 56c623ce96a849c62e4cbab1f2dfa6ff62324424
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 11 15:28:48 2014 -0500

    Add mdrun method to just start, not assemble, an array. (#1090009)
    
    Related: rhbz#1090009
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0eb434ba53d5c122205e56f7bad322780c3b65f8
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 3 13:27:52 2014 -0500

    Change allow_degraded_mdraid flag to allow_imperfect_devices (#1090009)
    
    Related: rhbz#1090009
    
    The only change is a name change. The plan is to use this flag for situations
    where it is better to use the imperfect device then to deactivate or remove it
    or otherwise get it out of sight.
    
    Generally, when installing, imperfect devices are best avoided, because
    you don't really want to install onto them. But when in installer rescue
    mode and many other situations, it is better to expose an imperfect but
    still usable device.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b057deebcfdd7986f8feb78d87c456bd7ad76459
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 17 09:02:08 2014 -0500

    Remove needsFSCheck() and what only it depends on.
    
    If needsFSCheck() is no longer invoked via mountExistingSystem() it is no
    longer invoked anywhere. It is a bit of a dubious method because it depends
    on values of self.dirty and self.errors which are set as a side-effect of
    calling Ext2FS._getMinSize(). For the value of needsFSCheck() to
    be meaningful, therefore, _getMinSize() must have been called and it must
    have been called recently enough that the dirty and errors information is
    not stale. It would be better to eliminate code which has an implicit
    dependency on this timing behavior when it appears that the method and
    supporting code has become unnecessary, anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 576cb575583ae893213735bcbbd302e242ca5027
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 17 08:45:44 2014 -0500

    Remove allowDirty parameter and code that depends on it.
    
    If allowDirty is False then it is necessary to calculate the list of
    dirty devices.
    
    But, in the only place (in anaconda) where this method is invoked,
    allowDirty is set to True.
    
    Previously in anaconda, there were other places where mountExistingSystem()
    was called, and sometimes allowDirty was False. But the last place this
    occurred was in pyanaconda/upgrade.py, which was removed in commit
    faea8ba2cf225974041c77dbe3977aebac91e880 (2012 Aug). I think that
    means that now we can treat that parameter as if it is always True.
    
    This patch requires a corresponding patch in anaconda (to remove use of
    allowDirty parameter).
    
    There is a tricky bit in the middle of the method where device.setup() is
    called. I believe that this can be dropped from the main path of
    mountExistingSystem() because setup() is called again in
    FSSet.mountFilesystems().
    
    Since this is the only place in which DirtyFSError is raised, remove that
    definition as well.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6564c5f95dde3018ecf3ff04f3dd69994fe377a6
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 17 08:47:48 2014 -0500

    Eliminate dirtyCB parameter from mountExistingSystem() params.
    
    It was introduced in anaconda commit
    fa872e7e35d88008c5f9c83998d530cdd2738be8 (2012 Feb)
    with the intention of using it in the method invocation in anaconda.
    The invocation has been updated multiple times, but the CBs have
    never been added and the TODO has gone away.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 055c4d0354f0274e6e85787d18e71bdf24aac661
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 16 08:58:42 2014 -0500

    Use correct package for FSError.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c4a88d61d07d4386f18f641175a50881e29b4130
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Dec 19 15:57:23 2014 -0800

    New version: 0.73

commit 6ae51b098146ee1fb9ce337b74f25dadbcb8479a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Nov 18 17:40:46 2014 +0100

    Mountpoint detection for removable devices
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 34d7af8150fd996ffc345adc6fa953800f60f510
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Nov 24 19:05:26 2014 +0100

    Fix adding partition after ActionDestroyDevice canceling
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 178c933748692bfae1134e5db4ade014affabf04
Author: Alexander Lakhin <exclusion@gmail.com>
Date:   Fri Nov 28 14:12:10 2014 +0300

    Avoid exception when aligned start and end are crossed over

commit 52bc74aefb5db0ebb2fc4cf5f627ae827749022f
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 11 09:00:24 2014 -0500

    Substitute simple value for single element array.
    
    When you encounter an array, you kind of assume that there is some situation
    under which it could contain other than exactly one value. If there is
    no such situation, as is the case here, might as well not make it an
    array. So, use format_designator instead of args.
    
    Also, use format_designator in the error message. The error message is
    about failure to look up a proper format, and it seems more reasonable
    to include the format type with which the format was actually looked up,
    which differs slightly from format_type.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3afd2546dbbf80bba387767f398ebff5670ed72c
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 5 17:48:05 2014 -0500

    Change _matchNames so that it is less restrictive
    
    Also, omit transient parameter, it's not clear that it really helps much.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ea0cfad52f86dc589d7e83656e97fa2c1a750fad
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 12 12:49:33 2014 -0500

    Change MDRaidArrayDevice to MDBiosRaidArrayDevice.
    
    To conform with newly established MDRaidArrayDevice sub-hierarchy.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fac6db8bae6d81b80b8f8356b07a6aaece5ffe06
Author: mulhern <amulhern@redhat.com>
Date:   Tue Oct 14 14:37:07 2014 -0400

    Factor out MDRaidArrayDevice w/ type in ("mdcontainer", "mdbiosraidarray")
    
    This patch factors out functionality associated w/ type
    "mdcontainer" or "mdbiosraidarray" into separate subclasses.
    
    It is also able to revert commit c197d2d39104cdef234daecf5c44098bc345b506
    entirely, since the refactoring into MDBiosRaidArrayDevice w/
    formatClassName None, handles all that functionality.
    
    Leave some checks in MDRaidArrayDevice.__init__ to prevent using this class
    instead of its subclass.
    
    I tried to make the transformation as semantics preserving as possible.
    It is kind of nice that the only changes needed to be made to
    devices tests were to change the names of constructors.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0356ae0af451c749f57c6b4fe523115c073daf44
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 5 11:00:18 2014 -0500

    Make it possible for NTFS to recognize the label it reads.
    
    The regular expression was incorrect because NTFS really wasn't being
    tested, because no NTFS filesystem could be created.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c6923453542078cb9b2ed085b1c80017484f3ce8
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 5 10:59:03 2014 -0500

    Make unnecessarily verbose properties into simple class attributes.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e70734234d90c8a7275caafd0f8b9cc164922b94
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 5 10:53:54 2014 -0500

    Change the generic badly formatted label to one that's bad for all.
    
    At least for all filesystems that are tested with this infrastructure.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3b50bf259ab8e1ce98969cf15e672459bbef5e18
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 5 10:43:59 2014 -0500

    Don't make overridden values actual properties.
    
    When extending an abstract class which defines an abstract property it
    is not necessary to make the overriding values properties, it's fine
    just to make them regular class attributes. The abstract class checking
    mechanism accepts these, and will have an error if they are not defined
    at all.
    
    The imaginary requirement to make them properties is something that seems
    to follow naturally if you're thinking of a statically checked language.
    
    It didn't cause any harm to make these fields properties, it was just
    annoyingly verbose.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0ac8620b3eabcfbef0332a285c71cb5386d08559
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 8 13:48:31 2014 -0500

    Check the status of the format being mounted.
    
    Previous code checked the status of the format attribute. It seems
    to make more sense to wait and check the status of the format selected
    to be actually mounted, which may be the originalFormat attribute.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9a460a1ee33e1a0d3c7c4ab081caf8e03b35bb6b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Dec 4 17:34:14 2014 -0800

    New version: 0.72

commit 200e9c433115ab13b1bbb02c7c4ab3771d5c4f84
Author: mulhern <amulhern@redhat.com>
Date:   Mon Nov 24 14:58:45 2014 -0500

    Add a bunch of simple tests for filesystem formats.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4d5f26aa2d4bf11f077e78a0a4dbd91ef5461248
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 25 13:33:53 2014 -0500

    Get rid of long() related code.
    
    In Python 2.7 int() will return a long if the value is too long to be
    represented by an int. No need to cast to long explicitly, and so no need
    for long() related Python 3 compatibility stuff either.
    Also, ints are pretty long, long enough to represent 1024**6 without any
    trouble.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fbf754221adf9a78a4085fa87b0820058d446e06
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 25 13:19:37 2014 -0500

    Add another check for resizable in FS.doResize()
    
    It can change in the middle of the method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5989c976934c46f4d84b2b1370595a7955902906
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 25 09:30:41 2014 -0500

    Simplify FS.free().
    
    The 'exists' check is not necessary because currentSize itself checks 'exists'.
    We believe that minSize will always be a Size during execution, so there's
    no reason to make sure that it is with a guard.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 170c03714ddb522c345ce4af22ad99c1df3142e8
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 25 08:59:20 2014 -0500

    Make an early exit if self._existingSizeFields is []
    
    If so, there is no way to obtain size information and the value used
    for other variants of that situation is 0, so return 0.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 059436191d2bec778b7c8a2bc6ba1df68dfb3c40
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 25 08:23:12 2014 -0500

    Change "Aggregate block size:" to "Physical block size:" for JFS.
    
    Previous tags gave a size of 700+ MiB on a 100 MiB device which seemed wrong.
    New tag choice yields 98 MiB which seems correct for that size device.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5dccc33016d3090522120008a8bcc8c5ff8cb48f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 25 08:18:41 2014 -0500

    Split output from infofs program for size on whitespace.
    
    Splitting on ' ' only is not good enough for jfs_tune.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9b10789ca7813bd1798867cf9f220ce094f39329
Author: mulhern <amulhern@redhat.com>
Date:   Fri Nov 21 17:22:20 2014 -0500

    Simplify _getSize() and currentSize().
    
    In _getSize():
    Remove pointless boolean expression. Only returning self.targetSize if it
    does not equal self._size is kind of pointless, because if they are equal
    then it is just as good to return the value of one as the other.
    
    Make currentSize() look more like _getSize() so they're easier to compare.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 440568b8cfe641d1cd1dafd7c4ea848e4480843c
Author: mulhern <amulhern@redhat.com>
Date:   Fri Nov 21 14:30:29 2014 -0500

    Check resizable when assigning a new target size.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d48331b194041a64f12f9aeeb50bf77baefc351f
Author: mulhern <amulhern@redhat.com>
Date:   Fri Nov 21 13:42:50 2014 -0500

    Make default exists value a boolean in DeviceFormat.__init__.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a9f57bbc7001c38b5649020d5e96858c9016970b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 19 09:56:53 2014 -0500

    Remove pointless overrides.
    
    They are pointless if they give the same value to the attribute that
    the assignment that they override does.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 377ac806c6565809dd2a289a1aae8e465ea6c20c
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 19 09:35:03 2014 -0500

    Add a simple pylint checker for pointless overrides.
    
    Invoke it when running pylint.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 95cbfcb06962c1f35e61a2508825f4ddf850e35d
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Nov 25 11:47:02 2014 -0800

    Run dosfsck in non-interactive mode (#1167959)
    
    Also skip running updateSizeInfo in FS.__init__ if there is no resize
    program available for the format.

commit ac9609f67a2ec719339cb8a239bbaea8e881c6de
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Nov 21 17:25:20 2014 -0800

    New version: 0.71

commit 9907ddc232bcd2ada8538151db95e7e26d9633b9
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 18 17:52:25 2014 -0500

    Remove redundant import.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1505b6d4f9a93a934aabb59726e5fa533d4a8fa3
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 18 13:44:10 2014 -0500

    Change inclusion to equality.
    
    The expression on the right of the 'in' was being interpreted as a str
    with some pointless parens around it so 'in' meant 'is a substring of'.
    Remove the parens and change in to == to get the desired semantics.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 008e1f58426a634e883095fc5053834fd8768b32
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 12 12:57:59 2014 -0600

    Round filesystem target size to whole resize tool units. (#1163410)
    
    Add a check in case the rounding changes the direction of resize.

commit 8d9cbb78122e4a2a223a5e6a3f7239715ddb498a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 12 12:30:46 2014 -0600

    New method to round a Size to a whole number of a specified unit.

commit f62466ac5798d622ddf852d79c819d3b4f4c5db5
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 12 09:02:31 2014 -0600

    Fix units for fs min size padding.

commit e2e854fbe89790452ddf07e87bbc07908932fc8f
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 11 10:50:42 2014 -0600

    Disable resize operations on filesystems whose current size is unknown.
    
    It is not safe to attempt to resize without knowing the current size
    or to attempt to shrink without knowing the true minimum size.
    
    Related: rhbz#1162215

commit 8b7d3ba3723a5cc88c56b6a848aae19f7f6a8b63
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 11 10:37:37 2014 -0600

    Run fsck before obtaining minimum filesystem size. (#1162215)
    
    resize2fs -P now requires an e2fsck -f first. The lack of a real minimum
    size left us with no useful minInstanceSize and allowed users to attempt
    a shrink down to any size, which led to failures.
    
    If we have a currentSize, set the default minInstanceSize to that so
    that a failure to obtain a true minInstanceSize from the fs tools
    precludes shrinking the filesystem.

commit 9fef3b28dbd3097fbf8eb098a80ef213454b9bf3
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 14 13:33:54 2014 -0600

    Fix setupDiskImages when the devices are already in the tree.

commit 7092174fa25aa6665457974f0302df1317bd8efb
Author: mulhern <amulhern@redhat.com>
Date:   Thu Nov 13 10:00:50 2014 -0500

    Make logging a little less verbose and more useful in FS.mount()
    
    Only log if there's a problem and make it clear what the problem is.
    
    Previously logging was informational and could be deceptive,
    in the first case claiming that the root SELinux context is set to None
    (which never happens),
    and in the second case asserting success even when failure had occurred.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a4a635dbb6a8d9c5632cfce04db166e16f5db954
Author: mulhern <amulhern@redhat.com>
Date:   Thu Nov 13 09:47:01 2014 -0500

    Make selinux test less precise.
    
    Previously they tested the exact value of the root_selinux_context.
    However, when mounting and no default context available, the context
    would not be set to the default value. So, the actual value of the
    context is dependent on selinux's rules for the default context for that
    root. It seems to have changed the rules for the default context for
    directories in /tmp, now seeming to have no default context for those.
    
    The real purpose of this test it to make sure that the lost+found directory
    gets the correct context, when it exists. Those parts of the test are
    doing just fine.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5da4ccb3c7766ab8a1087ad39a6375bcedfd45bc
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Nov 13 19:07:00 2014 +0100

    Do not translate empty strings, gettext translates them into system information

commit c31358ad0f9884527c8593bbaf0e73668e92f113
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 6 12:34:00 2014 -0600

    Add a tearDown method to StorageTestCase.

commit 6aa82e5efa52d6bca964fb8bfed692652f512599
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 12 17:53:49 2014 -0500

    Remove pointless assignment to _formattable in Iso9660FS.
    
    Let it inherit the assignment from DeviceFormat, like all the other
    filesystems that are not formattable.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5f1e94a042f70adf1ed572592a10dec5bf4fe484
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 12 13:10:32 2014 -0500

    Remove BTRFS._resizeArgs()
    
    Without a corresponding _resizefs it has no point in existing.
    Resizing btrfs will probably requires "btrfs filesystem resize ..." command,
    which doesn't expect those arguments.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ea86ac4f7885e693cf758aeae56062cbe0ba573f
Author: David Shea <dshea@redhat.com>
Date:   Wed Nov 12 16:13:50 2014 -0500

    Add more arguments to mpathconf (#1154347)
    
    Setting find_multipaths to yes will keep multipath from creating a
    multipath device unless one of the following conditions is met:
    
      - two non-blacklisted paths have the same wwid
      - a path has the same wwid as a previously created multipath device
      - the user forced the creation of a device
    
    In other words, only create a multipath device if there is a device with
    multiple paths. This would be helpful.

commit 4c4e6cd032dfcfc38b712e699c5d53a6f43ee95a
Author: mulhern <amulhern@redhat.com>
Date:   Thu Sep 18 08:44:15 2014 -0400

    Check the minimum member size for BtrfsVolumeDevices.
    
    Update some devices tests to be more realistic by only having member devices
    sufficiently large.
    
    Also make failing test that relied on literal constant value that was
    supposed to be minimum member size pass again and add a few tests to
    bracket the minimum member size in case it changes again.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1e5e3731135b401be0d453035b53939b6c6febcf
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 11 11:52:05 2014 -0500

    Get rid of FS._getRandomUUID() method.
    
    The method was introduced in anaconda commit
    bd1123738d8a6ea671f472c663ed8e1c882f93a7 in 2011 Jan, but was not used in
    that commit in anaconda or blivet and hasn't beeen used since.
    It accompanied writeRandomUUID, which was removed in a previous commit.
    
    If we really needed a random uuid method it should go in utils, but we do
    not.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f5ae36b8fbc8e946127914eb223362b62bdf2617
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 11 11:31:10 2014 -0500

    Eliminate TmpFS.minSize()
    
    TmpFS inherits both _minSize and _minInstanceSize from FS, where they are
    both 0. TmpFS has no method to update _minInstanceSize, so _minInstanceSize
    will always remain 0. Therefore, it would make sense for minSize() method
    to just return the value of _minSize, indicating the the minimum size
    for this filesystem is based just on its type, not on any information about
    the particular instance. However, this is exactly what
    DeviceFormat.minSize() which TmpFS would inherit if it didn't override,
    does, so might as well just get rid of the overriding method, and let it
    inherit.
    
    This is a bit problematic, since 0 is used to mean unknown, but here means
    0. It is possible that a method to obtain the minimum size of an existing
    TmpFS instance should be written, but in the meantime, this change
    makes the situation more obvious than it was previously.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2f28744beb01415c650ed5b5f7ca0a1d9f40461e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 11 14:46:48 2014 -0600

    Don't run selinux context tests when selinux is disabled.

commit ab2a30cc487ed58459510a8ce3e15227f667d553
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 11 14:45:52 2014 -0600

    Temporarily disable a test that isn't working.
    
    Related: rhbz#1162823

commit 32312c5f1667bd1d5d3395c7d75fb13cd61e1ec6
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 11 14:43:34 2014 -0600

    Pass a path (not a name) to devicePathToName.
    
    Also, we were unfairly asking parted to make guesses about
    getDeviceNodeName for arbitrary files outside of /dev.

commit fcc91f0746645c33536b1a35b45d5d881e5e3b47
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 11 14:41:57 2014 -0600

    devicePathToName should default to returning a basename.
    
    This is specifically for the case of DiskFile, which has an
    arbitrary file path, but it looks like the entire method could be
    replaced with the basename call.

commit 1ea4ef25b248e29979fb5d0b01805aacba35b91c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 11 12:09:50 2014 -0600

    Fix test that guards forcible removal of dm partition nodes.
    
    Since the superclass _postDestroy method sets self.exists to False, and
    self.status can only be True for devices that exist, we cannot rely on
    self.status to see if the device node remains.

commit e7b45e635b8850de55c4e20085f1bd5dae8b4341
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 5 10:30:08 2014 -0600

    Device status can never be True for non-existent devices. (#1156058)

commit 274e91e1966cbe74f64743e028d8088f712c8ae0
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 5 10:21:40 2014 -0600

    Use super to get much-needed MRO magic in constructor. (#1158968)
    
    super does some magic along the lines of running superclass constructors
    breadth-first, which is necessary for container devices that inherit first
    from a non-container class.

commit 71246a5df977ae3ed5ac8d530142e71a00996e59
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Nov 6 17:17:37 2014 -0800

    New version: 0.70

commit 599833b5f43594c81bf8b898b34bbce31a2a561c
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 30 11:55:20 2014 -0400

    Add a method that determines whether a number is an exact power of 2.
    
    Taking the log to determine whether a number is an exact power of 2 does
    not always work, because log computes w/ floats, somehow. It usually works,
    because base 2 works well w/ binary floating point representation.
    
    Decimal does not actually have a log function. You can use change of base
    to get log base 2, but you do not get an exact result.
    
    Use method in is_valid_pool_chunk_size().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7295abb857b58b04e913493dcb773c22c41e1265
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 30 13:46:48 2014 -0400

    Put size values in Size universe eagerly.
    
    Make everything that should be a Size a Size as soon as it is created,
    for clarity, consistency, correctness.
    
    * Clarity --- it's a way for the programmer to state, yes, I believe this is
    a Size and I'm pretty confident about its units.
    * Consistency --- a lot of methods say they return a Size, but many return a
    Size or an int, depending on the path taken through the method. Better to
    make these methods actually return a Size always.
    * Correctness --- type correctness and logical correctness. The more we
    ensure that we have the right type, the less likely we are to get an
    AttributeError invoking convertTo() or humanReadable() on an int or a
    Decimal. When we use Size we are required to specify the units, at least
    implicitly, so we can better avoid intepreting a bare number as, for example,
    1/1024th of its intended value.
    
    Other changes in this patch:
    * For the first argument of sum(), use a generator, not a list.
    * Use // for division when a whole number is required, but generally cast
    the result to an int anyway, to match expected Python type.
    * Where a tuple made more sense than a list, and the code was being touched
    anyway, change to a tuple.
    
    This patch can not be guaranteed to be complete. These instance of values
    that should be Sizes() were found by grepping and by instrumenting Size
    to raise an error if it detected a computation with an incorrect type.
    There are probably some more lurking.
    
    Note: Currently blivet only has two types of units to compute with,
    numbers (which could represent anything), and Sizes() which represent
    numbers of bytes. This patch turns numbers into Sizes as much as possible.
    At the present time, Size is implemented as a subclass of decimal.Decimal.
    It overloads a few of the operations of Decimal, typically returning a Size
    result. Sometimes this is the correct thing to do, and sometimes not.
    
    For example, a number times a Size evaluates to a Size and a Size divided
    by a number is a Size, which are both correct results with correct units.
    
    However, it is wrong for a Size divided by a Size to evaluate to a Size;
    as a ratio of two Sizes, the result should be a plain number.
    It is wrong for the product of two Sizes to yield a Size, and almost certainly
    a sign that there is a mistake, as most of our computations should not
    result in products of Sizes. A Size + a plain number is a Size, which is
    the typical way to let in errors where a plain number that represents MiBs
    is added to a Size() yielding an incorrect Size result.
    
    Eventually this problem should be fixed. In the meantime, however, the changes
    I have made in this patch are intended to be compatible with a corrected
    implementation of Size. The most sigificant instance is that sum() is
    given a start value of Size(0), in case the list being summed over is empty.
    The alternative, to convert the result of the sum operation to a Size,
    is incompatible with a correct version of Size which would consider adding
    a Size to a plain number to be an error.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ca6461a40489198b66cd98da3a09cebb29f6d16b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Oct 29 13:22:43 2014 -0400

    Update minSize method headers.
    
    minSize values are no longer in megabytes and with filesystems the
    minimum size may vary depending on the particular instance of the
    filesystem.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ef494d629cd2f2ba30f1bee677f88d1e396f881c
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 4 14:20:14 2014 -0500

    Remove _minSize assignment to 0 where it's inherited from superclass.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 55115f0fc402daaa92e0167ec544e00495372a37
Author: mulhern <amulhern@redhat.com>
Date:   Mon Nov 3 17:54:13 2014 -0500

    Make _minInstanceSize, a source of minSize() value, always a Size.
    
    This will make minSize be a Size more often and None less often, probably
    never.
    
    Remove class level variable _minInstanceSize in TmpFS. _minInstanceSize is
    always set to Size(0) in FS.__init__(), and is supposed to be an instance
    variable.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fa886a67fbd1099a6a8f6e88aa7ab6584d4f4ce6
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Nov 3 11:16:48 2014 -0800

    Fix int * Size operation and add tests (#1158792)
    
    When Size is not on the left it needs to call the correct Decimal method
    and make sure it returns a Size object. This also adds a test to make
    sure the results of add, subtract, multiply, divide, modulo and power
    return the current behavior.

commit 60c549d844c60b34f2b83e5f1689aca087c25f50
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Nov 4 11:55:26 2014 -0800

    getArch should return ppc64 or ppc64le (#1159271)
    
    ppc64le is not the same as ppc64 so getArch should distinguish between
    them.
    
    Resolves: rhbz#1159271

commit 6a00788d694c3f7ec672dead2cd62fca2973ef90
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Nov 4 09:16:00 2014 +0100

    Pack data for the wait_for_entropy callback
    
    Packing data into a namedtuple is good for keeping the API even if we need to
    add some more parameters (fields) in the future. It also serves as a
    documentation.
    
    Also improve the documentation of the callbacks that are expected to be used.
    
    Related: rhbz#1073679

commit 31dd14e31d8e052642337bef5b658ddfa263f27b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 3 12:10:35 2014 +0100

    Allow the wait_for_entropy callback enforce continue
    
    This way e.g a timeout or a way allowing user to ignore the lack of entropy can
    be implemented.
    
    Also document the potential issue of waiting for enough entropy for a long time
    or even forever.
    
    Related: rhbz#1073679

commit 31e2dbf447c4f753f9c973ce601efb4b1731b017
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Nov 4 17:01:53 2014 -0800

    New version: 0.69

commit ce73d228c28da816365080bed6ecaa9e25802c4d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 31 15:12:55 2014 -0500

    Increase max depth of sphinx toc to show subpackage names.

commit 7780b9cfd79189ef15b608898353fc98294cdd6c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 31 13:45:59 2014 -0500

    Temporarily disable the md devicetree tests due to mdadm issues.
    
    It appears as if mdadm isn't dong anything with symlinks at all, meaning
    if you tell it to create /dev/md/foo all you get is /dev/md127 (or
    whatever minor you end up with). It acts like it succeeded anyway, which
    is fun.

commit c332f59fe4ca9532ae2b9809be52b7aae1ff022b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Oct 30 14:02:32 2014 -0700

    Add ability to set a default fstype for the boot partition (#1112697)
    
    By default the boot partition fstype is the first in the list returned
    by the bootloader. This adds setDefaultBootFSType() which can be used to
    override this.
    
    Related: rhbz#1112697
    (cherry picked from commit f04b6d8a9716b458700b3b153c1123bc392e9ad5)

commit 49645887586ba72388b0fb964f4a5587a25ed656
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Fri Oct 31 11:52:48 2014 -0400

    Pass a list of string items to log_method_return.
    
    Formerly, __repr__ was called on the objects passed, which was
    unfortunately quite expensive and resulted in significant lag in
    the UI when selecting/de-selecting a disk in the anaconda storage
    spoke.

commit b6a79c9b935191b57589fe05e18b1602fa3a2ca1
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 21 13:41:05 2014 -0500

    Require resize target sizes to yield aligned partitions. (#1120964)
    
    New method StorageDevice.alignTargetSize can be used to modify target
    sizes as needed to account for alignment.
    
    Modify minSize and maxSize to return values that will yield an aligned
    partition.

commit a9ac2316e6da993ad5c01b126833658a036627d3
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 23 16:25:24 2014 -0500

    Split out code to determine max unaligned partition size to a property.

commit da6989606e634bb2a787af452ec251f0400bad5c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 22 11:25:04 2014 -0500

    Allow generating aligned geometry for arbitrary target size.
    
    _computeResize still defaults to self.targetSize, but this allows us
    to pass any size in and see what the aligned geometry would look like
    for that target size.

commit 652722bc1852b5185f0a48b07b301fff76c05c45
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 9 14:46:47 2014 -0500

    Align end sector in the appropriate direction for resize. (#1120964)
    
    When shrinking, align the end sector up to ensure the aligned partition
    is still larger than the formatting's minimum size.
    
    When growing, align the end sector down to ensure the aligned partition
    is completely within the free region (and not larger than the formatting's
    maximum size).

commit 8919b519e14c9df668daf7cab535a77226513dd9
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 21 14:00:45 2014 -0500

    Specify ntfs resize target in bytes. (#1120964)
    
    This saves us the trouble of having to round in the correct direction.

commit e2fd4a318727b2cc92a83914749dca2f556c5bab
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 24 14:30:38 2014 -0500

    Check new target size against min size and max size.

commit 9c15762381c1a0f24c8d9e500b4239a64438328d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 23 09:52:51 2014 -0400

    Add a number of new tests.
    
    Factor locale related tests into a separate class so that current locale
    can be saved and restored more consistently.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5585747d3fbe1ac527cfbcff21235b68f4f778be
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 23 09:38:30 2014 -0400

    Add xlate parameter to humanReadable().
    
    Make default True, so no visible change.
    We don't often look at logs generated in a foreign locale, but if we
    did, and the locale were different enough from English, I would have
    a bit of trouble interpreting the Size values since Size.__str__()
    just turns around and invokes humanReadable(). We should probably,
    for purposes of logs, explicitly invoke humanReadable(xlate=False).
    This just sets up humanReadable() so that is possible.
    
    Also, translate less eagerly.
    
    The only prefix or abbreviation that needs to be translated is the
    one that is displayed, so wait until display time to translate, if required.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f52c12366c7c50fbe24b2a9725e8dcd160449f94
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 23 10:14:47 2014 -0400

    Rewrite _parseSpec() and convertTo()
    
    This fixes a bug where most English specifiers would not be parsed
    unless the locale was a lot like English; after failing to be parsed
    in the English section, they still got their chance to be parsed in
    the locale-specific section, and if it was close enough, as it usually
    is for me, it would be parsed there.
    
    Add a method, _parseUnits(), which handles the parsing of the units
    part of the spec. Abstract this for both translated and non-translated.
    If there is no exact match for the units, see if the units are a prefix
    of a binary abbreviation.
    
    Remove _makeSpecs() entirely, and redistribute its functionality between
    new methods _parseUnits() and _makeSpec().
    
    Rewrite convertTo() so that it uses newly introduced _parseUnits() not
    newly removed _makeSpecs() and make it work with translated specs as well
    as untranslated.
    Thereby fix a small bug where the spec was lower-cased as if it were locale
    specific, but the prefixes to match against were untranslated.
    Change default to "", which means bytes, just like "b".
    These changes emphasises that _parseSpec() and convertTo() should agree on
    what a spec means.
    Also, just accept the default for calls to convertTo() in size.
    
    Remove now useless imports, constants, functions.
    
    Update tests appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 49f959efe19661177f86cc2bad882ed237beb428
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 23 10:06:43 2014 -0400

    Make _lowerASCII() python 3 compatible and add a method header.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e15bcf5da0350d28235071a536cb134d3d0158ca
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 23 10:42:34 2014 -0400

    Use b"", not u"", for _EMPTY_PREFIX.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4ab729edb2b3a3af62eb4764e0c16f9cf2aa5bf8
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Oct 27 16:28:30 2014 -0700

    Strip lvm WARNING: lines from output (#1157864)
    
    LVM has started including a pile of WARNING: lines in its output. These
    need to be removed before the return value lvm() is used.

commit 0cb6cd8439239b3c33063f977ca16958308c8588
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 24 16:40:23 2014 -0400

    Add testing for MDRaidArrayDevice.mdadmFormatUUID (#1155151)
    
    Related: rhbz#1155151
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7722f8384c4ec6fa27b9ce72705d52e063006abb
Author: mulhern <amulhern@redhat.com>
Date:   Wed Oct 22 12:30:48 2014 -0400

    Give mdadm format uuids to the outside world (#1155151)
    
    Resolves: rhbz#1155151
    
    We need our uuids obtained from mdadm to be the canonical format internally,
    as we need to compare them to other UUIDs obtained from other sources,
    which are in canonical form.
    
    But the outside world needs to see mdadm's own format UUIDs.
    
    Hence, we need a conversion function to convert from canonical UUIDs to
    mdadm format UUIDs.
    
    There is an MDRaidArrayDevice property, mdadmFormatUUID, which invokes
    the conversion function. It returns None if the uuid is unconvertable.
    
    This property is substituted for uuid wherever appropriate.
    If some checking was done for presence of UUID in these contexts, do
    appropriate checking for availability of formattedUUID. Where no
    checking was done previously, do not insert checking.
    
    In one location, use context manager for writing to a file, for neatness,
    since the code has to be touched anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e30e4856da79daefc2bb4218cf60f42e2ccc9f10
Author: mulhern <amulhern@redhat.com>
Date:   Mon Oct 20 09:04:17 2014 -0400

    Make logSize, metaDataSize, and chunkSize always consistently Size objects.
    
    Especially, export metaDataSize and chunkSize to ks in correct units.
    
    Writing the unconverted sizes to kickstart object makes the values too
    large by several orders of magnitude.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e59994930f4db13fc45fb5b2392c1a5da370bb7c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 22 16:27:43 2014 -0700

    New version: 0.68

commit 18d7f18b44cb0e09887530d9e315ac44d429921f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Oct 21 14:59:37 2014 -0400

    Only write label if there is a label AND labeling application.
    
    Previously, the code attempted to write the label if there was a label
    OR no application to do the labeling.
    However, the writeLabel() method defensively noticed if there was no label
    or no application to do the labeling and raised an error in either case,
    which was immediately caught by the enclosing code.
    
    The difference in behavior is that there will be fewer lines of the form
    "Failed to write label...[makes no sense..., no application to set...]"
    in the storage log, ideally none at all.
    
    There probably weren't very many error messages, as there are few major
    filesystems that do not have a labeling application.
    
    Tests didn't catch the problem because they do not check logs.
    
    Also, use relabels() method in place of equivalent expression.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f7e8b137125ad133908f060735f8c561ab47de91
Author: David Shea <dshea@redhat.com>
Date:   Tue Oct 21 17:06:34 2014 -0400

    Handle unicode strings in Size spec parsing.
    
    Since _() and friends now return unicode objects, most of size.py no
    longer needs to decode strings into unicode objects. Change
    humanReadable to return unicode objects that will be converted back to
    str by __str__ if necessary. Handle unicode inputs to the Size
    constructor.

commit 9bafb75acad5820910818d1a545518f2dbe49f9c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Oct 22 17:14:01 2014 +0200

    Fix typo in getting Thin Pool profile's name
    
    Introduced when porting the commit ace46c57f5c00fdb23734da2d49e667d291c0860 from
    rhel7-branch.

commit ff9070a872f6b0e21a63e9f9d12d0315384e2a15
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Oct 21 09:44:24 2014 +0200

    Don't try to get no profile's name (#1151458)
    
    If no profile is specified, trying to get its name results in a traceback.

commit 6a9c2ed8d1c32b1062f44b6ae99fb4e08083e8b7
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 17 12:40:12 2014 -0500

    Change signature of DiskLabel.addPartition to be more useful.
    
    The new method accepts start sector, end sector, and partition type.
    
    The previous method required you to pass in a parted.Partition instance.
    It did not simply add that parted.Partition instance. Instead, it created
    a new parted.Partition instance based on the one passed in and added that
    to the parted.Disk.

commit 060a1106864c903bebb89a475184f30e1625fe46
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 25 12:34:24 2014 -0500

    Remove unused fallback code from DiskLabel.
    
    This is not used, and the partitions part would cause calling code
    to fail anyway since it all expects a list of parted.Partition instances.

commit 73ebba337b59a5c894619453535d6e3951c586d9
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 18 13:24:04 2014 -0500

    Let udev settle between writing partition flags and formatting. (#1109244)

commit fe256f24209792ffaeff8760b2c843ac0540a783
Author: mulhern <amulhern@redhat.com>
Date:   Mon Oct 20 09:37:54 2014 -0400

    Set _partedDevice attribute before calling device constructor (#1150147)
    
    Related: rhbz#1150147
    
    See previous commit: Set sysfsPath attribute for reason.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8cfb3c9754ffba1e04635f2aeeae28f4b4142776
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Oct 20 12:23:36 2014 +0200

    Fixed wrong Runtime Error raise in _preProcessActions
    
    problematic already contains names of devices not devices

commit b0f5545ee76961b0723e3d324b93ba22540c0a70
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 17 14:50:06 2014 -0400

    Set sysfsPath attribute before calling Device constructor (#1150147)
    
    Device constructor sets parents, but MDRaidArrayDevice's _addParent()
    method requires that sysfsPath attribute be present.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5eba5fccd39d0dbfe171657501a73058a3dc2678
Author: David Shea <dshea@redhat.com>
Date:   Tue Oct 14 17:44:08 2014 -0400

    Return all translated strings as unicode (#1144314)
    
    pyudev returns all strings as unicode, which is understandable for them,
    since python2 unicode is analogous to python3 str and that way they
    don't have to care about non-ascii characters, but annoying for us,
    since now we have to care about non-ascii characters.
    
    The automatic str to unicode conversions in python 2 only blow up when
    there's non-ascii characters, and the only place we're likely to
    enounter non-unicode non-ascii strings in blivet is in the values
    returned by gettext. So let's switch to the unicode versions of the
    gettext methods.

commit 088f57c523b4a44f804586375acea85ffb010b0a
Author: David Shea <dshea@redhat.com>
Date:   Wed Oct 15 11:21:49 2014 -0400

    Force __str__ to return str.
    
    Explicitly cast __str__ results to str any time there is an ambiguity
    in the type that the result string may be. Add __unicode__ methods so
    that when these objects are converted to unicode they don't need to go
    through encoding conversions.

commit a609b0a9cb4d1a61590ad4f76c074af85cb98404
Author: David Shea <dshea@redhat.com>
Date:   Tue Oct 14 14:17:54 2014 -0400

    Use the i18n module instead of creating new gettext methods

commit 915772ae2e4aae7814baff78d1d820fd3f19fae0
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 16 17:19:13 2014 -0400

    Take care when checking relationship of parent and child UUIDs (#1151649)
    
    Related: rhbz#1151649
    
    We are in the unfortunate position of not being able to assume that
    the member's format has an attribute w/ the name specified by
    self._formatUUIDAttr. This problem arises because MDRaidArrayDevices w/
    type mdcontainer lack some of the properties of more typical
    MDRaidArrayDevices.
    
    Abstract all this checking into a single method, so that the problem doesn't
    pop up again later when removing or adding (for real, not just in the
    in memory model).
    
    Preserve all semantics, except for not raising an AttributeError if the
    field does not exist.
    
    Distinguish between situation where the data is untrustworthy or
    unavailable and where it is considered reliable enough that verifying
    its correctness makes sense.
    
    Don't assume that the problem can only be due to an oddity of mdcontainer,
    it may crop up elsewhere as well, so be robust.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3a77eab4420b95dfc90ec4d156dd0974d2ce4d72
Author: mulhern <amulhern@redhat.com>
Date:   Thu Sep 18 10:55:48 2014 -0400

    Further abstract loopbackedtestcase on block_size.
    
    Also, have deviceSpec contain a list of actual Sizes() instead of counts of
    unchangeable size blocks and do the math to infer block size
    and number of blocks to pass to makeLoopDev.
    
    Change any overrides of deviceSpec in subclasses appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ad216814ec474acff5c0a2d8d52408534fea128a
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 9 11:05:41 2014 -0400

    Update tests to bring into line w/ previous commit (#1150147)
    
    Related: fed#1150147
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c197d2d39104cdef234daecf5c44098bc345b506
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 9 11:04:25 2014 -0400

    Abstract ContainerDevice member format check into a method (#1150147)
    
    Resolves: fed#1150147
    
    Override the member format check in MDRaidArrayDevice.
    
    MDRaidArrayDevices are ContainerDevices that generally enforce
    that the format of member devices is 'mdmember'. This is usually correct,
    but devices which are MDRaidArrayDevices which themselves have type
    mdcontainer may be members of MDRaidArrayDevices and they do not have
    format of 'mdmember'. In this case, therefore, no restriction on
    format type is enforced by MDRaidArrayDevice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ad6b12e4635256da1db2aaa1fdda99bc6ee9f8ff
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 10 09:27:38 2014 -0400

    Register DeviceFormat class (#1150147)
    
    Related: fed#1150147
    
    This shouldn't change any observable behavior in existing code.
    
    The only behavioral change is that in getFormat(), the True branch of
    if not fmt_class:
    will be taken less often because get_device_format_class returns
    DeviceFormat instead of None with an argument of None (assuming
    DeviceFormat can be found).
    
    This means that
    if not fmt_class:
    will evaluate to True only when a match can not be found, presumably
    because its class could not be read properly.
    
    Of course, if it's DeviceFormat that is not found, falling back to
    DeviceFormat makes no sense, but things are pretty much over by then,
    anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 09ae534eecc4f9eb2fb9fcb692630f438b930ee8
Author: David Shea <dshea@redhat.com>
Date:   Thu Oct 9 16:56:55 2014 -0400

    Don't append btrfs mount options to None (#1150872)

commit 8d04a0a51ab9670e78449ccf6952cc7687cc4560
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 9 14:21:52 2014 -0400

    Convert int to str before passing it to run_program (#1151129)
    
    Resolves: fed#1151129
    Related: rhbz#1076383
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fa459265a1543bf94143c76cec3d4af8be5b4c88
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Oct 9 17:29:19 2014 -0700

    New version: 0.67

commit b7c9484dca2d2e6b945e641a2d8f5a98ab9bf406
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 9 17:34:56 2014 -0500

    Don't pass --disable-overwrite to tx pull.
    
    We should be trying to avoid pushing outdated or otherwise wrong
    translations.

commit c9bd120f17232783295f36084901490bb29ae66d
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 7 13:18:02 2014 -0500

    Avoid unneccesarily tripping raid-level member count checks.

commit bac03eb588e627f4ff70bc7a36511b6458fbf37c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 7 13:06:57 2014 -0500

    Allow toggling encryption of raid container members. (#1148373)

commit e0926bf538089c2e9733b9246052119325a86013
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Oct 9 14:21:42 2014 -0400

    Include the new blivet.devices submodule in the built package.

commit bb02a67c4e6c17fcdf039d6229cf650d1c127ec1
Author: mulhern <amulhern@redhat.com>
Date:   Tue Oct 7 08:41:41 2014 -0400

    Add a few test for setting dataLevel and metaDataLevel in BTRFS
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d9d30e84e927ee83c9d5dc115083a497bef916fd
Author: mulhern <amulhern@redhat.com>
Date:   Tue Oct 7 09:34:08 2014 -0400

    Add dataLevel and metaDataLevel attributes for testing.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8059ed7fcd393317d447d4b6245aecbdc51fe6a4
Author: mulhern <amulhern@redhat.com>
Date:   Mon Oct 6 17:47:15 2014 -0400

    Add isleaf and direct to _state_functions
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a4300906a61ef6c3be242ef2555f71522acea884
Author: mulhern <amulhern@redhat.com>
Date:   Tue Oct 7 08:02:46 2014 -0400

    Refactor setup of _state_functions into __init__() methods
    
    Use class inheritance where appropriate.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5d269903ffa5f04161cc1c3e8ce58aa1b5c28862
Author: mulhern <amulhern@redhat.com>
Date:   Mon Oct 6 17:18:14 2014 -0400

    Move getting the attribute into the check methods.
    
    The idea is that one thing the test methods might want to check is
    if the attribute is there at all.
    
    Uses a higher order function because it is simpler and clearer and easier
    to do the edit.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5ca55b567b02fd910fbe4a97cd8741c8a737c207
Author: mulhern <amulhern@redhat.com>
Date:   Mon Oct 6 08:05:51 2014 -0400

    Adjust detection of exceptions raised.
    
    Previously, for MDRaidArrayDevices, sometimes a DeviceError and sometimes
    a RaidError would be thrown if the Raid level was somehow invalid.
    Now a DeviceError is thrown, always.

commit 1bcbf123cf16e8f9859072543d84dc62a83a84a6
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 3 17:02:22 2014 -0400

    Update test setup so that it obeys RAID level requirements.
    
    Previously, the MDRaidArray test did not check whether the number of
    parents was fewer than the minimum number allowed by the level if there
    were no parents at all. New code always checks, so all those tests that
    managed to slip past by setting parents to [] or None have to be updated
    with at least as many parents as are required by the level. The tests
    that check the state of parents and devices must be updated along with
    the setup.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a7a4deab5dc2d99dfb7cc231fde1b2374d43bf64
Author: mulhern <amulhern@redhat.com>
Date:   Mon Oct 6 08:46:20 2014 -0400

    Use new RaidDevice class in appropriate Device subclasses.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2aafb1eb1a958837f389686816c2b2dc5256aa5a
Author: mulhern <amulhern@redhat.com>
Date:   Mon Oct 6 08:31:24 2014 -0400

    Add new RaidDevice class for handling RAID aspects of devices.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a2f2ab32ed8113dd667704076f2f53ee547bdc0e
Author: mulhern <amulhern@redhat.com>
Date:   Mon Oct 6 08:34:27 2014 -0400

    Do not set parents attribute if parents param is bad.
    
    Wait until after the check.
    
    Also, if somehow parents parameter is 0 or "" or {}, ValueError is raised.
    Previously it would only have been raised in cases where parents evaluated
    to True for purposes of an if condition, like 2 or "hello".
    
    Main benefit is that new code is easier to understand.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1b8fe47f4104a462613fc44dd6fbb2a1cfdaa8c9
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 8 17:39:47 2014 -0700

    New version: 0.66

commit f1044fa06be3be92ef5da2caf5254b31b4cdd7d2
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 7 11:24:05 2014 -0500

    Organize installer block device name blacklist. (#1148923)

commit 7f076316ed7961a37288d5f20c757434c9545939
Author: mulhern <amulhern@redhat.com>
Date:   Tue Oct 7 14:19:50 2014 -0400

    Add likely to be raised exceptions to catch block (#1150174)
    
    Resolves: fed#1150174
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8b9506bca4188313562818aa5a1c39b9acec4e5e
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 29 08:21:04 2014 -0400

    Canonicalize MD_UUID* values in udev.py (#1147087)
    
    Resolves: fed#1147087
    
    Sometimes, MD_UUID* are obtained, not from mdraid methods, but
    from udev methods. Since these did not pass through the mdraid methods,
    they are not canonicalized, leading to uncanonicalized forms being used for
    lookup. Now, they are canonicalized on lookup in blivet.util.py. Since
    the canonicalize_UUID method is shared, it is moved up into blivet.utils.py.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6087189ef00df503bec7b3681ae89d97d62f4167
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 2 16:49:15 2014 -0500

    Split up devices.py.
    
    Look at blivet/devices/__init__.py imports to see where everything went.

commit 7bc6e5e0de91a0412f9f97922fbd765950b89d49
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 3 12:29:58 2014 -0500

    Fix some pylint errors introduced in recent commits.

commit 14e54b13204e95edd28272201bb3a62607e86de3
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 26 11:52:35 2014 -0500

    Return early when setting new size for non-existent partition.
    
    Related: rhbz#978266

commit 7c152fc925524cd0066f294cd9906ce945a94d2e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 2 12:20:11 2014 -0500

    Raise an exception when we find orphan partitions.
    
    If we find a partition that belongs on a disk that we did not find a
    disklabel on (or a hidden format or an iso9660 fs) we have serious
    enough problems to justify raising an exception instead of quietly
    ignoring it. Ignoring these partitions almost always ends up causing
    fatal problems further along.
    
    Related: rhbz#1144410

commit e9644ff00d019a2634078f75e3b73c454a079225
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 2 12:17:41 2014 -0500

    Fall back to parted to detect dasd disklabels.
    
    blkid does not know how to detect dasd disklabels, so we cannot rely on
    the information provided by udev in this case.
    
    Resolves: rhbz#1144410

commit 4bf41f41d7d8954e3412aa7f7179d8d03d81a52d
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 3 13:47:28 2014 -0400

    Omit pylint false positive
    
    Original message:
    ************* Module blivet/arch.py
    blivet/arch.py:361: [F0401(import-error), numBits] Unable to import 'platform'
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 28a2b8a621f52b27a4d7702ea41a92ab5bdf38bd
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 3 13:11:35 2014 -0400

    Revert "pylint hack"
    
    This reverts commit 4cf3f6e33f5fd04f8494d22056fe25df62c44d49.

commit 143cae956b082ab855058f250b092be0b67a2cdd
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 3 13:08:49 2014 -0400

    Remove unused import
    
    Related: rhbz#1073679
    
    Should not have gone in with 00c61f25e4a142829dcf9a84b21591412ddf10d5.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 02739c53b04562893f81ca0f53e4c50c1de5288c
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 3 13:00:37 2014 -0400

    Remove unused import
    
    Related: rhbz#1073679
    
    Should have gone in with 781ff89c8ac003933e574f728c3004e73a2e1e82.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4cf3f6e33f5fd04f8494d22056fe25df62c44d49
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 2 10:32:44 2014 -0400

    pylint hack

commit be247852e46fd98b79c7259803af1c802db49596
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Sep 16 15:36:58 2014 +0200

    Make sure autopart requests fit in somewhere (#978266)
    
    When doing LVM/BTRFS autopart we implicitly schedule one partition on each disk
    as a device for LVM/BTRFS. Those implicitly scheduled partitions are requested
    to be at least 500 MiB big and grow if possible. That's fine and works well
    until we have many small disks (e.g. DASDs) and need to fit another partition
    (for e.g. swap) that is in combination with the 500MiB implicit partition bigger
    than any disk we have.
    
    Thus we need to make sure all our partition requests fit somewhere with the
    implicitly scheduled partitions by making the latter ones smaller or by removing
    them if needed.

commit c22ea3118505d8fea362dd9bc0f8c32e348a6660
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Sep 16 15:36:12 2014 +0200

    Work with free region sizes instead of parted.Geometry objects
    
    Related: rhbz#978266

commit d7555b0ccc4e1891d1c5cc866d5ee095c573b896
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Sep 16 15:14:18 2014 +0200

    Check that we have big enough free space for the partition request
    
    Related: rhbz#978266

commit fec0322a5595d1f46f81674d2cfd93fc177dc47b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Sep 19 15:41:04 2014 +0200

    Allow specifying thin pool profiles
    
    Related: rhbz#869456

commit 00c61f25e4a142829dcf9a84b21591412ddf10d5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 27 11:04:17 2014 +0200

    Allow specifying minimum entropy when creating LUKS
    
    Creating new LUKS format requires high-quality random data and such quality may
    be specified by minimum entropy of kernel's random data pool required. Blivet
    thus need to check such entropy and wait for it to become high enough if
    requested by the user code (Anaconda, OpenLMI, blivet-gui, etc.).
    
    In order to allow the user code to give a hint to the users about what's
    happening and how they can help with entropy generation, blivet also needs a
    callback that is called in case of LUKS format being created with not enough
    entropy available.
    
    Related: rhbz#1073679

commit 781ff89c8ac003933e574f728c3004e73a2e1e82
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 26 08:18:32 2014 +0200

    Allow user code provide callbacks for various actions/events
    
    This simplifies blivet's code, makes it cleaner and gives other user code than
    Anaconda way to react on various actions/events. It is also a building block for
    many other applications of callbacks in blivet.
    
    Related: rhbz#1073679

commit 7c799ec259ab95357a942e22370ee263b8fa30df
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 2 07:58:40 2014 -0400

    Change default min_value from 10 to 1 in humanReadable()
    
    Update tests as appropriate.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 390628d5d5f3b4a5d810a3329d1427aaccfb20e0
Author: mulhern <amulhern@redhat.com>
Date:   Thu Sep 4 09:51:18 2014 -0400

    Rewrite of Size.humanReadable() method
    
    The observable changes are:
    *) Extremely large values will be displayed using the largest available units,
    rather than as bytes.
    *) The places parameter is eliminated entirely.
    *) A strip parameter is added, with default True. If strip is True, and the
    value is a fractional number, trailing zeros are stripped up to the decimal
    point. strip is True by default to preserve current behavior.
    *) A min_value parameter is added. The default is set to 10, to match the
    current behavior of the method.
    
    Remark:
    
    Sizes are now stored in arbitrary precision Decimal values. The base unit
    of computation is bytes, which is something that can be measured exactly.
    Therefore, the quantities that are measured are precisely known, and,
    barring mistakes, all computations should yield precise values.
    Intuitions from other branches of engineering, where there is an
    imprecision in measurement, or from calculating with float types,
    which have limited precision, do not apply here. We do not need to display
    all the precision that is available, but that shouldn't confuse us into
    believing that it is not available.
    
    Rationale for externally visible changes:
    
    * Removal of places param.
    Anaconda never sets places at all, and it always specifies max_places with
    a keyword. Openlmi does not appear to use humanReadable at all.
    The use of places was barely tested in the existing unittests and its
    purpose is obscure. Removing it simplifies the code a good deal but does
    not itself change any existing behavior (other than in test code) since
    its default was None.
    
    * Addition of strip parameter.
    Some users will surely have an engineering background, like myself, and will
    expect the significant digits that they request. strip is set to True,
    however, so that the default behavior is removing 0s, since that is what
    anaconda expects.
    
    Internal changes and rationale:
    
    * Obtain fractional digits by using Decimal.quantize(), not round,
    which operates by conversion to float.
    
    Since Decimals are arbitrary precision, every digit is significant.
    Rounding should occur on the Decimal value, not by conversion to float.
    
    * Returning prefix unconditionally.
    
    abbr is set exactly when prefix is set, and they are only set from an
    array which always contains both an abbr and a prefix. So falling back
    on using the prefix when there is no abbreviation makes no sense.
    On the other hand, it is not wrong to keep the prefix value in the array of
    prefixes, it might make sense to add a use_prefix parameter to humanReadable,
    for example.
    
    * Search only for binary prefixes, not decimal ones.
    Previously, the code searched among decimal prefixes and abbreviations if it
    could not find a binary prefix that worked. As it happens, our binary prefixes
    express a larger range than our decimal prefixes, so no decimal prefix
    should ever have been chosen. Also, humanReadable() should not return
    either binary or decimal prefix, depending on the value of the number
    represented. Two reasons to ditch this behavior and only search for binary
    prefixes.
    Since we are dealing exclusively with binary prefixes we can use
    1024 as our limit when searching for the correct prefix, not 1000, which
    evidently was supposed to work for both kinds of prefixes.
    
    * Add an _emptyPrefix constant and use it.
    Previously, very small numbers that should be represented as bytes, w/out
    prefix were handled especially. There was no need for this, so that's
    eliminated.
    
    * Other more complicated and hard to explain but not effective behavior
    also eliminated.
    The net result is the removal of 23 lines of code, leaving just 17,
    and the addition of some comments making the method overall a good deal
    more readable and parameterizable.
    
    New method passes all existing tests without any alteration, except for
    a couple tests that used places and now use max_places.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dff4edc4677bf306cf3607067421ec82439a8d40
Author: mulhern <amulhern@redhat.com>
Date:   Tue Sep 30 07:50:33 2014 -0400

    Factor out commonalities in xlated_*_prefix() methods.
    
    Use in _xlated_prefixes().
    
    _xlated_prefixes() evaluated everything to a list. The point of making
    _xlated_binary_prefix() to evaluate to a lazy comprehension was to delay
    evaluation, but _xlated_prefixes() evaluated everything, so there was little
    point. Now evaluation is actually delayed until needed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2dbd51a93125c87e6e610a93dafe0a60bca1a227
Author: mulhern <amulhern@redhat.com>
Date:   Tue Sep 30 08:00:00 2014 -0400

    Use named constants for binary and decimal factors.
    
    Since we're changing those lines anyway, prettify them a bit.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2c28e3f495eaa88be03aa6fec7d87bed9fca0158
Author: mulhern <amulhern@redhat.com>
Date:   Wed Oct 1 08:18:45 2014 -0400

    Use UPPER_CASE for constants
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 086c5b36b57a387d2fd3daef6e03b601d0cd917c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Sep 30 16:54:57 2014 -0700

    New version: 0.65

commit b7df9214bfc35dba0e3a7b5c6251d0e50b10f442
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 30 12:11:47 2014 -0500

    Remove a problematic remnant of singlePV.
    
    commit e4549cfd0c794c4b0cf139fb3002885c88315788 removed only part of
    a conditional clause that should have been removed completely. The result
    was that all actions that create LVs within a given VG required each
    other, leading to cycles in the tsort input graph.
    
    Resolves: rhbz#1147985

commit e4549cfd0c794c4b0cf139fb3002885c88315788
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Sep 29 18:40:32 2014 -0400

    Remove all traces of singlePV.
    
    Won't be needing this anymore.

commit df8f10d22c7bc1d100730077a92b91b0fd08a463
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Sep 29 18:36:47 2014 -0400

    Change the default /boot part on s390x to not be lvm.
    
    Avoid any insidious problems that may result from having /boot on lvm
    on s390x, and simply change the default partitioning for /boot to be
    on a partition.

commit 58884e4581a2076675c728c8a5ce15a04c4c3e62
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 29 13:03:08 2014 -0500

    Remove redundant check for parents in Blivet.newBTRFS.
    
    We already check parent type in BTRFSSubVolumeDevice, but we should be
    using BTRFSValueError if those checks fail.
    
    Resolves: rhbz#1072285

commit a3998ea687a96d7f6ca7a019ecae87dcc7b5d0fe
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 26 11:40:25 2014 -0500

    Use Decimal for math in Size.convertTo.
    
    Size.__div__ converts the Decimal result to a Size, which rounds its
    numerical argument (byte count) down to an integer. Size.convertTo is
    meant to retain precision.

commit 4174f20f2aa6f66745c736a83f5fb09a96b4e2f0
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 26 14:12:18 2014 -0500

    Filter out free regions too small for alignment of partitions.
    
    Make sure that we don't even look at regions shorter than the alignment
    grain size, and that free regions have sufficient length after aligning
    the start and end sector before instantiating a DiskChunk.
    
    Related: rhbz#1083687
    Resolves: rhbz#1147068

commit 817eeeb85b4a476e6f92f8646c027846f817904a
Author: Will Woods <wwoods@redhat.com>
Date:   Tue Sep 23 17:47:30 2014 -0400

    Disable LVM autobackup when doing image installs (#1066004)
    
    If we're doing an image install, the host system doesn't really care
    about the metadata for these volume groups - and if you do a lot of
    image installs (say, on a build system) the archive/ directory is going
    to grow without bound.
    
    So: suppress the autobackup behavior during image installs to prevent
    modifying things on the host.

commit 8cf6de18f1f332e5d3bd60bb0ca9fe8425172955
Author: Will Woods <wwoods@redhat.com>
Date:   Tue Sep 23 17:36:19 2014 -0400

    Add attribute 'flags.lvm_metadata_backup'
    
    This adds a flag which - if set to False - will suppress the automatic
    backup of LVM metadata by adding the appropriate configuration options
    (backup.backup=0 and backup.archive=0) to all invocations of LVM.
    
    It also adds a test case to ensure this actually works.

commit aa0b60affda67bc1c45cf3c22229448156441f80
Author: Will Woods <wwoods@redhat.com>
Date:   Tue Sep 23 17:16:46 2014 -0400

    lvm_test: refactoring + minor fix
    
    Factor out a LVMAsRootTestCaseBase so we can more easily add new
    functional test cases.
    
    Also fix a buglet in tearDown where a failed pvremove() could make us
    exit the loop without finishing.

commit 6c24bb25fddd3333592ae37bc3379e25f08fc3f5
Author: Will Woods <wwoods@redhat.com>
Date:   Tue Sep 23 16:14:01 2014 -0400

    devicelibs.lvm: refactor _getConfigArgs()/lvm()
    
    Every place in devicelibs.lvm that executes lvm uses _getConfigArgs()[1] to
    help build the argument list. So it'd be cleaner and simpler if we made
    every call to the lvm binary go through lvm(), and then just called
    _getConfigArgs() from there.
    
    This also means we can pass the caller-requested lvm command+arguments to
    _getConfigArgs(), so it can examine them and add appropriate config options
    for us.
    
    For example: right now the caller has to explicitly request
    read_only_locking if it wants read-only locks. The current code does that
    for every call to the informational commands (lvs, pvs, vgs, etc.).
    
    This change moves that logic into _getConfigArgs(), which now just
    automatically does read-only locking whenever we call one of the info
    commands. Much simpler!
    
    [1] except thinsnapshotcreate(), but that was an oversight (which is
    therefore fixed by this commit)

commit 0a3bf71fb5c5181e5dde0f03189a9015a9bfd41e
Author: Will Woods <wwoods@redhat.com>
Date:   Tue Sep 23 16:39:30 2014 -0400

    devicelibs.lvm: fix pvmove(src, dest=DESTPATH)
    
    args.extend(str) will treat the str as iterable and append each
    individual character to args; should be args.append(str).

commit 3d2d63f20e1e60e91d7df64fbcd2c0f60d21aea2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 18 17:27:38 2014 -0500

    Only pad for md metadata if pvs use multiple disks.

commit cd3b27952a60478ef9c1023ee5cb42d1af74999c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 23 12:38:37 2014 -0500

    Align free regions used for partition growing calculations.
    
    Using unaligned free regions only introduces unusable sectors when
    calculating growth amounts for aligned partitions.
    
    Resolves: rhbz#1083687

commit 85c74494bfdd032471f3de0daa14564ac8a4bc8d
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 22 11:37:18 2014 -0500

    Try to align end sector up when aligning new partitions.
    
    Resolves: rhbz#1090477

commit 2d93f2bba6776ecc303d0500ab36505585c2dbc5
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 19 13:27:44 2014 -0500

    Remove obsolete conversion of size to float.
    
    Resolves: rhbz#1140642

commit 24fec93d2dab61715b1a925654583ef184b206e3
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 18 17:22:58 2014 -0500

    Honor size specified for explicit extended partition requests.
    
    Resolves: rhbz#1077250

commit 5b7a54ab78ecf502dc4480200dd784d37b703d19
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 18 17:20:10 2014 -0500

    Honor zerombr regardless of clearpart setting.
    
    Fedora
    Resolves: rhbz#1143755
    RHEL
    Resolves: rhbz#1117946

commit e0e00f38320bb0b40fb7d8c3e08be2a6fdf5b54e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 18 16:21:02 2014 -0500

    Fix treatment of percent as lvm lv size spec.
    
    Percent is an alternative to a literal size. It is a fixed size request
    expressed as a percentage of the vg's free space after all requests with
    an explicit size have been allocated (but not grown). That means that a
    request defined using percent can still be growable. Such a request will
    use the size calculated from the percent argument as the basis for growth
    rate.
    
    Related: rhbz#1116435

commit 909b0956240776dab9918009d3ee84896ed995ea
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 22 15:04:16 2014 -0400

    Change variable keyword (#1075671)
    
    Related: rhbz#1075671
    
    Should have gone in with commit
    9e60a5477f779a3a1ed11b6055832c8de160455d.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 94ea27d183cd4bfcd9e9c043c5150eccfcd69964
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 22 15:00:53 2014 -0400

    Remove unused import (#1075671)
    
    Related: rhbz#1075671
    
    Should have gone in with commit
    9e60a5477f779a3a1ed11b6055832c8de160455d.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6dd171fb68e9b11889aaae9d70556cfffe167804
Author: Martin Kolman <mkolman@redhat.com>
Date:   Fri Sep 19 16:32:41 2014 +0200

    Don't mix target and discovery credentials (#1037564)
    
    The (optional) discovery credentials are different to the more commonly
    seen ISCSI CHAP/reverse CHAP credentials and care needs to be taken to
    not mix them together.
    
    Resolves: rhbz#1037564

commit 677d3d1ae1763e29cce05078714046f198c0f102
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Sep 12 15:10:15 2014 -0400

    Make sure /boot/efi is metadata 1.0 if it's on mdraid.
    
    This makes sure the metadata is at the end of the filesystem, so a naive
    codebase that doesn't know about RAID can still successfully read the
    filesystem.
    
    Note that we're not protecting against any type of writes from UEFI or
    other OSes.  Don't do that.
    
    In general:
    1) grub running from uefi should know about raid and try to access ESP
       as a raid volume
    2) if you're dual booting with some other linux, it's going to know about
       raid metadata, and we're fine
    3) if you're dual booting with windows or macos, ESP won't be raid if it
       already exists
    4) if it doesn't already exist and you create it as mdraid and try to
       share, it with windows or macos, you're going to have quite a bad
       day sometime down the road.  Don't do that.  But also: that's something
       the user has done in another OS after requesting for us to do something
       that doesn't work with that.  That's not our problem.
    
    Note that it's probably still better to make /boot/efi use dmraid disks
    than to do any of this.
    
    Resolves: rhbz#788313
    Signed-off-by: Peter Jones <pjones@redhat.com>

commit 1cde1f0142850ddc105ea74b0c6e958e9b9ebf00
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Sep 19 14:08:50 2014 +0200

    iscsi: fix root argument being overriden by local variable (#1144463)
    
    Resolves: rhbz#1144463
    
    introduced by commit 5b39c90ae582a8fb008c3633954a33b583

commit c39c712d4ee4395a77238dc87a3a6d549b1ea603
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Sep 19 10:24:13 2014 +0200

    iscsi: add iscsi singleton back (#1144463)
    
    Related: rhbz#1144463
    
    Perhaps accidentally removed by
    commit ea4dcaa16cc26d65e9e8e94677d15
    Breaks installation on iscsi using ibft.

commit e4222f8681a03e06e5f5898c3275d957b03d86ac
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Sep 19 17:21:19 2014 -0700

    New version: 0.64

commit d3c0cdfca31e59bad99e7554a38a0b04e086597e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 18 17:15:16 2014 -0500

    Fix pylint errors from recent btrfs commits.
    
    Related: rhbz#1095866
    Related: rhbz#1015072

commit c81c3ac2f4f262b8db0135008974ec0c48f520e7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 15 16:01:17 2014 -0500

    Only cancel actions on disks related to the one we are hiding.
    
    This includes all actions related to the disk and all actions related
    to disks that are linked to the disk being hidden by multi-disk devices
    like lvm volume groups.
    
    Fedora:
    Related: rhbz#1121383
    
    RHEL:
    Related: rhbz#1085201
    Related: rhbz#1129595
    Related: rhbz#1075671

commit f195052bdf347e194897f2cbc194bdf04da774d9
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 15 11:30:14 2014 -0500

    Cancel actions before hiding descendent devices.
    
    Canceling the actions can change the set of descendants.
    
    Fedora:
    Related: rhbz#1121383
    
    RHEL:
    Related: rhbz#1085201
    Related: rhbz#1129595
    Related: rhbz#1075671

commit ce442ca243dc741153b98fd402e668c7241fa06f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 11 10:54:26 2014 -0500

    Improve handling of device removals/additions from the devicetree.
    
    Move device-type-specific code for managing relationships between devices
    and the devices that contain them into the appropriate classes. This will
    ensure, among other things, that canceling a destroy action for an lv
    correctly adds the lv back into the LVMVolumeGroupDevice's lvs list.
    
    Fedora:
    Resolves: rhbz#1121383
    
    RHEL:
    Resolves: rhbz#1085201
    Resolves: rhbz#1077906
    Resolves: rhbz#1129595
    Resolves: rhbz#1075671

commit fbdef95dbf2100c0e5f3e06bbeb54f3666599d0b
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 15 12:03:18 2014 -0500

    The first format destroy action should obsolete any others.
    
    The first one is the only one that knows that actual existing format it
    needs to destroy.
    
    The other rules for ActionDestroyFormat are preserved.
    
    Fedora:
    Related: rhbz#1121383
    
    RHEL:
    Related: rhbz#1075671
    Related: rhbz#1085201

commit 8e16af5c6f69c586e3cdf3155848bb40fd39e67d
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 15 13:10:43 2014 -0500

    Do not allow modification or removal of protected devices.

commit cb8ef6192e3284c811870fc4c03dff3fa067d54b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 21 12:24:12 2014 -0500

    Propagate mount options for btrfs members to all volumes/subvolumes.
    
    Resolves: rhbz#1095866

commit 1fe6530b5642a99058f73b71b55b55f7731f9a32
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 21 18:27:08 2014 -0500

    Properly identify dm devices even when udev info is incomplete.
    
    This will help us to ignore device-mapper devices that we can't use.
    
    Resolves: rhbz#1080727

commit 21627d4ac480b1f0b862ec88114f61bcdd4776ec
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 9 12:02:19 2014 -0500

    Do not mount btrfs to list subvolumes outside installer_mode.
    
    Resolves: rhbz#1015072

commit fba26a4fdddbb375f96fbb2ed5b14af1337a37fe
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 21 12:46:21 2014 -0500

    Reset default subvolume prior to removing the default subvolume.
    
    Resolves: rhbz#1076383

commit aa0348048cf96834427e3e24144267a5ae6de99b
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 9 11:24:48 2014 -0500

    Increase max size for btrfs to 16 EiB. (#1114435)
    
    The maximums in blivet should be thoeretical maximums. Limitations
    beyond that are issues with the filesystem or its tools and not blivet's
    business.

commit 498fcc66cb99041f2ad06b2a143176b74ed3a777
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 20 14:22:19 2014 -0500

    Improve adjustment for removal of a subvol in BTRFSFactory.
    
    Resolves: rhbz#1078995

commit 964ac329b7db6f35832c13055192f6268ebe92e4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 20 11:43:25 2014 -0500

    Set dummy mountpoint in ksdata for lvm thin pools.
    
    Resolves: rhbz#1100244

commit 7a099d7b1003add076d2738c80c2fe5b979d4d7d
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Sep 17 19:59:59 2014 -0400

    Add an epoch to blivet.
    
    Because of an error made during branching, the first build of f21 blivet
    incremented y-stream to 0.62 instead of z-stream to 0.61.1 and was
    distributed to fedora users testing f21 alpha composes. This can't
    easily be worked around any other way than by incrementing epoch,
    otherwise 0.62 will always be seen as the "newer" version of blivet in
    f21.
    
    Also, because this change is going into f21, it must also go into master
    branch.

commit 08d1d1042adcd9dda535e4681edb2bf10b7e6fad
Author: mulhern <amulhern@redhat.com>
Date:   Tue Sep 9 16:33:31 2014 -0400

    Check if device has enough members when setting RAID level (#1019685)
    
    Related: rhbz#1019685
    
    RAID levels have minimum member requirements. Level setters now raise a
    BTRFSValueError if device does not have enough members to meet the minimum
    requirement. However, if the device exists its members may not be known
    yet, so the check is omitted.
    
    Also, RaidError is rethrown as BTRFSValueError in level setter if the level
    is not valid for its use. Previously the RaidError was just propagated.
    
    Also, self._dataLevel and self._metaDataLevel are explicitly assigned to
    in __init__ to avoid need to disable pylint attributed-defined-outside-init
    warning in setter function. The assignment is all on one line, because that
    is its sole purpose, and with the comment to explain it it still takes up
    two lines.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d11015c37f20fbcc25ec28cb48b50542d8e28141
Author: mulhern <amulhern@redhat.com>
Date:   Thu Sep 11 09:28:49 2014 -0400

    Add BTRFSValueError error and use in btrfs related code (#1019685)
    
    Related: rhbz#1019685
    
    From BTRFS related methods that have ValueError-like exceptions raise
    BTRFSValueError instead of ValueError. Note that this will not change the
    behavior of code that calls these method and catches a ValueError since
    BTRFSValueError extends ValueError. It can change the behavior of calling
    code where a BTRFSError is expected; since BTRFSValueError is also a subtype
    of BTRFSError the formerly ValueError exception will be caught where
    previously it would not. There are no instances like this in anaconda.
    There are two in blivet, in devices.py, and in both cases, this change
    seems to be an improvement.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 78f8f5bba51dbc25f10cdc9d00a1f2b7bc0d5e4d
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Sep 5 14:53:18 2014 +0200

    iscsi: mount partitions in initramfs for root on iscsi (#740106)
    
    / and /usr are mounted automatically, for other partitions
    x-initrd.mount option is needed in /etc/fstab
    
    Related: rhbz#740106

commit ca28d7d075c63e05a0d70ea7e185807b9cf663b0
Author: mulhern <amulhern@redhat.com>
Date:   Thu Sep 11 17:37:57 2014 -0400

    Remove poolMetaData (#1021505)
    
    It is never anything but 0, and its only use is an addition or subtraction
    and 0 is the identity for these operations.
    
    It was added in commit 8ef070b7b6fe4f270cc0120e5425299abf90b8cd (2013/10/07).
    Its last set was removed in commit 6897f50181662d91d1b6c84e749afe3ec48d2310
    (2013/11/1).
    
    It does not seem to have ever been used in anaconda, and it does not exist
    in pykickstart.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8ffda3280070b0246d71f84bfea77cea56fd276a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Sep 11 19:42:12 2014 +0200

    Revert "Allow use of a single path if multipath activation fails. (#1054806)"
    
    This reverts commit 6fb64d463278424aeef6ff9d6942f92df01d78cd.
    
    This change doesn't work and should not be part of blivet.

commit 0a53c9f1ad908e62a122aadc418db1984a011d7a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Sep 10 17:13:58 2014 -0700

    Add a release make target
    
    Sometimes it is useful to recreate the archive w/o tagging. Move the
    actual archive to its own target and add a new one named release to do
    the tag + archive

commit 76cdda0cccf0d7e93beaa340696454c4c453f050
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Sep 5 09:50:51 2014 +0200

    Prefer ID_SERIAL over ID_SERIAL_SHORT (#1138254)
    
    While there are devices that export multiple block devices with the same
    ID_SERIAL_SHORT (e.g. card readers) they use different ID_SERIAL values for
    those block devices. Using ID_SERIAL_SHORT instead of ID_SERIAL results in all
    the card reader's block devices being considered "obvious multipath devices"
    where multipathd lost the race condition game and didn't assemble them
    correctly. Which is terribly wrong.

commit 6fb64d463278424aeef6ff9d6942f92df01d78cd
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 20 11:14:45 2014 -0600

    Allow use of a single path if multipath activation fails. (#1054806)
    
    If multipath loses the race to claim the member disks and something
    like lvm activates devices on one of the members, allow direct use
    of that member and ignore the others. This allows configuration to
    continue, but without the benefits of multipath.

commit d0dfcda4fa0208bd22b83c3625793ff7fde3f39e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Sep 10 17:03:46 2014 -0700

    New version: 0.63

commit 190e4d9c4318f6049c9db7f4cd0b7be29b62d94b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Sep 10 16:49:31 2014 -0700

    Update makebumpver to include flags on first request
    
    python-bugzilla has been complaining that it needs to refresh the object
    because it didn't get the flags the first time. This switches to using
    .getbug instead of .query and adds the flags to the returned data for
    each bug.
    
    This also quiets down some logging from urllib3 that was making it hard
    to read the results of the bugzilla checks.

commit 3657f427ef2864ea4ab6541ca5fde4d3381e4ab3
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 8 13:09:49 2014 -0400

    Condense and comment some devicelibs.dasd methods (#1070115)
    
    Related: rhbz#1070115
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5db62f5845dcd9c926513b59f465386db10bd2fe
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 8 12:52:23 2014 -0400

    Add a test file for DASD handling (#1070115)
    
    Related: rhbz#1070115
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 86fabd557bfa8db6b892ccb193ca4c25369212de
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 8 11:57:06 2014 -0400

    Pylint inspired cleanup (#1070115)
    
    Related: rhbz#1070115
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c42a036f05550a7aa24e7b2617a364df70129c6a
Author: David Shea <dshea@redhat.com>
Date:   Tue Sep 9 11:38:30 2014 -0400

    Add a property for read-only devices.
    
    Add read-only devices to the devicetree, and return read-only devices as
    protected.

commit 34450b619bb9891fe3460a56b523a244ba5c5b81
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 8 08:00:15 2014 -0400

    Get rid of misleading comment (#1066721)
    
    Related: fed#1066721
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 333f098adf35762af256503b7de922758284adbd
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Aug 28 16:35:39 2014 +0200

    Allow user code creating free space snapshot
    
    Sometimes the user code (e.g. Anaconda) needs to snapshot available free space
    so that it can lately read it and calculate with it.
    
    Related: rhbz#1132436

commit 601010a242bf51d810600b3385d77a9399e40a30
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Sep 8 09:26:28 2014 -0400

    Add two functions to enable manual addition of ECKD DASDs.
    
    This just adds a couple of functions which aid in manually adding DASDs.
    sanitize_dasd_dev_input takes a device number as a string and verifies
    whether its format is acceptable as a match against DASD device numbers.
    
    online_dasd takes a device number as a string and fill remove the device
    from the ignore list and attempt to bring it online.

commit cfc77d64ddf28a8c978120b74cfe08c7bc31add1
Author: mulhern <amulhern@redhat.com>
Date:   Fri Aug 29 15:34:56 2014 -0400

    Make prefering leaves the default in getDeviceByPath (#1122081)
    
    Resolves: fed#1122081
    
    Preferring leaves was the default until commit
    822d92457e36768b9daa6a3ec689e494e9ba07df which deliberately but
    mistakenly reversed the preference.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7be0a17fe4d611e6fd4a6d794dfe9d2ee7e37dc1
Author: mulhern <amulhern@redhat.com>
Date:   Fri Aug 29 16:40:48 2014 -0400

    Make _filterDevices() return a generator consistently (#1122081)
    
    Related: fed#1122081
    
    Previously, it returned a list when incomplete was True and a
    generator when it was False.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4ea21ea9fa6bc0213ad5de0b164c00ffde4b5058
Author: mulhern <amulhern@redhat.com>
Date:   Tue Sep 2 08:06:18 2014 -0400

    Split string of symlinks into array of strings (#1136214)
    
    Resolves: fed#1136214
    
    pyudev library returns a string whereas blivet's pyudev library returned an
    array of string. Our udev code should persist in returning an array of
    strings.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2f70a8b3f69b465cffc841923aa1c3a9cd0a14ce
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Aug 28 18:00:33 2014 -0400

    Don't put "Linux" in a root's name if it's already there.
    
    Without this patch, we end up with strings like the following in anaconda's
    custom partitioning UI:  "Red Hat Enterprise Linux Server Linux 7.0".
    Just in case you didn't know what OS it was.

commit 7d8e498f6d54e3ca4b4512b297cd67068f37fde3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Aug 28 19:50:52 2014 -0700

    New version: 0.62

commit 204c8eeeef95c531563db14d87b114d9482b08ed
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 26 13:02:58 2014 -0500

    Mock pyudev since libudev will not be on the builders.

commit 56c13fdc5de422e177ea931003f7da02705c5717
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 31 12:14:04 2014 -0500

    Update selinux tests for default context of mounts under /tmp.
    
    Filesystems mounted under /tmp now have type unlabeled_t unless their
    context is reset after mounting.

commit 1e60c603321729c71895ac5dc19adc669cce4a72
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 30 17:12:58 2014 -0500

    Clean up mocking done by udev tests when finished.

commit 00b09867a3664f6dd989afa4dac246c1a19f360f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 30 17:12:47 2014 -0500

    Remove unused lvm and md activation code.
    
    This was used before we let systemd/udev set up storage for us.

commit 1637c5af02fb3ac7b144b9ec81b909ea0517b697
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 30 17:12:30 2014 -0500

    Bypass size getter when mocking new devices.
    
    The size getter gets the size from the partedDevice, which is not
    advisable while we're in the process of mocking the partedDevice.

commit 35a828fb8ab2fd608d12ddf44069a6c4c8bc384c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Aug 1 11:59:48 2014 -0500

    Simplify udev.device_get_uuid.
    
    md members never have MD_UUID set in the udev db.

commit bc9ae63e6378cee712a879b59836f8c119205e7d
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 31 14:43:33 2014 -0500

    Don't pass md array UUID as member format UUID.
    
    Related: rhbz#1070095

commit fd422e95b3dac646d941eaf244e838102a9574ce
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 30 16:21:42 2014 -0500

    Update md name when lookup relied on UUID.
    
    Related: rhbz#1090009

commit c90cfcb0f8ab6109a46eccbd46afc54619fbcc1d
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 28 13:04:25 2014 -0500

    Remove an obsolete block related to unpredictable md device names.
    
    The functionality this block originally provided should be covered by the
    UUID lookup we do in addUdevMDDevice.

commit 3b4e0d434c5c5a852a99ef17cde10eef08e02d84
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Aug 1 12:12:10 2014 -0500

    Get md member and array UUIDs for format ctor from udev.
    
    Since the data is in udev we can save the trouble of running mdadm -E
    here and this also saves us from having to cache the md metadata in the
    devicetree.

commit 60fe18476071457cc148e790b1e404c8e9aea7c4
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Aug 1 12:00:46 2014 -0500

    Look in udev data for md member UUID.
    
    Use data from mdadm -E if needed as a fallback.

commit c42209e72b42e009a355ce1eea40757ac9ed0de1
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 29 13:35:52 2014 -0500

    Remove some unused multipath-specific functions from blivet.udev.

commit 59110a8d804199bef6732b2d8cb51376402c878e
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 28 17:30:54 2014 -0500

    Adapt multipath detection code to external pyudev module.
    
    The main difference is that we can't write to pyudev.Device instances.

commit fd6d5ebf3f12d4cb2e82f848e6ce7d1c9a840efa
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 28 13:09:31 2014 -0500

    Keep lvm and md metadata separate from udev info.
    
    We can't inject data into pyudev.Device instances like we could when
    the udev db entries were plain dicts.

commit 8ff97169daa3fe529e4849e3431d9ec9147c2c20
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 25 10:05:34 2014 -0500

    Replace our pyudev with the package python-pyudev.
    
    There are two major differences in how we use the module. Each device
    is represented by a pyudev.Device instance, which is based on
    collections.abc.Mapping. That means we can no longer change the data
    to do things like set a "multipath_member" format type or inject LVM
    or MD metadata.
    
    The other difference is that sysfs paths now include the "/sys", which
    is great since it's always mounted in the same place.

commit 71ed5a697173b4e2d00f497c2b72b5888659819e
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 21 10:47:56 2014 -0400

    Add a bunch of tests for mdadd.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 21685a2d6e6f9bedbb92f2f14ac155fc95c626b8
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 29 07:54:11 2014 -0400

    Make has_redundancy() a method rather than a property and revise mdadd.
    
    Originally, has_redundancy was set to False for Container so that it
    could be a simple property. But this feels like a cheap trick, since
    whether or not a Container level has intrinsic redundancy is not
    a reasonable question. Now, raise an exception for Container.has_redundancy.
    
    Change calling code appropriately. making sure that the exception is not
    raised by that code and also that reasonably behavior occurs.
    
    mdadd revisions:
    
    1) LinearRAID mdadm call will fail if raid_devices is passed, so do not pass
    raid_devices.
    2) RAID0 mdadm call will fail if the the raid_devices number is not exactly
    right, so use mddetail to find the current value and increment that by one.
    
    Change calls accordingly.

commit 460a120fe71c8ebdd815410a711e5cc6a98e8edc
Author: mulhern <amulhern@redhat.com>
Date:   Mon Aug 4 09:29:23 2014 -0400

    Omit unnecessary class hierarchy related boilerplate.
    
    The setUp() method in the superclass is called regardless.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9c02e0a0cc770b3cf87a30d92cc15f68410093e5
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 24 08:00:17 2014 -0400

    Add a test for activation.

commit b255bf653e3fa5a942ceaa90c110527ce5833149
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 21 13:43:28 2014 -0400

    Add a test for mddetail on containers.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1b86915f6ecfbc7fca8c245fe69933f58f7021d2
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 21 10:49:44 2014 -0400

    Still attempt to destroy even if remove failed.

commit 625f16ebdbdbe24453988ba5a6cf3e5adadc669d
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jul 25 11:12:16 2014 -0400

    Use long messages for unittest errors.

commit 610d11c3eb4c20d4d493c3a4eceb1139ce029323
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 24 13:19:54 2014 -0400

    Fix mdnominate error message.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a4e8586f385712acaeea0fa5a4fdac9932e71c69
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Aug 1 11:54:08 2014 +0200

    Cosmetic changes for the swapSuggestion function
    
    Fix disk_space parameter's type documentation and add some spaces where we'd
    expect them.

commit da2a58a13f838e369234764d2acdb38150566dc3
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 31 10:44:51 2014 -0400

    Break once metadata value is found.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8da00afdd41fa16c02f3a99899c87c0d8d5db74a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jul 30 10:16:38 2014 +0200

    Fix issues reported by pyflakes
    
    Unused imports and variables.

commit da310c6cbdff771087f834aa8311435d2779c5f9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jul 31 15:48:45 2014 +0200

    Remove tests for the sanityCheck
    
    The code is no longer in the blivet's codebase.

commit 2e15c24addd88ac8eab25ac2667ac4db5324ae00
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jul 30 11:45:51 2014 +0200

    Move _verifyLUKSDevicesHaveKey and its exception to anaconda
    
    They are only used by sanity check that has been moved to anaconda's codebase.

commit 36d49b465cae0214be41006eeb6619ae072540f7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jul 28 21:59:09 2014 +0200

    Remove sanityCheck functions from blivet sources
    
    This code is installer-specific and should thus live in the installer's
    codebase.

commit 9138a8278a7df5f231da2b2839e89b624b754659
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 18 11:11:16 2014 +0200

    Remove an unused closure function

commit 5987edda9d71733074b0790bbdb982a9e6e9e83b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 18 10:07:35 2014 +0200

    Remove two methods that are never called
    
    These two methods are never called and including them just for documentation
    doesn't make much sense. They should live in the documentation if they are just
    for documentation purposes.

commit 0690d0201e61dd68d39068cbf09ded6ae399423b
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 21 14:02:20 2014 -0500

    Add some tests for blivet.partitioning.addPartition.

commit 62d8632a67cab1145361d5967e84e517eb5427a0
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 18 16:19:43 2014 -0500

    Add a couple of tests for blivet.partitioning.DiskChunk.

commit 19a53f8bbda0c8f473b19585329ec4b68553561a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 18 16:12:36 2014 -0500

    Add a DiskFile class for testing partitioning code as a non-root user.
    
    There seems to be some special treatment from parted (first free sector
    is reported as 32) but the main purpose is to test partitioning code
    without committing the changes to disk. It may be perfectly viable to
    commit to these devices, but I haven't tried it yet. My intention is to
    write unit tests for things like partition allocation -- which require
    parted Device and Disk instances -- without requiring root access.

commit d394eacb0472a6173fb486712caf18c80fd4c5fd
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 18 16:08:57 2014 -0500

    Add a contextmanager to create and remove sparse tempfiles.
    
    with sparsetmpfile("mytest", Size("100 MiB")) as path:
      do_stuff(fn=path)
    
    It creates a sparse temporary file with the specified size and yields its
    full path on __enter__, then unlinks the file on __exit__.

commit 5f708cd3bc4d56f4c3673b405f9aafad4541811a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 23 11:49:47 2014 -0500

    Fix sphinx formatting of code blocks in devicefactory docstrings.

commit fdaea3706290b510ca9419deb9816cee56adaf4e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 23 13:40:11 2014 -0500

    Mock selinux when building docs.

commit b86472befecb48324641720af7e3e639ac2152e4
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 24 17:25:26 2014 -0500

    Include doc files when installing on readthedocs.

commit 6b2a7a0305987e773b430b5bffec2f21b0dab8c4
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jul 21 08:29:03 2014 -0700

    _maxLabelChars is no longer used by anything

commit 08f139b884c58693c40f91810c1064eb88a54dd5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jul 21 09:01:34 2014 -0700

    tests: Add tests for HFSPlus labels (#821201)

commit 45b1e921346c2a550207599f2343cb574b115cc2
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 18 15:43:48 2014 -0700

    Write a fs label for HFS+ ESP (#821201)
    
    Now that we have the ability to set the filesystem label, take advantage
    of it to set the HFS+ ESP label to "Linux HFS+ ESP" so that it matches
    the partition name and will show up in the OSX file browser.

commit c16c55eb22ed2f7a8f95916928ee3f0779720620
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 17 12:55:37 2014 -0500

    Mock non-standard modules so we can generate API docs on readthedocs.
    
    The problem is/was that missing non-standard python modules prevent any
    import of blivet, which prevents sphinx from generating API docs.
    readthedocs' builders could probably handle installing pykickstart
    directly from git using pip, but they cannot handle installing modules
    built from C code, which includes pyparted, pyblock, and pycryptsetup.

commit 97fe1bb4d03c20df19bd0b69e98559b9f6627a2d
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 15 08:40:30 2014 -0400

    Split mdadd into separate functions.
    
    Incremental mode is really considerably different from add mode.
    
    For one thing, it may cause the array to be started if it was not already,
    based on the number of devices in the array and the number that ought
    to be in the array.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4aecdb7ef4fd56fceb69f44a4b3d4c0056c9f479
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 14 09:28:35 2014 -0400

    Refactor mdraid tests.
    
    Also, add some mddetail test cases and extend tests for mdremove and mdadd.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cf2890ed779e96f00d513509795c1ff3138e1139
Author: mulhern <amulhern@redhat.com>
Date:   Fri Feb 7 15:34:44 2014 -0500

    Add a method to extract information about an mdraid array
    
    mdadm --detail can give useful information about the number of spare devices
    and other things that mdadm --examine can not. According to the man page
    --examine applies to devices which are components of an array, while --detail
    applies to a whole array which is currently active.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 35ce51b24fab8acccde323a1f96bbf39066776b3
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 16 08:45:35 2014 -0400

    Extend mdadm() to capture output
    
    Use it in mdexamine()
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8bdd8785b53384ee17ac6cf4452c975abdd5b99f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 16 09:16:32 2014 -0400

    Be more robust in the face of possible changes to mdadm's UUIDs.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6fcb55d69941cea69030549f9c7149ee1ffca253
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 14 08:47:21 2014 -0400

    Factor canonicalize_UUID() into separate method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 497d4b6c25ce0afa58d9f8095389f5f1aa8d9b2b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 16 09:15:42 2014 -0400

    Add a docstring to mdraid.mdexamine
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dbbe51d3cc28eb89ff2c9b7060ef948d44ae552c
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 16 11:11:35 2014 -0400

    Remove DeviceFormat.probe() method
    
    These functions haven't been changed since the split from anaconda and they
    weren't in use then.
    I expect that their use was replace by udev/pyudev, etc.
    MDRaidMember.probe() would raise a KeyError if it were ever run,
    since mdexamine() result has no 'uuid' value.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c5873893846c67458d556bf9c906482c30fdf9b3
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 16 10:06:43 2014 -0400

    Remove all references to mdMinor in current code base.
    
    It seems to have become obsolete a while ago and it does not
    seem to be a value that can be obtained from mdexamine.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a71a70d4f4f78e308136621255316d878033e29f
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 14 15:22:36 2014 -0400

    Generalize the error message for the array level
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5d3ec8a0663557c2793bbc9b958fa8415bf1bbc0
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 14 16:17:07 2014 -0400

    Use super() instead of explicit parent name
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5f95240fac449d17856907dbe4917588cec7eac5
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 15 14:00:04 2014 -0400

    Remove commented out import.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 47492bc84de3172f5880f170f75f83fcb02d2bc9
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 14 18:53:19 2014 -0400

    Make docstring more precise.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9f78ed14cff6f3a12b53afb20e31af35b7a3cf01
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Tue Jul 15 10:29:24 2014 +0200

    Minor fix of a docstring.

commit fc2415ee0cdf45f0d0438057a775e0150302f833
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jul 11 09:33:43 2014 -0400

    Get rid of partedFlags field.
    
    It is unused, and it looks like its last use was removed in anaconda commit
    b6427940cfd2de348e70f86d729e1812a46d45e5.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9e9587bb9da9f06b6fd470d0498ff38d72655298
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 11 18:06:16 2014 -0700

    New version: 0.61

commit 6a269fcaeb81f10dc4eb2f52b6c75e6fce0d534a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 11 17:41:42 2014 -0700

    Fix conf.py version bumping

commit cf3bab64900207e34363af094f5ca55adaf7f462
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 27 12:14:42 2014 -0500

    Add some tests for Chunk and Request class hierarchy.

commit 3c5cf5688b144e73d773e4271166d660c9039b1f
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 20 15:14:28 2014 -0500

    Honor the skip list when allocating leftover sectors.
    
    The skip list was honored in the main share-based allocation loop, but
    not in the secondary loop that allocates the leftovers.

commit bad626dcee34ff5d86a7cff7bf47d3876822c379
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 20 15:13:38 2014 -0500

    A Chunk is done growing when its pool is empty.

commit 62b1794345eda94d6d8e58948a1e7cdf5d93154b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 20 15:08:21 2014 -0500

    Don't use integer division to calculate a fraction.

commit f768110b17b9faeb2d56f3df5715c76c12be64dc
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 27 17:16:41 2014 -0500

    Bump version in sphinx config from scripts/makebumpver.

commit 3b84f2d07ab9f3f9eb3581ae661e527b8be76110
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 7 12:06:11 2014 -0500

    Remove spec= from Size usage in intro.rst.

commit 250ca58da69765f186ca6c6e10774ac544bd4c8c
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 24 09:55:48 2014 -0400

    Attempt to reset the uuid of the mdraid member device (#1070095)
    
    Resolves: rhbz#1070095
    
    Note that this information is only available for metadata versions > 0.90.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1985ac83d4eaea1f1e249b112d3821e15c31d985
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 2 16:24:33 2014 -0400

    Add new method udev.device_get_md_device_uuid() method (#1070095)
    
    Related: rhbz#1070095
    
    Note that the value is only obtained from mdadm and only if recent
    metadata version is used.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f62cd2cb82ce46a34f1b6092a5a4d1a22458c665
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 24 08:43:53 2014 -0400

    Canonicalize mdadm generated UUIDS (#1070095)
    
    Related: rhbz#1070095
    
    Examined alternatives are:
    1) To make use of the uuid.UUID class to store uuids. The difficulty
    with this idea is that some things that are labeled uuids are not proper
    uuids at all.
    2) To make the udev_info dict more object oriented, and have it sanitize
    uuids when they are added. A lot of work for very limited benefit.
    3) To canonicalize uuids everytime they are extracted from the info.
    Brittle, since you can't stop code from accessing the entries directly,
    and annoyingly inefficient.
    
    This alternative is pretty simple, and to a certain extent it's a
    workaround for a bug in mdadm, so it wins.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1c0c4e4ead78536e2eca7a1ca4bba55f0de328bd
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 3 09:54:56 2014 -0400

    Add a udev.device_get_md_metadata() method to udev and use it.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit eaa73706bc0b24d264765d6d6d98be5c823e16ae
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 2 17:21:08 2014 -0400

    Change use of METADATA to MD_METADATA.
    
    Remove useless access before loop and add an explanatory comment.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b48cb64b8bd610c339bcc36ab550337fd5ef4957
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 3 10:16:34 2014 -0400

    Check for md_level of None
    
    udev_device_get_md_level() does not raise a KeyError, it returns None.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b8901858904b09b0f5f1f63f4f035a75e9edecd3
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 1 16:36:16 2014 -0400

    Do not convert the result of udev.device_get_md_devices() to int.
    
    udev.device_get_md_devices() does the conversion.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4c3fc25ce98d2053273ff4b0e05a576b78c9fd09
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 2 16:23:44 2014 -0400

    Add documentation to udev.device_get_md_*() methods.
    
    The inline comments indicate the likely origin of the value.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 16984f19659510d1111bb91186ecf4720185c3cd
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 3 09:41:23 2014 -0400

    Document udev.device_get_uuid() method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 365746a51b080b2233fe714952fd1a0051315c6d
Author: mulhern <amulhern@redhat.com>
Date:   Wed Feb 26 17:46:27 2014 -0500

    Add a few small tests for mdexamine
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 47a40f90092763cef0958a5e7e749537a628e512
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 3 10:14:58 2014 -0400

    Add test for raid level descriptor None.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ee22d59d317c655a88596069c9d42e0e3e58e47a
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 7 12:57:20 2014 -0400

    Use context manager with assertRaises*() tests.
    
    Equivalent expressions that use a context manager are a lot easier to parse.

commit 7d0fc7ba5f029978ca228c30f170d548375f6091
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 7 12:44:33 2014 -0400

    Change uuid parameter to array_uuid
    
    Motivation is to avoid name conflict with uuid import, but new name
    is a bit more descriptive.
    Improve method docstring a bit as well.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 96b32a88adbe70934c744aaf09178fad107610e6
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 7 16:26:06 2014 -0400

    Remove udev_ prefix from udev methods.
    
    The udev namespace identifies the methods adequately.
    Update method calls appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d19360519db7e617f2f1101fe4093e7de55788b0
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 7 17:38:06 2014 -0400

    Remove all references to DeviceFormat.majorminor
    
    And remove a bit of related code as well. Last uses of majorminor were
    removed in anaconda commit d819bb940717270f4c5747e894ef0c5ac509dfe2.
    majorminor was originally added in commit
    2875d2009f30f52b79f6f7d15916f73b490bc635.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1f0b4da154d031d846597cb4c83e65c50477e1b6
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 8 09:31:44 2014 -0400

    Use add_metaclass instead of with_metaclass.
    
    with_metaclass hides descent from object from pylint analyses and leads
    to tons of messages arising from the analysis' belief that it is dealing
    with old-style classes.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 30ce4aaceed19ea434249c3eabaf8c7c0ba40f4c
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 7 18:42:10 2014 -0400

    Disable redefined-builtin warning.
    
    All redefinitions are python 2/3 compatibility redefinitions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 74dbec50af007f85e2989195e3163cff22c82ca7
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 8 09:05:29 2014 -0400

    Use range instead of xrange in generateBackupPassphrase()
    
    There is no real gain to using xrange in Python 2 and in Python 3 range is
    a generator anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 68771252aa5024036066642cd91199fdd5ef5734
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 8 08:38:42 2014 -0400

    Add a simple test of generateBackupPassphrase() result format
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fbc37f5099fd715cfdd8345811facc06b763a61c
Author: Robert Kuska <rkuska@redhat.com>
Date:   Thu Jun 26 10:32:35 2014 +0200

    Python3 compatibility

commit 2964cf8bd5268900ec2580c26e712e59929a43d0
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jul 2 17:39:26 2014 -0700

    Replace python-setuptools-devel BR with python-setuptools

commit 9386d6209d51dcf18895120859da013024d6ece9
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jul 2 17:35:23 2014 -0700

    New version: 0.60

commit 16fa1e68e66cb820e28b43472ec5c5b142a2c9da
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jun 20 14:36:08 2014 -0400

    Do not use udev info to get the name of the device.
    
    This name is only used in the warning, and device.name seems like a better
    choice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ec17281124b9c7b602245ae31a7ba3a615db39ee
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 23 16:07:29 2014 -0400

    Remove unnecessary fanciness about importing devices.
    
    The name will go away when the function is exited, it does not
    need to be explicitly deleted.
    The name does not conflict with any other names in the method, to which
    it is local.
    There are no global 'devices'.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3d0e6e4a83bf8c2fae8696513d4222875b4501c7
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 1 12:36:00 2014 -0400

    Disable some pylint warnings that arise due to anaconda versions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 219da5db765000b6b37df952eec19d35f92bbd1b
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 24 14:59:50 2014 -0400

    Allow RAID1 on EFI (#788313)
    
    Related: rhbz#788313
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 33b5f6434ab02e39d01f26d5bfaec2de238f86a2
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 26 17:21:57 2014 -0700

    New version: 0.59

commit f3ff0a62b029525c83253b07800edaf2868c67cd
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jun 26 16:22:22 2014 -0400

    When logging, indicate whether exception was ignored by blivet.
    
    Other tools examine the log to determine if there was a failure. The
    IGNORED flag indicates that, while there was a traceback, blivet felt
    able to ignore it, and so the tools should not treat the existance of this
    traceback as a sign of failure.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit be156e3ddd87f5059966aedb0eb08f07591e1462
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jun 25 16:56:49 2014 -0700

    New version: 0.58

commit 9fb8ed558c18843a392eab4135df386ccedbbc5b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jun 25 10:30:44 2014 -0700

    Only import ROOT_PATH if needed
    
    Anaconda is going to drop ROOT_PATH, only try to import it if there is
    no getTargetPhysicalRoot method available.

commit e2289fa9af2672322ebcf84da9b06733f9ed60aa
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jun 24 15:56:53 2014 -0700

    Add early keyword to setUpBootLoader (#1086811)
    
    Anaconda custom partitioning needs to call setUpBootLoader but at that
    point the stage1_device setup would fail, so add a flag to skip it so
    that stage1_drive gets setup without an error being raised.

commit 5fac6ea7fbea7c78223bc534c05aa25ebddfe249
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 5 11:00:01 2014 -0500

    Only log a warning about labeling if something is wrong (#1075136)
    
    Resolves: rhbz#1075136
    
    If do_labeling is False, then we are not choosing to set a label during
    filesystem creation. Probably we are deferring setting a label until
    after the filesystem has been created.
    If self.label is None then we are accepting the filesystem default label,
    and not setting any label.
    
    So, we only log a warning if setting a label is what ought to happen but we
    don't want to risk it because it looks like the label format is not accepted
    by this filesystem and that therefore, specifying the label arguments may cause
    failure at filesystem creation.
    
    Note: Some filesystem creation apps will truncate a label that is just too
    long but others will fail instead. We do not want to distinguish
    among filesystems based on this behavior.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 54d9d80fdf1979779973b42b7e4b5731ce93e77e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jun 18 12:58:04 2014 -0400

    When adding an md array, allow adding incomplete arrays (#1090009)
    
    Related: rhbz#1090009
    
    This choice is made conditional on the allow_degraded_mdraid flag.
    
    The reasoning is that a degraded array may still be usable, even if it
    has lost its extra disks.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit db7ac527b05fdd70657943f3d72678dc3d62675a
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 15 16:27:59 2014 -0400

    Add a flag to control whether a degraded md raid array is used (#1090009)
    
    A degraded md raid array may still have enough disks to function.
    The flag is set to True by default. Wrt. to the installer, it is generally
    False, since installing to a degraded array is a bit reckless, but True
    if the installer is in rescue mode, where it is desirable to locate as
    many devices as possible.
    
    Related: rhbz#1090009
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 822d92457e36768b9daa6a3ec689e494e9ba07df
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 17 16:43:31 2014 -0400

    Remove preferLeaves parameter from getDeviceByPath()
    
    The only use of this parameter was removed in anaconda commit
    8eb4f8f82ace112e7f216b6e70633a3549949187 (Wed Aug 8 09:58:51 2012).
    It was added in anaconda commit 718622ed2b54979b09712c10bc94fd86f6ea81e8
    (Mon Nov 21 09:50:25 2011 -0600).
    
    This is a semantic change, the new version returns the first match it finds,
    whereas the old version prefers a non-leaf match by default.
    However, the list of devices is searched in order, and the list is generally
    ordered with leaves at the end of the list, so a non-leaf device will generally
    be found first.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d49ca015b22c18c05ded0d8ecb9ca5688cfe50f1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 9 17:20:41 2014 -0400

    Factor out commonalities among getDevice[s|]By* methods.
    
    Log each and every method call and return.
    Make all getDevice[s|]By* methods respect incomplete and hidden parameters.
    Add checks for the existance of the value to match by in some methods
    where none such existed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 025bfff3c478da3e4a8830322e63cb58d325d94f
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jun 13 17:36:59 2014 -0400

    Omit special check for md devices in addUdevDevice().
    
    If the device appears to be an md device, just call addUdevMDDevice directly.
    
    Use udev_device_get_md_uuid() to get the mduuid of the array, but catch
    a key error. This has the same effect as the previous code, but is a bit
    more proper, even if more wordy.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7f891abbad830e2346053380ead3f8e08df67c70
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jun 13 17:20:43 2014 -0400

    Remove unused 'slaves' variable.
    
    It is initialized and modified, but never actually used.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a77bf8995b4673696bf9ba539727e6d3ad38ff73
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jun 13 16:56:32 2014 -0400

    Move down or remove assignment to device in add* methods.
    
    The assignment at the top of the method is distracting, because it looks
    like the value is relevant throughout the method when it is only relevant
    at the end. In some cases, the assignment value is never used.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cc415ff3b6d725edcf01b1923d43d2745ea177ab
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 17 08:42:36 2014 -0400

    Move DevicelibsTestCase up to the top level of the testing directory.
    
    It is used by formats_test tests as well as tests in devicelibs_test.
    Change all uses appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0eccc709b3678cc20a6503283f935b92fd4493a1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 17:20:40 2014 -0400

    Accept None for btrfs raid levels (#1109195)
    
    Resolves: fed#1109195
    
    None means None was assigned, so accept any default that, e.g., mkfs.btrfs
    decides on. This default is hard to predict, as it may vary with the size of
    the backing device as well as other factors.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c7b7ce8e2a0c00ab2e0f8420d5b426a85415fe02
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 16:19:33 2014 -0400

    Add a test for a btrfs error associated with small devices (#1109195)
    
    Related: fed#1109195
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 03f01c98b06819635a6d340615fc95210188d36e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 19 16:52:24 2014 -0700

    New version: 0.57

commit acdc286b10f4be4f0109c1ba4746f9777bd5d151
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 13:18:00 2014 -0400

    Make DevicelibsTestCase devices configurable.
    
    Allow choosing size of backing file. Do not use the path of the backing
    file in all subclasses in previous strange way, since it is irrelevant
    to all the subclasses, and only relevant to DevicelibsTestCase which has
    to do the necessary cleanup. Use a new attribute, loopDevices, to store
    the actual loopDevices, which are what is required by the subclasses.
    Fix up the subclasses to use this attribute appropriately. Change directory
    of backing file to /var/tmp instead of /tmp.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c9b4a044c89377f70ce52c22c63473ac19f50b20
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 12:40:52 2014 -0400

    Use correct parameters in __init__() in subclasses of unittest.TestCase.
    
    Can get away with using *args, **kwargs, but it is not helpful.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 537aa6da540dac8838c1315bd90feb04646b6575
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 11:54:28 2014 -0400

    Add num_blocks parameter to makeLoopDev().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9a907a2b60401f28cadfd92df54956bb48054e15
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 07:49:10 2014 -0400

    Move skipUnless decorator to the top level class of skipped classes.
    
    Simpler than to distribute the decorator uses all over the base classes.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 772f981cb20b25a2fd904ce3bb4a775f135f0d21
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 11:42:55 2014 -0400

    Explicitly accept a string as well as a RAIDLevel object.
    
    This aligns this choice with the equivalent for mdraid.mdcreate.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0548b4f7f8296f1e83408ed0ec42a15243f4d9de
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 17:20:08 2014 -0400

    Update BTRFS initializer comments for level type.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit de5e3c68e833e040a7d7f804a9170c834b133ed4
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 18:22:46 2014 -0400

    Remove some extra imports.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 20a6fedcd1490fbfa55e304196fb54b06337450d
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jun 18 15:23:11 2014 -0700

    Add method to set the default disklabel (#1078537)
    
    platform.setDefaultDiskLabel(label) will move the disklabel to the front
    of the list if it is supported on the current platform and return True.
    If it isn't supported it will return False and leave the list as is.

commit 045f606dfa8fa319e7273b910b2bf73300fd092a
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Jun 11 14:42:53 2014 +0200

    Do not try to activate dmraid sets if the dmraid usage flag is false

commit c1001380437d98d1cdf8afaf7486b59fbbe1e587
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Jun 11 15:58:54 2014 +0200

    Use the value of the Anaconda dmraid flag to set the Blivet dmraid flag

commit 4d5ae4e7ffaeb669b3e95ae6e4a1449fc9251108
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Jun 11 11:47:06 2014 +0200

    Use the value of the Anaconda ibft flag to set the Blivet ibft flag
    
    Previously the Anaconda ibft flag has been ignored by Blivet,
    now it is respected, which makes it possible to for example disable
    ibft by passing the noibft option to Anaconda during the installation.

commit a0493cacb9c55c040c5b226394d4d053a701edbb
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 10 17:06:34 2014 -0400

    Ignore _build directory in doc directory.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 62ea6aa4bc40c60c2fd8737ab5a6eda2afd952d9
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 10 17:01:54 2014 -0400

    Change intersphinx mapping to avoid linkcheck redirect errors.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fed53d969af0eddaeeca58cdf3e40916497aa305
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 09:05:24 2014 -0400

    Remove doctest target from Makefile.
    
    Actually running any code that occurs in the comments does not appear to be
    all that desirable.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1b40c333adfd510d2de4b4d0d2e7e26e4c3b02ba
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 10 12:33:33 2014 -0400

    Allow the table of contents to go one level deeper.
    
    This gives a better hint of what lies beneath and does not take up too much
    screen space.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3365bd8d4508228c2e4f91195cae3c1db485c5f6
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 10 12:28:29 2014 -0400

    Automate generation of the .rst files which just set up the modules.
    
    Since these .rst files were added a couple of files have moved or been
    added and these .rst files should have been updated, but weren't. Now
    they'll be updated automatically, and they won't be in the repository.
    
    This isn't fully automatic, but the step of removing these particular *.rst
    files is in the correct direction.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8e38b176fb5d2a73b39250f0a62f3af7933e8f43
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 12 18:19:07 2014 -0700

    New version: 0.56

commit 67c8140b1c8c210afa2847b9a90866b89982c2f7
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 11 15:18:06 2014 -0500

    Skip device name validation for some device types.
    
    Partition and loop devices' names are set by parted or losetup, so there's
    no need to validate the symbolic names blivet uses. Similarly, btrfs volume
    names are only used within blivet so there is no need to validate them.

commit c5e1990ee8c90f7efb81ec913142c11e8ecabe91
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 29 14:34:03 2014 -0500

    Add a property indicating whether a device is directly accessible.
    
    Directly accessible means there are no layers of abstraction/indirection
    between the device and a user. An example of a non-direct device is an LVM
    PV that is part of a VG. An example of a direct device is a partition that
    contains swap space.
    
    It used to be the case that direct was equivalent to isleaf, but no more.
    Actual leaf devices, all btrfs subvolumes (including the top-level), and
    snapshot source/origin devices can all be accessed directly by users.

commit a8725303df7e8c0d37d8902c21204960a1f53fb8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 29 14:33:19 2014 -0500

    Add support for read-only btrfs snapshots.

commit 0293a4ac79d8590f35590cf1f76f2f10366bb664
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 16 11:18:41 2014 -0500

    Add tests for snapshots.

commit 2faaf8076dcdf54602be42df58c37ba58fbd857c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 27 12:21:32 2014 -0500

    Special treatment for getting parted device for old-style lvm snapshots.
    
    The device at the obvious path shows the same size as the origin, which
    is not necessarily the size of the snapshot. This special device with
    "-cow" appended to it seems to show the correct size.

commit 48e91aa1e79300445fe0465ea68ea5047a947f21
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 21 13:39:57 2014 -0500

    Some devices have immutable formatting.
    
    It is not a good idea to try to reformat a snapshot or a btrfs subvolume.

commit 854a4a9c419152a250c6083c6bd2767d9f2d5be5
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 14:12:55 2014 -0500

    Detect existing btrfs snapshots.

commit 61f7714de27f4c80c0f0e350e2589c056ea7b998
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 21 12:04:57 2014 -0500

    Drop special accounting for snapshot space usage in VG.
    
    Snapshots are now represented by devices, so the space accounting is
    handled the same as for other LVs.

commit 4a53e862f0a6cfeea6bf665c62d64fa7d447692a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 16:21:09 2014 -0500

    Use LVMSnapshotDevice when populating the devicetree.

commit bdb6ee1e5d1978b3e0bbe3111690bc17653238c1
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 16:20:40 2014 -0500

    Add Device classes for snapshots.

commit 5fe4bf69a5ba924bb8a60c6cc95767dbf1c042b9
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 21 13:03:52 2014 -0500

    Add ignore_skip keyword arg to lvactivate.
    
    Thin snapshots are marked to be skipped at activation time by default, so
    this extra argument is required to activate them.

commit 1429883c5c3c9b7fbc6d912c42a5166cdcf3abc8
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 27 12:14:09 2014 -0500

    Add optional kwarg to force removal of a logical volume.
    
    Old-style snapshots and their origins are always activated and deactivated
    together, which makes it impossible to directly manipulate the status of
    such snapshots. This can lead to lvm asking if you're sure you want to
    remove an active snapshot which, of course, you are.

commit e440bfc9e622807111c3bba1b3bfba7ab4523081
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 16:19:48 2014 -0500

    Add backend functions for creating and managing snapshots.

commit 313d69fe3c86402aac37733ed58cae23af616a11
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 21 13:10:42 2014 -0500

    Add docstrings for BTRFSVolumeDevice and BTRFSSubVolumeDevice.

commit e48a30e137db9e4456b3287887ced73064945789
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 27 12:13:36 2014 -0500

    Remove duplicate portion of lvm config string.

commit 82633ca20a07522b2261aa5062ae611aa84e7cab
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 27 12:12:29 2014 -0500

    Reset the devicetree before tearing everything down in _cleanUp.

commit a5241f493875ae6f88f1b84e178653014c303585
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 27 12:11:28 2014 -0500

    Make sure disk filters are applied even if populate fails.

commit 983b851de6aa3517238a2e10caed247ad8082790
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 9 08:30:50 2014 +0200

    Sync the spec file with downstream
    
    Some noise has been added due to the mass rebuild.

commit 4fcd05a6e1f92c39cf0fdda5ffd4c87c3d279da0
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jun 6 10:22:03 2014 +0200

    New version: 0.55

commit edfc0d34995ee13a7a903988eaf793fd74556edc
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Thu May 29 15:04:52 2014 -0500

    IPSeriesPPC now supports GPT in Open Firmware
    
    IBM PowerPC's Open Firmware now supports GPT partitioning.

commit 465d655e3019087cadc375b337d090279d1a2a0b
Author: David Shea <dshea@redhat.com>
Date:   Wed Jun 4 13:00:33 2014 -0400

    Fix device name validation for devices that can contain / (#1103751)
    
    In addition to FileDevice and its subclasses, allow / in name for
    NFSDevice, BTRFSSubVolumeDevice, and any StorageDevice trying to create
    a name starting with 'cciss/'.

commit 58462d0fe7ea56782fd7f98817e8a5cae8c0eedb
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 2 12:11:53 2014 -0400

    Add a getRaidLevel() convenience method to raid.py
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e2f05d7699e232b756663b3b700287c728d2dc9a
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 29 18:54:46 2014 -0400

    Make a StorageDevice.raw_device property and use it where appropriate
    
    Only allow a "NoneType has no attribute <x>" exception where it would
    be allowed by the code that it replaces anyway. Otherwise, check for
    existance of device before accessing its raw_device property.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8ffb0abde776b1bd8cb8f7be15f754a50a7feb03
Author: mulhern <amulhern@redhat.com>
Date:   Wed May 21 07:52:42 2014 -0400

    Simplify a small chunk of Blivet.updateKSData()

commit 62370a8276e24d3cb444405824c6e6ff52caf065
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 29 12:37:44 2014 -0400

    Move the code for getting a space requirement from devicefactory to raid.
    
    In devicelibs/raid.py make a new function called get_space which estimates
    the space required for data and metadata. Make a few auxiliary functions.
    
    mdraid now requires that its RAIDLevel objects supply get_space, rather
    than get_base_member_size (which only made sense for RAIDLevel objects for
    which uniform is True).
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4c4921a9c446c6f7bc52b980168bf9e86b1094d3
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 6 11:55:55 2014 -0400

    Make all devicefactory classes uses RAID objects instead of strings.
    
    Also, since LinearRAID now exists, do not have to special case 'single',
    do not have to special case it in DeviceFactory.configure().
    
    Add a constructor for MDFactory that raises an error if there is no raid level
    specified.
    
    Fix up associated tests.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0fe55a1a84bc77d8750fb2f44c4bfe941be94563
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 30 11:02:01 2014 -0400

    Remove devicefactory.get_raid_level from blivet
    
    It's really about the anaconda GUI, so that's where it should go.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit db5f3a71d2d5ae6d3b888a24aab52bac88519948
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 30 11:07:03 2014 -0400

    Put get_supported_raid_levels in devicefactory.py
    
    Change return type to a set of RAIDLevel objects.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2cb79f3d2fff0617cdfac322630d1e320b0736a3
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 6 11:45:45 2014 -0400

    Make BTRFS devices use RAID objects instead of strings for levels
    
    Update some comments on btrfs.create_volume() to match.
    
    Also, refine BTRFSVolumeDevice._removeParent() method.
    There is a change in behavior, if there is any RAIDlevel then the minimum
    number of parents can never be less than 1. Previously, in the case of
    single raid, it could be 0.
    
    Make a separate list for btrfs's notion of a metadata RAID level.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 92fe5313b565896c0aebc51bc7f0b6061273dab6
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 2 14:48:00 2014 -0400

    Add lists of supported RAID levels for btrfs and lvm
    
    Update raid level code in BTRFSDevice appropriately so that it no longer
    get raid.RAIDLevels(), instead gets the list of BTRFS supported RAID levels.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a1cd41139d533c528155be0bfe92fa72e7ff86f1
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 27 12:34:30 2014 -0400

    Add "linear" to mdraid's list of supported raid levels.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cd2bbb81f592f44ccca19747b1e4145b3f97c756
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 15:57:41 2014 -0400

    Remove getRaidLevel() from mdraid file and make RAID_levels public
    
    devicelibs.btrfs and devicelibs.lvm will be the same. Keeping getRaidLevel()
    will just require making copies of it for each of these, in order to remain
    consistent.
    
    Update some tests as appropriate, where RaidError is thrown instead of
    MDRaidError.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 01dd56b3c6b9c019d1a5db7a0a5a1da608ce3ed6
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 15:43:41 2014 -0400

    Check for required methods in MDRaidLevels.isRaidLevel.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2562a576d2ff3b0173a7ed7e1a6982bf8b681a95
Author: mulhern <amulhern@redhat.com>
Date:   Sat May 17 10:25:19 2014 -0400

    Use has_redundancy property to decide how to add a member to an array.
    
    Better than using explicit names.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 36222515a5564942e4cb84c06ef38d432dfad91a
Author: mulhern <amulhern@redhat.com>
Date:   Sat May 17 10:23:39 2014 -0400

    Update the mdraid.mdadd comments
    
    They were restricted to be about the raid levels that were supported when
    the comment was first written.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f9f537a491d87fea835fda2c1bf39ccf9a34db83
Author: mulhern <amulhern@redhat.com>
Date:   Sat May 17 09:26:42 2014 -0400

    Use has_redundancy raid property when checking whether a device is removable
    
    There is a semantic change here, an error will be raised in the case of
    every non-redundant raid, which in this case includes "container" as well
    as "raid0".
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4513a7a5571724bc513c64fc463fdbc6a512a168
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 13 16:03:10 2014 -0400

    Make createBitmap() a property and update tests appropriately.
    
    createBitmap() seems to be a simple function of the device properties.
    All of these properties are relevant when its value is used in calling
    mdcreate(), so they should all be taken into account at that time.

commit aae1b64238a0269b4e965a2f948c4b762afbb047
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 27 11:20:45 2014 -0400

    Add a Dup class to the various descendants of RAIDLevel.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit afdfd5bf8a8aaf0b5957b1ac0e8f80293a3e45fe
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 20 13:18:32 2014 -0400

    Add an is_uniform property to the RAID levels.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2f63f390da694a44a1b3c82902414812d1dca693
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 16 15:30:03 2014 -0400

    Add a has_redundancy method that returns True if there is actual redundancy
    
    Some RAID levels, e.g., 0, don't actually have any redundancy.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3dbcdf84d169a7b990460df07bd7e1fb28166855
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 16:06:25 2014 -0400

    Add Linear and Single to the RAID classes.
    
    Let them share an abstract super-class with an implementation, they just
    handle the names.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e7f4b820bf9339e1a863a27a46178beb56ac71bd
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 15:00:04 2014 -0400

    Move Container class to raid package and tidy it up
    
    Remove dead attribute nick and get_raw_array_size which is really
    only appropriate for RAIDn classes and was renamed to get_net_array_size
    in a previous commit.
    
    Make Container.get_recommended_stride() raise an exception as the
    notion of a recommended stride is meaningless for containers.
    Do not catch the exception because if there's a situation where a Container
    is being formatted, the only reason why get_recommended_stride() would be
    called, something has gone wrong.
    
    Add get_max_spares() and get_base_member_size() which both raise an exception.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4de58bda1957537c3bbd8ba500772405d062f04e
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 2 12:58:52 2014 -0400

    Allow the RAID object itself to be a valid RAID descriptor for lookup.
    
    Update tests accordingly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6c5813022c252dc79231b96c72f83df3115d57e0
Author: mulhern <amulhern@redhat.com>
Date:   Wed May 7 16:58:54 2014 -0400

    Adjust RaidLevel hierarchy so that all raid level objects extend RAIDLevel
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 75706b5433678184301c4108f5fffcb35d8482ad
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 13:19:48 2014 -0400

    No longer use _standard_levels as the default set of RAID levels.
    
    The notion of a "standard" RAID level is being eroded too rapidly to make it
    really useful. ALL_LEVELS is a better notion.
    This change has the added benefit of simplifying the RAIDlevels constructor.
    Also, make _raid_levels property a set instead of a list since no real
    ordering make sense.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 704e0cfaa896a63c7bd460a64e25be1c7267dacd
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 16 10:05:39 2014 -0400

    Extract selection of members in complete() into a separate method.
    
    Use it in complete().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2415ac15612742c1aa992938cea2f0c0435c995c
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 16 10:02:42 2014 -0400

    Remove DMRaidArrayDevice.members property.
    
    It seems to be entirely unused since ContainerDevice class was introduced.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f09590b1a0ddf9dc82e25bab7bcf4d3d5fbffb04
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 13 15:38:45 2014 -0400

    Comment mdraid.mdcreate() and update tests appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 33de3dc91cfaebb7551d63d829a70dbdab68756e
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 11:36:56 2014 -0400

    Import name 'lvm' instead of names from lvm package.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1f941fd039bdf634e8204f9c51cd7ce075e8931c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 2 17:03:06 2014 -0700

    New version: 0.54

commit 02b865b19cfa941e787af072b4d3c1d49bd01c38
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 28 09:06:46 2014 +0200

    Add tests for setting device's parent list directly
    
    (test for the fix 5ccfa39ab1dc917d85d76aadcb0cf08e60fde31c)

commit 5ccfa39ab1dc917d85d76aadcb0cf08e60fde31c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 27 16:27:08 2014 +0200

    Do not alter the ParentList being iterated over (#1083581)
    
    Removing items from a list that is being iterated over may result in various
    weird, unexpected and hard to track issues (see rhbz#1083581 and rhbz#1098185).

commit 81957d809f3fd86249c413c5ce78adf990c2d063
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri May 23 14:00:51 2014 +0200

    Do not limit ThinLV's size to VG's free space
    
    ThinLV takes extents from a thin pool LV not from its VG.

commit 5608f8bd6a27290e2b9768c7f5a60fe66be9ce44
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 13 16:10:02 2014 +0200

    Take extra RAID metadata into account when growing LV (#1093144)
    
    If we create an LV in a VG that has one or more of its PVs on top of RAID, we
    add 5 extra PEs per disk for the metadata. So when growing an LV we should take
    that into account and shrink the available pool size with those extents.

commit 1b742df1d4c96adf72313e2546bc88ad4344d469
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 13 16:08:23 2014 +0200

    Move apply_chunk_growth outside of a for-cycle
    
    Otherwise it is for no reason defined again and again. Prepend an underscore to
    its name to mark it private.
    
    Related: rhbz#1093144

commit bc1b50be716aa46a9a05cd5708649d4db17f8584
Author: Martin Kolman <mkolman@redhat.com>
Date:   Thu May 22 14:32:15 2014 +0200

    Multiple arguments for string formatting need to be in parentheses
    (#1100263)

commit e587c71108ae5e1d525e8159f95b3180dac731c5
Author: Martin Kolman <mkolman@redhat.com>
Date:   Tue May 20 19:03:11 2014 +0200

    Make print statements Python 3 compatible
    
    The print statement has been dropped in Python 3.
    Fortunately, if the print statement is written as if it were a function
    (print("foo") vs print "foo") it still works in the same way, is Python 3
    compatible and the few special cases can be handled by importing the
    print_function from the __future__. So there is really no reason to
    not just use the print "function" everywhere and make Anaconda a bit
    more Python 3 friendly.

commit 5dd0d9b389fcf6e8ea9b1e59fa965ba4f965f0ea
Author: David Shea <dshea@redhat.com>
Date:   Tue May 20 10:05:01 2014 -0400

    Validate device names
    
    Add a classmethod "isNameValid" to blivet.Device that returns whether
    the configured device name is valid for the device type, and use this
    method during __init__ and setting the name. Currently the only checks
    are for /'s in most device types, except allow /'s in FileDevice, and
    then do something with the madness that is LVM.
    
    Add the more-or-less sane parts of LVM's restrictions (no names starting
    with a -, no ., no ..) to safeDeviceName.

commit 721a156525b3611dc826918a3dbb1b8fb82da277
Author: David Shea <dshea@redhat.com>
Date:   Mon May 19 17:59:06 2014 -0400

    Use a setter for Device.name as foretold by the prophecy of TODO
    
    Remove the uses of Device._name except the parts that actually need it.
    Change the property to use _getName and _setName methods to make it less
    confusing to override.

commit a17591fd52b829d6cdc2f371fb22c5b4f2958ad9
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue May 20 16:47:57 2014 -0700

    New version: 0.53

commit 7d09fd35cb9ca0e521480e8e358ab7a57834a844
Author: David Shea <dshea@redhat.com>
Date:   Mon May 19 09:45:52 2014 -0400

    Remove extra quotes from the xfs_db arguments.
    
    The argument list is passed straight into subprocess.Popen and not
    interpreted by a shell, so quotes within the arguments are not needed.

commit 9ee1f5eeea35138cc9133d10cef045145481e525
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 8 12:29:11 2014 -0400

    Factor duplicate code in __deepcopy__ methods into one method (#1095244)
    
    Related: fed#1095244
    
    The method treats attributes in omit and attributes w/ value None the
    same way.  Previously, an attribute with a None value was not handled
    specially, which could lead to "NoneType has no attribute <x>"
    sorts of errors.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7f73593417b06813484551d25a0241bc1ee1a41e
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 8 15:08:32 2014 -0400

    Rearrange code related to handleUdevDeviceFormat() (#1095329)
    
    Resolves: #1095329
    
    Move some actions from calling code into handleUdevDeviceFormat():
    * Move checks for non-existant info and media not present
    into handleUdevDeviceFormat().
    * Move logging obtained format into handleUdevDeviceFormat()
    
    Move check for no device found in handleUdevDevice() earlier,
    make the message a bit more informative, and omit redundant
    checks for existance of device that occur after the check.
    
    Now handleUdevDeviceFormat() will exit if media not present. Previously,
    there was one caller, updateDeviceFormat(), where handleUdevDeviceFormat()
    would be called regardless of whether media was present and another,
    handleUdevDevice() where the call would not occur if media was not present.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3fb73aa58ea498d8a53d5a43932186a2874513c6
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 8 09:49:06 2014 -0400

    Make dumpState catch and log all AttributeErrors (#1095329)
    
    Related: fed#1095329
    
    It really seems wrong for it to fail on what may just be a mistake
    on the part of some dict() somewhere.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6c904cb372948941ac5f973a4985c9ef5cdafd19
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 8 09:27:55 2014 -0400

    Add sectorSize property to catch and handle missing partedDevice (#1095329)
    
    Resolves: fed#1095329
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 96f09bbafdd181448f222e140aeb892a2cc7400e
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 13 08:08:38 2014 -0400

    Get rid of remaining uses of spec keyword for Size() in examples directory.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9769e4e93f8c9be41a07fb50f13bddc8d87cc062
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 13 07:57:51 2014 -0400

    Generalize false positive regular expression for multiple pylint versions
    
    The message was slightly changed between pylint versions 1.1 and 1.2, the
    more general regular expression matches both.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit eceb73b20f5b5ccca834b1a89c2412f2026e1dd1
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 9 11:24:10 2014 -0400

    Do not run some tests unless running on Jenkins.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a60f14b390d22899bf82986f7938ae108783af14
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 9 08:21:25 2014 -0400

    Miscellaneous pylint fixes.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2ac6c3aaf698c88b42d297ce9ad8db8bf1f9c135
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 9 10:20:11 2014 -0400

    Globally disable pointless string statement warning
    
    It warns on attribute docstring and also other multiline comments that use
    double quotes and as far as I can remember has never warned about
    an actual problem.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 867555b6eaef0bf1d0d6fd845eac44e6a5cac2f0
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 1 11:18:00 2014 -0400

    Disable unused argument warning for 'args' in TmpFSDevice constructor
    
    The usage is consistant with that of some, not all,
    of the other Devices constructors.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b1d1391e02bd5c6e112ecf1548ec15557996babd
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 11:40:42 2014 -0400

    Omit 'args' parameter from formats constructors
    
    It is never used and it seems like a bad idea to encourage callers to use
    positional arguments.

commit 0daaefd90d35216ac6c98114e8e56ccf88968ec9
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 11:15:54 2014 -0400

    Disabled unused argument warning for kwargs in formats.destroy()
    
    It is there because it may be necessary to pass miscellanoue arguments to
    methods that formats.destroy() calls, sometime in the future.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a2913f16eaa964eff70bd69b6a42805a20e2d266
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 11:12:50 2014 -0400

    Omit *args from parameters for format.create() and formats.destroy()
    
    All arguments are, and should be, passed as keyword arguments, it is
    not a good idea to encourage calling code to use positional arguments.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0e4f67338dfbdd665e7c9aeb220272dcad19b166
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 09:02:26 2014 -0400

    Omit *args from parameters in formats.setup()
    
    All arguments are, and should be, passed as keyword arguments, it is
    not a good idea to encourage calling code to use positional arguments.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d08e043e8d353cbcc26a6d3f56bda285955d4259
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 17:59:00 2014 -0400

    Make formats.teardown() not take any extra parameters.
    
    They are not used and it is never called with any arguments.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c83f34ede4ac8e1b6a47fc7ddb6153be798edb17
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 17:12:17 2014 -0400

    Make formats.mount use explicit keywords instead of kwargs.
    
    *args, *kwargs idiom is not really appropriate here.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 82d70daa23c4563d55822166fc2a596d87baeb42
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 16:55:08 2014 -0400

    Remove non-self params from FS.doResize method
    
    The params are not used at all and this makes the signature match that of the
    TmpFS.doResize method which is intended to override it.
    
    No arguments other than self are passed where it is used in
    blivet.deviceaction.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1a6a28c5e418a40a3832b6dc8c0c6cf9c5857840
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 16:44:01 2014 -0400

    Make doFormat use regular style keyword parameters
    
    doFormat is almost a leaf procedure and it is unlikely to find itself
    calling procedures that require arbitrary arguments.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bf82a12d16b559ea6cc3ad589b1444f06030f0fe
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 12:15:02 2014 -0400

    Do not use *args, **kwargs idiom in scheduleCreateFormat.
    
    Do not bother to remove keyword arg usage from invocations, it makes the
    invocations clearer and otherwise makes no difference.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9319501b47a4e98450d77484c2166e1b44166398
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 11:29:09 2014 -0400

    Do not use *args, **kwargs idiom in various schedule* auxiliary test methods.
    
    When the method has a single non-optional argument, the *args, **kwargs idiom
    seems inappropriate.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c747d4c8617a5497fa25f7ed99d452cbbdfd801b
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 25 12:37:56 2014 -0400

    Remove upgrading param from turnOnSwap()
    
    It is not used in the body of turnOnSwap() or in any invocations.
    
    Its use was removed when turnOnSwap() was changed to use ErrorHandler callbacks
    in anaconda commit fa872e7e35d88008c5f9c83998d530cdd2738be8.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 102b7e73686ec6bf9e3cee52966bd52bee3e726e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:50:15 2014 -0400

    Disable unused-argument warning
    
    In this case, the method in the parent class maintains an unused variable
    because the method that overrides it in the child class requires it.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2ad27e008304d809153bb4d5d416dd5d69fc5832
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:37:31 2014 -0400

    Disable pylint unused-argument warning.
    
    The arguments are there to maintain the signature of some method that they
    are expected to override dynamically.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f6566ba540ad480c0c67c25bc1b539633d6c04ef
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 8 17:29:28 2014 -0700

    New version: 0.52

commit 5b39c90ae582a8fb008c3633954a33b58394802c
Author: Colin Walters <walters@verbum.org>
Date:   Wed Mar 19 10:56:24 2014 -0400

    Split ROOT_PATH usage into getTargetPhysicalRoot()/getSysroot()
    
    This mirrors the change to Anaconda, in order to enable OSTree
    support.
    
    For OSTree, the location of the OS checkout (and e.g. /etc/fstab) is
    really in /ostree/deploy/$osname/deploy/$revision/etc/fstab.
    
    In order to properly support OSTree, Blivet will need to gain an
    understanding of the separation between the physical system / and the
    target root.
    
    This patch will be used in Anaconda, which will call setSysroot()
    attribute after the root being installed is laid out.
    
    After that, when we call write(), the fstab data will be correctly
    written into the target root.

commit f3c086c905240a79b8bc68cd72b347f16f0bce14
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 7 14:22:13 2014 -0500

    Update and fix copyright info for docs.

commit 66f2ddb11e85ec6f48535d670dd6f24cb60cbe55
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 23 16:57:47 2014 -0500

    Add some tests for extended partition management.

commit 80f45bd97d827e81ee7deb3d2edf88d29df2f323
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 23 16:57:05 2014 -0500

    Add some tests that verify the results of DeviceTree.populate.

commit f68c91a725bb71c6a22640dc92920ab02393435f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 23 16:54:50 2014 -0500

    Add a base class for tests backed by disk image storage.

commit 352999de2656151d9fe8243ee30a97e079f5c92a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 10:51:34 2014 -0500

    Adapt examples to examples/common.py function dispersement.

commit c7ae8426735c341a81cbd35be1bfc888450839e2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 10:59:31 2014 -0500

    Change devices.SparseFileDevice._create to use util.create_sparse_file.

commit 2a3a8f1fd8f8aca5ed1b1c4b01a525336a254aa0
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 10:58:52 2014 -0500

    Move set_up_logging and create_sparse_file into blivet.util for reuse.

commit 11b5450ffc14fcd8e668a04d0de31ba0fb40ed3e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 10:56:39 2014 -0500

    Make examples.common.tear_down_disk_images a DeviceTree method.
    
    This will make it more widely available for reuse.

commit df13f440b0fe6548c3882476a0adca155d2851d9
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 1 17:01:13 2014 -0500

    Fix handling of devices activated as a side-effect of actions.
    
    Removing a partition triggers a udev change event for the disk, which
    then triggers udev rules which activate all md arrays on that disk.
    
    getDependentDevices doesn't always work because of various effects of
    action registration. Perhaps most importantly, devices that exist but
    whose removal is pending are not in the list of devices checked by
    getDependentDevices.

commit 6c6b2d4ea7189f2dc329015904da23fb19b2f1ba
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 1 16:40:39 2014 -0500

    Check for problematic active devices before processing any actions.
    
    If there are active devices using partitions on disks we plan to change
    we are going to encounter failures to commit those changes to the disk/OS.

commit 1935afb4e7b223ddca61b31c2bcada1ee786eaaa
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 1 16:38:28 2014 -0500

    Split some large blocks out of DeviceTree.processActions.

commit 15bfd537f225c7757798db867f9c6c54d46d8eb8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 1 18:13:57 2014 -0500

    Explicitly requested extended partitions already have an action.
    
    When an extended partition is created as a side-effect of partition
    allocation, it does not have an action associated with its creation,
    so we instantiate that action just before processing the actions. This
    is not necessary for extended partitions explicitly requested.

commit 75da0465138936cb2fa29a975d1ab18721d1eb72
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 21 16:25:56 2014 -0600

    Fix handling of extended partitions across various modes of operation.
    
    When flags.installer_mode is True we only create extended partitions as
    needed and we remove them each time we allocate partitions. When
    flags.installer_mode is False, extended partitions can be created
    explicitly, and can only be removed as part of partition allocation if
    they were not explicitly requested.

commit ee7fae4d98174029012baee2f60b1a0002f370cf
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 9 14:01:30 2014 -0400

    Handle the case of md arrays getting activated from outside blivet.
    
    Wiping signatures from a partition on a disk that contains an md member
    causes a change uevent, which causes the md array to get activated via
    udev. We must be able to cope with these arrays getting activated from
    outside while processing actions.

commit 4e5db5cdcb94d3fc7023ef735d880199abaa10e5
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 21 16:32:43 2014 -0600

    Make an extra effort to remove dm partition nodes that want to stay.
    
    When running tests using disk image files it is a fairly regular
    occurrence to find that dm device nodes for partitions are not removed
    after removing the partition from the disk. lsof and fuser report
    nothing, and kpartx -d doesn't think it has anything to do since the
    partition table shows no partitions.
    
    The same happens when trying to deactivate them without having removed
    them first.

commit 09d1141bf7aa2d3dd57340ce14295667986d1d40
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 21 16:37:59 2014 -0600

    Fix handling of clearing a partitioned disk and leaving it cleared.
    
    Until now it has always been the case that if you cleared a disks you
    were also creating a new disklabel on it.

commit 9505eeb995b033c052abd2dd1854307c5cf61ce0
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 2 10:23:04 2014 -0500

    Don't check for disklabels on partitions.
    
    Udev puts the ID_PART_TABLE_TYPE from the disk into the entries for its
    partitions, so we have to ignore it for partitions. Also, whether or not
    there is a disklabel has nothing to do with whether or not udev has
    reported other formatting on that device.

commit acb8fd771783268a1706ff2b0c418c6f627f2891
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 21 16:25:04 2014 -0600

    Update targetSize to reflect actual size after a device is created.

commit 7d63da2c823bd11d42882558f10c14423a4d91ec
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 21 16:22:18 2014 -0600

    Remove redundant msecs from logging timestamp.

commit e79e22bc5a885710ec922e374e79d379538dfef3
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 2 10:10:22 2014 -0400

    Make signature of Size.__new__ match signature of Decimal.__new__
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 527dbb6b0ee0a04b0d75d1f736f34d50244728fa
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 11:51:46 2014 -0400

    Change Size so that it takes a single value parameter.
    
    Update calls, remove SizeParamsError, and remove tests about SizeParamsError.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 19494bb86a75b7f5ea73c3efb56f67d2f0853760
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 23 15:04:59 2014 -0400

    Change all 'format' keyword args to 'fmt' in Device constructors
    
    Change all calls appropriately and also change any invoking methods
    that use same keyword args.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3bdc9296ef10d19ceeec7a0d444a126dd3e3e0f0
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 23 14:35:27 2014 -0400

    Change format keyword argument to fmt in scheduleCreateFormat
    
    Change calls appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a17678adcf14a3e8e77376be7209206034f4a8e0
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 23 10:50:32 2014 -0400

    Change keyword parameters in devicetree.findActions
    
    Also update invocations appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c5d6f30293e262ccfea0ba4a0ce4178f4561ff71
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 23 10:34:50 2014 -0400

    Change ActionCreateFormat constructor keyword argument to 'fmt'
    
    Change any calls appropriately.

commit c5c1d81fe137f397f5800b15532cb0a20c4dc860
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 1 08:38:56 2014 -0400

    Remove unused parameter 'ignoreErrors' from umountFilesystems()
    
    This sort of error handling functionality has been taken over by the
    ErrorHandler class. This requires a corresponding change to an anaconda
    invocation of the method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6e7aff9a25427f27494c118dbf36a47c9d38a6bc
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 1 08:27:06 2014 -0400

    Remove parameter 'raiseErrors' from mountFilesystems() methods.
    
    It is unused in the method, the functionality has been taken over by the
    errorHandler callback.
    
    Also, document the remaining parameters and, where mountFileysystems() is
    called, change setting the parameters explicitly to accepting the defaults
    where that makes sense.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 39747f570974c8985d14e32c12db5453fb34ca03
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 12:25:04 2014 -0400

    Disable unused argument warning for 'major' and 'minor'
    
    These are not used by MDRaidArrayDevice.__init__, but they are passed
    as arguments to a number of constructors, of which it is one, in
    devicetree.addUdevDiskDevice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 144269e6d39e520f30a345b2a45e40d34480cabc
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 10:50:18 2014 -0400

    Set dummy functions as values rather than via function definition syntax.
    
    Using explicit lambdas avoids a pylint complaint about unused arguments,
    and emphasizes that the functions are dummy functions. The patch also
    changes the names of the functions to match the keyword parameters that
    they correspond to which further emphasizes that they are merely dummy
    functions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3f98317db6677102aa590ad0764985d132e52609
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 12:33:25 2014 -0400

    Pass size value to superconstructor for LVMVolumeGroupDevice.
    
    It is calculated and passed as an argument in blivet/devicetree.py, so
    it seems like using it is the right thing.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 741460ac8dced6a5fb56ab0fe2696afe7455d9e5
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 14:39:59 2014 -0400

    Sort the pylint-false-positives file
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0ed8669e92bbd4a0ec05321ccf1217b7efa62914
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 1 08:42:18 2014 -0400

    Do not disable unused argument warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0db08014590650db925454f9b1cc39021643672e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 13:07:43 2014 -0400

    Omit pylint warning about disabled warnings or errors from pylint log.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f9d025813210204b907cee2d6f9b58077d16726f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 14:20:56 2014 -0400

    Put the pyblock warning in pylint-false-positives
    
    It's not actually a pylint warning, but pylint ends up processing it as if
    it were.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6e101fccc748f9add51b9aabf4ea785b8315383f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 11:47:20 2014 -0400

    Remove obsolete documentation for parameter 'label'.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a4d5826d1472f5806859db5866df7743e21098d5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon May 5 16:21:52 2014 -0700

    New version: 0.51

commit fa10ff93895ebf46c36253cb5cb1e04170eebc15
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 12:19:39 2014 -0400

    Adjust the available size on each disk using chunk size.
    
    Previously the code adjusted the total size across all member devices using
    the chunk size, but chunks are not allocated across disks.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7efc6321b1518edbcb821a988cbc3a36e4b7b100
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 09:10:38 2014 -0400

    Removed some now unused methods from devices (#1085474)
    
    Resolves: fed#1085474
    
    Update tests accordingly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 589d2bda93420552ba51525c8f0a3bfdd5a1201f
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 09:53:51 2014 -0400

    Rename size() method to get_size() method.
    
    Since get_size() method was removed its name can be reused.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b9a99a19cd32ee589253828ab2c7127ed22fcd89
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 08:16:49 2014 -0400

    Remove unused get_size method (#1085474)
    
    Resolves: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 922a2caf014dbe195b949172ff64018cde2cf9cf
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 08:08:59 2014 -0400

    Use raid.size method to get size of device (#1085474)
    
    Resolves: fed#1085474
    
    Requires modifying superBlockSize() so it can be passed as an argument to
    size(). Since it is no longer a property, change its name to
    getSuperBlockSize().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d4de053b3c7d39646a9ca4a41a1e21a61a9e33b0
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 10 14:51:21 2014 -0400

    Add a size() method to the raid classes (#1085474)
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ab1466a35acc7759ad2e4ea6207fdec8e7fc79b5
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 9 18:17:10 2014 -0400

    Move line that might throw an MDRaid exception inside try block (#1085474)
    
    Resolves: fed#1085474
    
    If any of the raid or mdraid methods raise an exception the size will be 0.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a5403c818c4213e53d97de98392f49362703044e
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 10:50:44 2014 -0400

    Check whether type is mdbiosraidarray before checking smallest member (#1085474)
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a8c979ca6db5e7b0871d2266c0137756bca3954c
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 10 13:13:10 2014 -0400

    Log if there was a failure to calculate the size of the MDRaidArrayDevice (#1085474)
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 95da0de16252905e7bacde1ba5ffe8888fc4955f
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 10 13:39:46 2014 -0400

    Rename get_raw_array_size to get_net_array_size (#1085474)
    
    The comments added to this method in commit
    1149268de36e06d88f2adc0913c9878c972dab8b which describe its function should
    justify the renaming.
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 608f1cae393ca65d8a0031d2f8c48995f3bef65a
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 10 08:39:39 2014 -0400

    Rename _get_size to _trim, which describes its function better (#1085474)
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8702a085955e337bb0fd7c50d86d84092a0b8132
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 10 08:29:22 2014 -0400

    Improve comments on a few methods (#1085474)
    
    Related: fed#1085474
    
    Get types correct and expand descriptions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 431307e7196a9fd5403cb7251cfad793502bde87
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 11:01:23 2014 -0400

    Make RAIDLevels iterable (#1085474)
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4de363935102f224a99e9b071a49d0abc764613c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Apr 30 12:21:12 2014 -0700

    Update makebumpver for python-bugzilla 1.0.0
    
    The new python-bugzilla changes the args for getBugzillaClassForURL,
    breaking the existing script. But also provides a more transparent way
    to pick the bugzilla class.

commit cf69e543f4f0104e75a93001c61b23fe48c96cc5
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 13:58:30 2014 -0400

    Disable unused argument warning for 'key_file' in devicelibs.crypto methods
    
    This argument was reintroduced in anaconda commit
    f988a656cbc7b26a8f9ddca3bfaefa82d7a0aeb9
    but was left unused at that time, so I assume was setting up for future
    use.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8da339ae52b32a53d9846d70923719dad891fafe
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 13:27:37 2014 -0400

    Disable unused argument warning for 'del_passphrase' in luks_remove_key
    
    This parameter's use was obliterated by anaconda commit
    7a0ec83d378cd2757b12dce0f250630e1d0cdda2
    but it remains part of the interface and is occasionally passed by callers.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4d5fe45db80c82cda4e54594da125f0d3e962772
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 12:23:25 2014 -0400

    Disable unused argument warning for 'data' in doAutoPartition
    
    Its usefullness may be revived and it is certainly passed as an argument
    everywhere it is used.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit da3c45318a104b673acc0f8f072f33e237839fe1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 10:38:32 2014 -0400

    Disable unused argument warning for 'info' in handleUdevLuksFormat
    
    handleUdevLuksFormat has the same parameters as all the other
    handleUdev* methods.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 13b6b2f29c58b35f64556e22a24cc35e5e8b630b
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 08:11:12 2014 -0400

    Disable unused argument warning for 'disks' in get_pv_space.
    
    The original version of this method had a mandatory argument, 'disks', which
    it did not use. All methods that invoke get_pv_space pass an argument for
    disks. I assume that 'disks' is relevant to the result value but the formula
    in the method has not become sophisticated enough to incorporate it.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit df7537bff7ceffe548e041da5a19f349bfdc62ab
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 13:22:34 2014 -0400

    Remove pointless parameters from unittest methods.
    
    These methods are called by the unittest framework which can never
    make any use of these parameters.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2601fb48e252eb91421a1638c97ab07e9b99253b
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 08:22:17 2014 -0400

    Disable a no member warning for EddTestFS initializer.
    
    This warning arises because EddTestFS depends on a mock package in the
    anaconda/old_tests directory. The majority of the tests in edd_test.fs would
    fail if run due to this dependency, but they are all being skipped.
    It is possible that they could be fixed by grabbing the mock package or by
    some other means.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9ca2738ff39b5183e0f3afeebf2ddb9d6236b50a
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 10:33:06 2014 -0400

    Get rid of unused argument 'args' in MakeBumpVer constructors
    
    There are no positional arguments, so there is no reason for a positional
    argument parameter.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b91415fc01683585cb54b26bc8b4c8b18caecfca
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 15:45:29 2014 -0400

    Changes to _parseOneLine() and its single invocation.
    
    * Make the parameters the usual kind of parameters.
    * Give the standard defaults for _dump and _passno.
    * Don't bother to extend fields since _parseOneLine() will do the right thing.
    * Add a small comment to _parseOneLine.
    * Make the default fields strings instead of numbers since they will certainly
    be strings if read from the file.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0aa7d5d312a253c655ee01b83f93cdaa91c36f8f
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 10:24:54 2014 -0400

    Remove obsolete comment
    
    LVMVolumeGroupDevice no longer inherits from DMDevice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c70198f82f7139b447cf7eff7b785525aa7558c0
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 17:23:48 2014 -0400

    Rename to avoid redefining parameter built-ins
    
    When renaming a parameter it is necessary to check whether the parameter is
    used as a keyword in function invocations. In all these cases, that does
    not occur, i.e, in blivet, anaconda, open-lmi these functions, if they are
    invoked, are only invoked using positional arguments.

commit 913ccef4004c20d9485dbac864f5441cbff412a3
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 23 10:29:08 2014 -0400

    Change name to avoid redefining built-in
    
    The name is method-local.

commit 9f6c5209b38bbf4cda3c840e8ba017dbd8fe32a8
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:24:09 2014 -0400

    Remove unused parameter in makeupdates.
    
    Change invocation accordingly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ff0cb2627c759105e87358257c1255a2dbcd5f65
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 15:24:31 2014 -0400

    Removed unused argument 'options' from testMount
    
    testMount() is only used in one place, and options is not passed there.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dd69a93e9b090cc12c460ceaccba30f542360fdc
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:42:35 2014 -0400

    Make signature of _setSize match that of the method it overrrides.
    
    It seems that if the name of the parameter matches pylint won't complain
    about an unused argument.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fbd586877822f4758ddff5b52021513a34d7863a
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:22:07 2014 -0400

    Actually use argv parameter
    
    This solution is more general than getting rid of the unused parameter.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b5f3fc0f1768e098ef3c2d334e94e61646e539f9
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:18:18 2014 -0400

    Pass fname as first argument to shutil.copy2
    
    It's hard for an analysis to detect that file is an unbound variable because
    actually it is a built-in of the wrong type.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f171c3a7ba83441b0c45a5ff77bc0a317dbeaadc
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:58:05 2014 -0400

    Remove minimumSector method and _minimumSector attribute
    
    minimumSector is unused and does not work properly as a property.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1a9020327f07e2079fc8b47dd9709d5b56b3897d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 13:01:59 2014 -0400

    Disable not-callable pylint warning.
    
    The method will not reach this line if self.child_factory_class is None.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 252b05fce9840d3c493778c04f2af44d96e1544d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 12:57:23 2014 -0400

    Set child_factory_fstype to None in DeviceFactory
    
    Otherwise, _get_child_factory_kwargs could raise an AttributeError in a
    subclass where child_factory_fstype is undefined.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2b8dc47fd93aec86798df0f26c0694231ff9d2f7
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 08:39:39 2014 -0400

    Suppress unpacking-non-sequence pylint warning
    
    And be more explicit about the role of prev_prefix.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b24651709fc77b2f45338dd02d295389479f3bcf
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 08:24:09 2014 -0400

    Prefix name with defining package
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8bd434c6bcde2d8c894b1c8e57a63fd2be362dcb
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 14:51:20 2014 -0500

    Update Platform instance from flags instead of replacing it. (#1090646)
    
    Replacing the platform instance as a means of picking up changes to
    flags doesn't work because modules that have already explicitly imported
    platform from platform will still have the now-defunct Platform instance
    in their namespace. This patch changes the flags update so that it
    updates the Platform instance in-place, allowing the modules that have
    already imported it to get the updates.

commit 4cf2a9eba461fe9e02a77c6d823fc43ae0d0106b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 17:18:47 2014 -0400

    Rename to avoid redefining built-ins where the redefinition is method local.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fca6539113329373e446639b64551a037c31aac5
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 14:48:05 2014 -0400

    Set device.format in else block of try/except/else.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c5ac99fd252b78faec2d1f2989a3ae4b975ed05e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 14:32:50 2014 -0400

    Do not run pylint on sphinx generated conf.py
    
    And do not screen out old_tests since blivet does not have such a directory.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c57bc868eef7977bb27233eaf3f3d86d3c222efd
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 17 09:04:10 2014 -0400

    Get rid of a redefined builtin while simplifying method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6d6544bb173217aee05daf5e6e585f49129f5480
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 12:04:33 2014 -0400

    Compress loop into generator list comprehension
    
    There should be no semantic change.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 911abeae433a2b079d507a07483670a1b43fda34
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 11:57:35 2014 -0400

    Rewrite resize() method to depend on _resizable.
    
    All class for which _resizable is True should define a resize method.
    
    Prompted by a lot of pylint 'abstract-method' warnings.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 770f1c5c6e0d88768167f1bd6bab86b8024a4d99
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 11:33:59 2014 -0400

    Remove definition of LVMThinLogicalVolumeDevice._resizable
    
    It inherits a value of True from its parent, LVMLogicalVolumeDevice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 03891a1925ad78b0f07b4e57074c58cd535b23e7
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 11:21:02 2014 -0400

    Add an attribute docstring for _resizable.
    
    Suppress pylint false positive.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a106961671838ae010ad631b29e8a56fbad621ba
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 10:59:29 2014 -0400

    Correct comment on resizable property
    
    The value of resizable is affected by the state of the device as well as its
    type.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 945927c9a91e7430f28f9b93234fe6a358ca8e8f
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Apr 24 17:01:37 2014 -0700

    New version: 0.50

commit 26db40b94868cd1c9e0f77f22bbc795926387a25
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 11:03:42 2014 -0500

    Don't apply action until after all checks have passed.

commit 7cfbf9d316c0c819977476b78cbf2bcf1a20757d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 23 14:59:46 2014 -0500

    Apply action for extended partition creation.
    
    Normally the action's apply method is called when registering the action,
    but the action that creates an extended partition that was not explicitly
    requested does not get registered since the device is already be in the
    tree by the time the action is instantiated.

commit 86c957340a2f076b4baf79f3ed49c0ed30b38c26
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 23 09:32:02 2014 -0500

    Fix an issue introduced in commit a210eb5c.

commit 0e6e1ae82f60988831aeab5183c891d55162c286
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 15 10:19:35 2014 -0500

    Move changes from action ctors into apply methods.
    
    The apply method is called from DeviceTree.registerAction, so there is no
    need to change any code that creates actions.

commit 760bd5f6bde1affc71b598b679c748a0b0fb4b97
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 9 15:23:10 2014 -0400

    Tell lvm to prefer /dev/mapper/ and /dev/md/ to dm-X and mdX nodes.

commit 0b6abc6e85113828a39133b2f27d4a8dd03a2bf4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 9 14:07:00 2014 -0400

    Use the right md UUID when trying to look one up from addUdevDevice.
    
    In this case we want the MD UUID -- not the filesystem UUID. The MD
    array always has a UUID, but it may or may not contain any formatting
    that has its own UUID. Using the MD UUID is therefore more reliable.

commit 7e4397886de7b7cd1d168d85fced642e908ef3d3
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 9 13:58:43 2014 -0400

    Pass UUID of existing md array to superclass constructor.

commit 85f44d5222bab46a2badaa560d9b050bbb8f54d4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 9 13:55:57 2014 -0400

    Fix accounting related to addition of md member devices.
    
    We should not be incrementing memberDevices if we're just adding a member
    device as part of devicetree.populate. In that case we already know the
    number of memberDevices and shouldn't be changing it. It should be
    incremented when adding a new member to an existing array, like when
    scheduling a ContainerAddMember action.

commit f30f9a83a8cbc11515d544929c16262304ea54db
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 22 16:31:44 2014 +0200

    Add some more tests for the Size.humanReadable method

commit acbd6ac86601e146ab731c0d76c7174285022e6c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 22 16:09:55 2014 +0200

    If size is an integer value, show it as an integer value
    
    No point in showing 500.0 instead of 500.

commit d7d73cf950071534ce3dcf00f4654b79905dfd5e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 16 20:41:01 2014 +0200

    Make sure that using just k/m/g/... results in KiB/MiB/GiB/...
    
    We want these onechar specs to result in binary units used.

commit 68f7eee4ddc14917864820c84dffd18580403691
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 16 19:43:17 2014 +0200

    Make humanReadable size use binary prefixes and nicer units
    
    We should always give humanReadable representation of a Size instance with
    binary prefix, because that's the preferred way of representation. Also, if the
    value is less than 10, we should use the smaller unit, because that means more
    decimal places could be interesting.

commit 792b2bece1b556dcc06007cd5ec674144379d28f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 16 19:15:44 2014 +0200

    Round sizes in humanReadable instead of flooring them
    
    humanReadable representation of a Size instance can round the values instead of
    flooring them because it should never be passed to any code requiring the
    precise size. And it's much nicer to give user '9.98 GiB' instead of '9.97 GiB'
    when they enter '9.98 GiB'
    
    Also get rid of the unnecessary _trimEnd() method, the Decimal() constructor can
    do the same for us.

commit 433cac28608f3d42805aabf6e08f7db54f11a89e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 16:51:52 2014 -0400

    Do not assign result of evaluating EddTestFS() to a variable
    
    Only the side-effects of the constructor matter.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 00de9ea70a76e05b8616902dab27e803d018591c
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 16:22:30 2014 -0400

    Rename bits() to numBits()
    
    'bits' is used as a keyword for parameters in a couple of methods, causing a
    conflict between the outer and inner-scoped names. This change is less
    intrusive than changing the names of the keyword parameters, which are used
    in many more places.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 30ee6617ac23a6d3ae1cd13d4edfcd107cf9dea1
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 14:19:10 2014 -0400

    Rename to avoid conflict with name in outer scope.
    
    All these names are method-local.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0aa9c80ec09ec47363b57cd9e6d472edb2069139
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 14:51:43 2014 -0400

    Put module level code in a method
    
    To avoid having unnecessary global variables.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 61c8670ff7cbac79d4e145b53b16d4ea7109c782
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 14:34:10 2014 -0400

    Do not use strip() incorrectly
    
    split() is correct and will handle possible trailing whitespace better than
    a slice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 887ea6552bde3d81ce361ae58ddc852048efbaee
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 13:12:02 2014 -0400

    Disable E1101 (no-member) error
    
    If isResize is True, then self is an instance of ActionResizeDevice or
    ActionResizeFormat and does have a member 'dir' (short for direction).
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 76ccc6c07e1d681aa8d3e6da1e48a6ab2b4d7057
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 13:10:27 2014 -0400

    Use isResize in isShrink and isGrow.
    
    Similar to resizeString
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 29cdbee497ac4028ea5d4e0afef0d70acc46b1b7
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 12:36:31 2014 -0400

    Suppress W0612 (unused-variable) false positives
    
    These are all used, somehow the fact that the names are imported instead of
    assigned to confuses the analysis.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 77a766c01e40f11102e75ac70625ea0634f3ff01
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 12:11:35 2014 -0400

    Suppress W0621 warnings
    
    Redefining these from the outer scope is exactly the intention.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1f164c418d521bb1326ae6d4c8e02b696e890444
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 11:57:09 2014 -0400

    Add a stub function for get_bootloader
    
    Prompted by a E0602 (undefined-variable) warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e9319410f84c643611fe959cbcaef7af9c11e485
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 11:49:19 2014 -0400

    Suppress W0602 false positives
    
    These are all definitely assigned to via the corresponding import statements.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d28880e77e97d4f806d94909b3a8b997e5c17c61
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 12:08:44 2014 -0400

    Remove BootLoaderError definitions
    
    Blivet does not use it anywhere.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e6bff19863d8484ced4e9c81e1e48e39e47dfc54
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 11:01:26 2014 -0400

    Disable E1003 warning.
    
    This warning is triggered if the first argument to super is anything other than
    the name of the class. It is intentionally different in this case in order to
    skip the immediate super class.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b3e32787b66cf533f7b3bd99f1967ed0656e2c6e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 10:35:26 2014 -0400

    Do not cache the DeviceFormat object
    
    Just use it to get the minSize.
    
    Prompted by a W0201 (attribute-defined-outside-init) warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 27fd8d3ebaf304c8834ac645640dfdd43513c196
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 10:19:46 2014 -0400

    Suppress W0201 error where attribute is set in __new__.
    
    See commit 94785c33564f7999172539b87f01a2e87baad926 for an explanation of
    the reason for setting id in __new__.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e937ca676d6b8c06b7f5f6c16232300dd7e9fc22
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 10:14:55 2014 -0400

    Add to false positives an error which is not suppressed by a pragma.
    
    Pylint does not respect the pragma in this one spot.
    Leaving the pragma in, in hopes that pylint will eventually respect it.
    The reason it does not respect the pragma at this line, but does respect it
    elsewhere is not at all clear.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4a5db0ffbf1c3e9df7ab0481875825b7f79f9ce1
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 18:14:37 2014 -0400

    Suppress W0201 errors
    
    The message for W0201 is
    "Attribute '<attribute>' defined outside __init__".
    
    In these cases, the attributes are certainly defined during
    execution of __init__, but through calls to other methods, i.e., not
    directly in __init__.
    
    Not putting this in false positives because I doubt that pylint will be able
    to develop the necessary call graphs to do the analysis.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cb8bbfd21d32f4785fb593873a32edcf4fffefa8
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 13:15:17 2014 -0400

    Make signature of Size.__str__ match signature of Decimal.__str__
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 07f41d516259694991de0ca44f71ef8b17f7ae86
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 12:52:27 2014 -0400

    Do not evaluate % operator in log message arguments
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a1bbca9095277ce6defaae44dd051a2c56e24da2
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 12:45:07 2014 -0400

    Remove suite() methods in tests
    
    They don't seem to be run at all, or some would fail with a NameError.
    It is not at all clear what purpose they serve.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 821e5ec1dde10e0d0dbdbc0f64cda9529843ba2b
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 12:19:03 2014 -0400

    Remove addKeyFromFile() method
    
    Prompted by a pylint E1123 (unexpected-keyword-arg) message, but this method
    seems both unused and broken.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b6154c737c98fa1d4811e8fa258cb912245805c3
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 12:14:35 2014 -0400

    Import name 'deviceaction' where needed
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 027dfcb11cb2e3cbda48479f3c23715e728aeba3
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 11:27:20 2014 -0400

    Setting variables in __init__
    
    Prompted by pylint W0201 (attribute-defined-outside-init) warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 96aabec57e25d4c6c7ce690137e0d3c7efa7759e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 9 13:08:42 2014 -0400

    Log exception information and disable W0703 warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8d9fc22fa3740b0947ddbd3dc356989c6fc73cac
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 9 15:42:21 2014 -0400

    Disable some W0703 warnings
    
    These all warn about catching exception Exception in the context of an
    idiom where the failure is always logged and, sometimes, an optional default
    value is set.
    
    Use log_exception_info to capture more information about the exception.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0e689c3ba2327446a4310124342bc3f84bba3b0c
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 4 13:22:11 2014 -0400

    Disable some W0703 warnings.
    
    These warn about catching too general an exception Exception.
    
    These cases use a particular idiom within a property
    where there is always a fallback to another value if any exception is thrown.
    
    Log the information about the exception.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4e25871d084f45c4e6569bce9fe28585a42699cf
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 17 12:00:37 2014 -0400

    Add a function that logs available exception info.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4bbca79020a5ee8d2ae0710cd76708890792c4cd
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 21 13:07:07 2014 -0400

    Restrict scope of pylint pragmas as much as possible
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 40cfa1bece0cf1fcf1bb191f8130d3af0dd7a2d9
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 21 12:49:48 2014 -0400

    Change all pylint numeric codes to mnemonic strings.
    
    The mnemonic strings communicate a bit more information to the reader.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8cba19b7b7d8f355bdddef4adb7836d2ae27c7f5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Apr 17 17:29:50 2014 -0700

    New version: 0.49

commit d0364d310288b5c047b3542dd894ce3f889a2cd5
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 4 10:41:27 2014 -0400

    Slightly reduce loop and get rid of obsolete comment
    
    Prompted by an "Unused variable" pylint warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit db2b02716083eb60d0ccf1af62599c1108a43e18
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 4 09:02:05 2014 -0400

    Slightly rewrite loop to avoid a redefining builtin error
    
    More elegant than changing the name.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8a091142339e4293d95bbc573c65cb17628d3697
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 11:53:43 2014 -0400

    Simplify find_library and fix redefining built-in errors.
    
    file -> lfile
    dir -> ldir
    
    Since only the path of the first file is returned, only calculate that path.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5ad5684378176ee10119c4f7bd6cbca33a137b35
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 11:06:25 2014 -0400

    Make loop variables a little more descriptive
    
    Fixes some subtly erroneous "Using possibly undefined loop variable" errors,
    but also makes the code clearer.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a1ea68361a02cfb41eb2033caeb240526e5973e1
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 10:03:38 2014 -0400

    Make regular expressions raw strings.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b0baf9a275f733248306e0bef26858ad91635027
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 09:50:47 2014 -0400

    Suppress unused variable warning and check for failure.
    
    On the off chance that the partitioning on "=" failed, do not set a value.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c4e232ec92d459705dae3547eb034fb7342e9251
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 15 08:41:10 2014 -0400

    Add W0105 warning about attribute docstrings to false positives
    
    These strings are valid "attribute docstrings" according to PEP257
    (legacy.python.org/dev/peps/pep-0257/#what-is-a-docstring).
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e1818ae5265484d6f0c00ff276d17e4f22e8e03a
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 09:44:33 2014 -0400

    Make signature of setup() in parent class same as in children
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fe52381e9b2cdbe376e1c38811b3d46e90d070c7
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 09:07:32 2014 -0400

    Suppress some correct pylint warnings
    
    These tests verify the property that pylint warns about.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 615909697ae6150ec3112dbf64a614183f8ac990
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 08:21:33 2014 -0400

    Get _loopMap.values() when all that's needed is the values
    
    Also, get the values when the values, not the keys, are what is needed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5293b13988cb37d51cdee1b241c7a79bf7beb8af
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 08:02:39 2014 -0400

    Obvious fix inspired by pylint E0602 error
    
    Message was "Undefined variable '_LOOP_DEV0'"
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit da3f411bba7718d6ba497c0c8b18b648ffd218ef
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 11:23:36 2014 -0400

    Suppress W0631 warning for abbr and prefix.
    
    The only way these variables could be undefined is if _xlated_prefixes()
    is empty. But, _xlated_prefixes() will only be empty if both _binaryPrefix and
    _decimalPrefix are empty, which is unlikely in the extreme.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6cdac33b92db7d67d49a95a5a29ca5172cacc79b
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 09:49:44 2014 -0400

    Do not do formatting operation in the argument of the translation
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9d5dbefda13929767360fd1bfa813da9904ac48e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 09:05:57 2014 -0400

    Remove unnecessary global statements
    
    The global statements are not needed to make the operations refer to the
    globally defined variable. They would be needed, if an assignment were done
    to the variable in any of the methods where it is declared global, but no
    assignments are done, only mutating operations.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7a97e3e6b22f0382a37d99ee9284f2c9c0d9d51e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 9 12:57:58 2014 -0400

    Disable W0703 message in test
    
    If sorting throws any exception then this test has failed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9b7a12e7b74623600e8c22388b82eda644585710
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 8 14:27:23 2014 -0400

    Explicitly set the module level platform variable
    
    rather than implicitly setting the variable in reset_platform().
    
    Prompted by "W0601: Global variable %r undefined at the module level" pylint
    error.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7a18fae296e23e1bdf7a36c05eaee2af7e8dc382
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Apr 10 17:14:05 2014 -0700

    New version: 0.48

commit e1a250065ea7a926d5bf0c8d3ecde2ec6c84af4d
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 8 11:27:30 2014 -0400

    Do not execute smallestMember property method twice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2ad30953c415af97a796e5f6c896837ed262f3a8
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 8 11:20:01 2014 -0400

    Remove unnecessary function definitions in abstract properties
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e903de7fcfbb8bd47144257228c6d64c89b834d2
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 8 10:49:22 2014 -0400

    Pass format args as arguments to debug method (#1085057)
    
    Resolves: fed#1085057
    
    Also, use file level log variable instead of regetting
    the value in each method call.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8bd0e5442d37d2be9c1b45d2cbac059477c18da1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 7 15:24:27 2014 -0400

    Move udev_settle call from util into fs to break circular dependency
    
    Otherwise there is a circular dependency between util.py and udev.py.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5102c83ebe36a65f39bc46df490b57c1e1a1e25d
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 7 10:59:10 2014 -0400

    Change implicit relative imports to explicit relative imports
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 824d3767a8075e97cabd59a2845be2a5879269bb
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 4 14:25:20 2014 -0400

    Remove unused imports
    
    This includes replacing 'from <module> import *' with
    *) 'from <module> import <explicit list of imported names>' OR
    *) 'import <module>' and replacing every imported <name> with <module>.<name>
    
    Also, add one import, re. This was being transitively imported by importing *
    from udev in devices and then * from devices in __init__.py.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ea860a07bb9d5b14756e7fdf6243393627e50f26
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 09:14:41 2014 -0400

    Get rid of os.path import
    
    Inspired by W0621 "Redefining name 'os' from outer scope" message.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 79781a77784f98600662f56ffb6253aef9b91c1d
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 7 12:12:43 2014 -0400

    Really avoid dynamic import of formats/__init__.py by itself
    
    The previous code checked equality between the name of the module to import
    and the module that contained the code but it failed to handle basename
    and extension details.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 25b82d5bdcd6acb2d5fee95bebb6dca0c41cd248
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 08:28:14 2014 -0400

    Ignore E1101 errors in savePassphrase.
    
    E1101 does not handle instances of name-mangling of private fields correctly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a4b1c97c83f8fdc1e466c7300db201b75563307f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 17:56:58 2014 -0400

    Add a bunch of E1120 errors to the false positives file
    
    The analysis does not detect correctly that raid.RAID* refers to a singleton
    object, rather than a class. I believe that this ought to be in the scope
    of the analysis and so expect to remove these false positives when the analysis
    is fixed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0e83ac2eb81ba58d761e111ac2fd492fb94bb60b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 11:33:33 2014 -0400

    Make LabelingAsRoot class an abstract class and define two properties
    
    This gets rid of a lot of "has no '<field>' member" pylint errors where
    <field> in { _fs_class, _invalid_label }.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dfa75ad5b39a9f0e01d01aee6f0754401c58e810
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 11:17:53 2014 -0400

    Suppress false positive W0631 error.
    
    The only way the else branch is not executed is if the break statement is
    encountered. Since the else branch exits the only way this line can be
    reached is if the break statement is encountered. But for the break
    statement to be encountered, enumerate lines must be non-empty, and
    therefore i,l must have been assigned to when the line is reached.
    
    Not putting in pylint-false-positives because this may prove to be beyond
    the scope of the W0631 analysis.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b40af42d5e26d75939deefd6b120fc5b7f3a2ced
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 11:09:31 2014 -0400

    Use self.nic instead of nic
    
    They are guaranteed to be identical, and nic's only real purpose is to be a
    loop variable.
    
    Prompted by a false positive W0631 error.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f4c080ab0bf1c3f3b49c05aec4fb871045d465dc
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 10:10:18 2014 -0400

    Make sure _state_functions is a dictionary in base class
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 06173305c9743010283dc90c494a79887914e31f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 10:08:13 2014 -0400

    Remove unnecessary lambda wrappers on assertion functions
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8922eaf1e6936a7ca146c8f567a7ea9a5465abd2
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 09:56:43 2014 -0400

    Obvious fix inspired by an "Undefined variable warning"
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1e38f20d0ea315deec41f00371dd61f9dac8e8c1
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 08:43:27 2014 -0400

    Remove all references to lvm_vg_blacklist and blacklistVG.
    
    They seem to have no purpose anymore.
    
    This was prompted by a 'Using global for' pylint error.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit def7832f8e187985e00307d607d261bd7ef6ee2a
Author: David Shea <dshea@redhat.com>
Date:   Fri Apr 4 13:51:12 2014 -0400

    Update for changes in the anaconda errorHandler API.

commit e2fde8e38e6551a8cedbbb1a565b331dbb668839
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 11:47:40 2014 -0400

    Remove unused imports.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4b1065c0272d89a1def0524a2a3645d38f075aa4
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 12:04:41 2014 -0400

    Import from the defining module.
    
    That is, do not import from another module that imports from the defining
    module.

commit e75a6818dbd90d5a4b087d60158e39c76e421836
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 12:02:49 2014 -0400

    Move import to top level.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9ba860c1915bdd59eb2ec48ab5938fe459bbe8ec
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 10:52:37 2014 -0400

    Do not use implicit relative imports
    
    Import explicitly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bf4be39cafcb92c5c7a4b01a5140163befe7dd47
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 13:13:30 2014 -0400

    Remove wildcard import
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4d1c53fe470babe0c33fa8c973ffba63190e3f91
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 2 08:44:48 2014 -0500

    Fix a bug and catch a change in lvm's thin pool layout.
    
    The first chunk fixes what appears to be something new in thinp --
    using eg: vg-thinpool_tmeta instead of vg-thinpool_rmeta%d as the
    metadata volume name.
    
    The second chunk drops the addition of the vg name to keys in lv_info,
    which already contain the vg name, when constructing the raid dict.

commit 358ec62c19557c853f00dd0a1c888f4f3bced80f
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 1 14:19:05 2014 -0500

    Plumb uuid down through DMDevice.

commit a48dfa91c6dd827d56e544564d950b1740d801d6
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Apr 2 16:25:11 2014 -0700

    New version: 0.47

commit c645b2d70d20410428425d644f48fc92a1e4c321
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 31 12:29:34 2014 -0400

    Change labelApp to a more concisely defined abstract property
    
    Change its name to label_app to be more consistent w/ property names.
    
    Make fslabel classes into singleton objects.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bbcae6b14330de1181e4765280b17a9f1e1f9a25
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 31 11:56:46 2014 -0400

    Change defaultLabel to a more concisely defined abstract property.
    
    Change its name to default_label to be more consistent w/ property names.
    
    Only used in tests, which are updated.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8552b9b055993f00014dcc6d48617f2a1b938769
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 31 11:42:16 2014 -0400

    Change _labelstrRegex to a more concisely defined abstract property.
    
    Change its name to be more consistent with property names.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 24f1bf8393657f54c013af513c8297bc774149b0
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 31 10:40:57 2014 -0400

    Make reads property a bit more succinct.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5e0fbd8d38676c199b3ec8bd14410e54964857f6
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 31 09:56:11 2014 -0400

    Make name an abstract property and omit _name
    
    Return None instead of raising an exception to get around Python's
    syntactic restrictions on anonymous functions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f992cb1d09c242b5a19a00d7c2a294aa8e7f9e99
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 2 11:02:26 2014 +0200

    Remove an unused import from devicelibs/raid.py

commit 3d6123132f7d9861df7f949607af77faedd9e5df
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 12:28:45 2014 -0400

    Fix all pylint errors in pylintcodediff
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4c14434fda1c6dab9d76b4148088117657ec794e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 12:19:27 2014 -0400

    Don't run test if the git branch is dirty
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6a22f54f1fcbad7a4a74f9bb18ee0f3dd7f9014f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 25 15:03:09 2014 -0400

    Exit if the specified log file does not exist.
    
    If the log file does not exist, diff-quality will try to make it by calling
    pylint. diff-quality passes some arguments to pylint which some versions
    of pylint fail to recognize. In the event that one of these versions of
    pylint is running diff-quality will raise an exception.
    
    Better to catch it in the script than to leave diff-quality to its own
    devices.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cd306fe15fe484727859a75892d2b1e3fa289c4b
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 31 11:44:46 2014 -0500

    Update lvm devicelibs tests to reflect recent changes.

commit a210eb5ccff67e7d2bcde154cc4ae5bcfe95b3ba
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 16:30:24 2014 -0500

    Add required LVs as needed instead of trying to sort by attrs.

commit f9791b99dd4eceb5e050fdc95c0c0870f375da75
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 1 10:38:12 2014 -0500

    Fix missed conversion of rm->missing in vgreduce call.

commit 0aeeafc7d9480b45a4e62e80f3f239d1363837f7
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 13:37:01 2014 -0500

    Only gather lvm information one time per DeviceTree.populate call.
    
    We run one command to gather information about all PVs the first time we
    need information about any PV and one command to gather information about
    all LVs the first time we need information about any LV. This information
    is cached until the next time someone calls DeviceTree.populate or
    DeviceTree.dropLVMCache.

commit 4ac2e752331cf03acbd9a63a3142f379da291aa8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 13:23:28 2014 -0500

    Add support for listing everything to pvinfo and lvs.
    
    Specifying a device to pvinfo or a vg_name to lvs will filter the
    results as expected.

commit 7928b2a07fb30d1a3bd7506c256b4dfeb4316444
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 13:00:53 2014 -0500

    Get lv list from lvm in a more straightforward format.
    
    The old way we'd get one info dict for the VG with list values, eg:
    
    {"LVM2_LV_NAME": ["foo", "bar", "baz"]
     "LVM2_LV_SIZE": [1,24,10]
      ...}
    
    Now we get a separate dict for each LV, eg:
    
    {"fedora-foo": {"LVM2_LV_NAME": "foo",
                    "LVM2_LV_SIZE": 1,
                    ...}
     "fedora-bar": {"LVM2_LV_NAME": "bar",
                    ...}
     "fedora-baz": {...}}
    
    Basically, it means that each lv gets it own info dict, which is much
    nicer than having to piece together pieces from several different dicts.

commit c808410a18c763cb2687d0fa9d7a77d9ff56c3fe
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 12:54:31 2014 -0500

    Gather lv list where we use it to save from having to stash it.

commit 6982ef11fdb9e9738b1ccf079eba9d5c0bad9a43
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 12:17:48 2014 -0500

    Split out common lvm parsing code.

commit e754173f243d867987afbe19d290b7d78e25b2c8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 13:57:33 2014 -0500

    Add tests that use ParentList as part of Device.

commit d9076b4d964f63c0a2291320553f1e9e8bbabb8d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 12:15:41 2014 -0500

    Parent list length doesn't reflect new member in _addParent.
    
    The new parent doesn't get added until after _addParent returns.

commit b5e60ed4bea615e9120098deb1a3a11df0878acc
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 18:23:29 2014 -0400

    Rearrange _startEdd to be a little more obvious.
    
    This change was prompted by an unused variable warning.
    
    The method should behave identically, except for the unlikely
    scenario where buf is "NIC=", in which case the previous version
    would raise a ValueError, and the new version logs an error.

commit b5bec4456bd12bd4b3ec5e54dd0cd7a7492de31f
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 18:06:01 2014 -0400

    Raise exceptions using the new syntax
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 31580691f6d438b2528cfd36a6ba3b9a9c572c27
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 17:55:16 2014 -0400

    Do not import logging twice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a5843d9fdfcdb93d2575988f72b7aa6a7be0e873
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 17:49:09 2014 -0400

    Suppress unused variable warning
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d9c81d91d1e43fafd3374106ee9c7b42735f89b5
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 16:30:01 2014 -0400

    Get rid of writeRandomUUID.
    
    It is not used anywhere and pylint complains about all the subclasses
    of FS in which it is not overridden.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f8a9f6ab0943491dc52250a1b33c21ee3cda3425
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 16:09:57 2014 -0400

    Remove unused variable but retain call for its side-effects
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a838437441ec129d2e212d645246c37b8c3a431e
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 16:07:16 2014 -0400

    Put docstring in class
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bd04c1e27e2678ff8fe2e17ad161a42024859248
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 16:05:08 2014 -0400

    Remove appendiceal assignment
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4975b12aa8bea8bfaa5ccc3bc5b93d939e17746e
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 16:00:31 2014 -0400

    Keep first parameter "self"
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 65c148bc9602b3989a5d7aed19a4a2b6e06a95de
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 15:57:27 2014 -0400

    Omit compile flag
    
    It is not relevant to making updates for blivet.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7bc4a8efafaadecdf3bc2187b2c74235db619a4f
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 15:42:37 2014 -0400

    Move lines beneath __main__ into a main method
    
    So that the variables now defined in main do not have global scope.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7f1dac9c8930d2252ab54b2ac1d846bdce0e88f2
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 15:31:45 2014 -0400

    Indent with spaces, not tabs
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5014043bd3a720357ad7aaf6b6bc79b34f09d5c1
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 15:25:07 2014 -0400

    Change param default [] to None and convert in method
    
    A default of [] (or any mutable structure) is considered dangerous because the
    default argument is packed up with the function at its definition. Thus, the
    same object is shared among all execution instances of the function that
    are called with the default argument.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f51a0786b6afa79bf7b7bd3581180d629c0ee47c
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 12:29:39 2014 -0400

    Change to a semantically equivalent version of FileDevice.path
    
    Prompted by an unused variable status message.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 759eacbf70f0e917f53033654566a138c81951ff
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 08:51:07 2014 -0400

    Adapt existing tests to changed signature of some methods
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 27edf9ccd1cea4e6ddf8e8efcd7473f18dcb23f4
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 13:23:04 2014 -0400

    Don't assign return value to unused variable
    
    But keep the call, for the side-effects.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 74a250422c716453067e9877c5ea668cb874fb9f
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:23 2014 -0400

    Be specific when catching exceptions
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 649f1e00ad8c30ff3e4d1ceba821f8bbf6302ec3
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 10:12:27 2014 -0400

    Remove appendiceal assignments
    
    These all look like they were valuable to some code once and that code went
    away, but they remained.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 74b534ea96f4521465d04f8b3e586efbaad4d137
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 12:09:45 2014 -0400

    Remove a lot of unused variables extracted from udev info
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b84b63ebe22738bfcf431a0eeeeb000f8ffe0a10
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 12:03:44 2014 -0400

    Don't get return values from communicate() if they are ignored
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 10bb5dc2347710402a3d129420aceae59fbc427d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 09:56:05 2014 -0400

    Use the disk's name in log message
    
    That must be what is wanted, also DeviceError does not have a name field.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 858bc0dbb203195a3e95c20eb9b8fb01c29e8eb3
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:24 2014 -0400

    Get rid of old exception unpacking syntax
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8acb82dea42fefbcbf8a01b7e5dc648fae571370
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:22 2014 -0400

    Rearranged some iffy exception checking
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3b614d77b26624129e7c119fbfa8181ee33cf5c6
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 13 13:03:39 2014 -0400

    Replace with a semantically equivalent chunk.
    
    This was motivated by a complaint about unused variable path.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6ad0281efbb6712fe763f32807058815571d6d41
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 11:14:49 2014 -0400

    Remove some unused exception names.
    
    Where the code is:
    
    except <SomeException> as <var>:
        <some code>
    
    and <var> is never used, change to:
    
    except <SomeException>:
        <some code>
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3be6d57faabfe913a33df04ac3abc3f88b7676a6
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 11:02:06 2014 -0400

    Remove unused assignment to boot.
    
    boot is not used anywhere in the method below and I do not believe that it
    is global. So, the only effect of this change would be that if
    self.bootDevice raises an exception that is not in
    (DeviceError, AttributeError) that exception will no longer be propagated.
    But it seems unlikely that such an exception was being raised anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 632e6d6821397565d4459fb622a1ab2e1296d4b2
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 10:50:43 2014 -0400

    Delete method-local pruneFile function.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3487246f5d03ac1b279626c5143282bbb3d95041
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 09:19:48 2014 -0400

    Don't comment out function headers but leave their bodies uncommented
    
    Instead, delete the functions entirely.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0eb97de0ea058e1318ca10e11f337076ff3e0621
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 09:17:03 2014 -0400

    Get rid of unnecessary pass statements
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6c7d39250da0c123839740e38dbb9d381d16c229
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 09:00:23 2014 -0400

    Put a field and a method in the base class
    
    * Add an abstract method for _labelstrRegex
    * Stick field _name in the base class (can't abstractify it)
    
    All subclasses already override _labelstrRegex, so these errors were benign.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0b6308393d28560a2694e2f49d344feb3443b613
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 08:54:21 2014 -0400

    Spell parameter self correctly
    
    Since self was never used, this misspelling was benign.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f089530defdaf09c4b6b3433a84b6443c9856dc9
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 11 15:34:07 2014 -0400

    Give abstract method the same signature as its overriding methods.
    
    ABC metaclass mechanisms do not check the signature of a method, only
    its name, so this went undetected. It was also benign.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c0e8cb9edffb60885306f8fd8848fbca3c5e5947
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 13 12:32:26 2014 -0400

    Catch correct error and disable warning.
    
    If there are not enough fields, a ValueError is raised
    because the unpacking of values does not succeed.
    
    Disable the warning because rest is serving a legitimate function as a place
    holder.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 91da9551c9e3d58af085e552afca0e8c7df653c0
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Mar 26 17:29:20 2014 -0700

     New version: 0.46

commit d79acf0bc846a17e85c99d8ccf8af3d996a3cc90
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 24 10:25:56 2014 -0500

    Adapt callers to use the new parent list interface.

commit fd40c67f03481a95196b9ff855cdef93a21755d6
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 24 10:14:00 2014 -0500

    Change management of Device parents to use a simple list interface.
    
    The parent list is an instance of class ParentList, which provides a
    simplified list interface with the addition of an element uniqueness
    constraint and optional user-defined pre-add and pre-remove functions.
    
    Before, to modify a device's parent set, you'd do this:
    
     device.parents.append(newparent)
     newparent.addChild()
    
    or this, if device is a container type:
    
     device._addMember(newparent)
    
    Now, regardless of the type of device, you do this:
    
     device.parents.append(newparent)
    
    Any checking or accounting is handled by the callbacks registered to
    the parent list.

commit bdeded0f39fe27c74f56967835a8ae25ce031004
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 24 10:01:27 2014 -0500

    Convert ContainerDevice to an abstract base class.

commit b30dc560f8d58d4c24950df93f9f6d2ecb861ebf
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 24 11:17:01 2014 -0500

    Set device uuid before calling Device ctor.
    
    It is needed by ContainerDevice._addParent.

commit d71bd03e3b55759bfd513440c00f28d28fcfbcf9
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 24 11:21:04 2014 -0500

    Improve the mechanism for VG completeness.
    
    Do not modify self.pvCount -- that makes it meaningless as it was
    obtained by lvm.
    
    Do not worry about completeness if no pvCount was passed in for an
    existing VG.
    
    Because we instantiate all Device classes with exists=False when unit
    testing, add a hack to StorageTestCase.newDevice to set completeness
    appropriately for existing VGs.

commit 4b126e4a935e9240cb06d5fe379d7418be0afc0e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 19 10:45:19 2014 -0500

    Support mutually-obsoleting actions.
    
    This is for action loops like adding a device as a PV and then removing
    it from the VG.

commit 9b863420179957badd12cfac457f35ac1ee52caa
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 19 10:44:43 2014 -0500

    Add some checking to MDRaidArrayDevice._setSpares.

commit 6e3168453b68c3cf0d6429581d416b0aa32eda53
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 19 10:40:22 2014 -0500

    Make sorting by action type part of the action classes.

commit 6cb1dd9340363eb1c761e52938e256e119fefdc4
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:48:19 2014 -0600

    Add action classes for container member set management.

commit e32df5ea7b6741bd3fac7cab2982ca36ac2dec33
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:47:22 2014 -0600

    Add a property to provide consistent access to parent container device.

commit 143c75ae70a0164946a2987409beae2c0afd4547
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:45:47 2014 -0600

    Add type-specific methods for member set management.

commit 979829f64ac2210c2978fd09b2e214ec1b54c0a1
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:45:15 2014 -0600

    Adapt callers to new method names for add/remove member device.

commit 42a92a9108da14def71f1417d40c55c384d65f6b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:44:16 2014 -0600

    Add a ContainerDevice class to consolidate member management code.

commit 612a075dfaefaee3f299e9f6b770aedac0fb400d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:43:36 2014 -0600

    Add backend functions for container member set management.

commit 7444a512bd4172d83d7175acda7c82ee2632f1ba
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 11 12:07:48 2014 -0400

    Teardown RAID device once testing is over
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fc18112964b6500dbfe2b7b118fdfe5043ac3884
Author: mulhern <amulhern@redhat.com>
Date:   Fri Feb 28 12:39:16 2014 -0500

    Make lvm tests runnable.
    
    The intention is to make it possible to run the tests at all. If any
    test indicates that the code is doing the wrong thing it can be cleaned
    up later.
    
    Some changes are:
    * Add a tearDown method to unbuild the volume group in case the test actually
    fails.
    * Change bare ints to Sizes.
    * Be more specific about some errors raised.
    * Use instance fields for volume group name and logical volume name.
    * Methods that were found to behave very differently than the tests expected
    were:
      * pvremove --- it's happy to remove an already removed physical volume
      * lvs --- the data it returns is definitely not in the expected format
      * vginfo --- ditto
      * pvinfo --- ditto, also it does not raise an exception for an unknown device
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7333b505d3a53e4d125d1e227fa48362cef05297
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 27 15:03:51 2014 -0500

    Make crypt tests runnable.
    
    If any of these tests seem wrong then the code can be fixed up and the test
    changed.
    
    A tearDown method was added to close the device in case a test failed.
    
    Some instance fields were used for the names of the devices.
    
    Some aspects of the code that brought about these changes are:
    * All crypto.luks_* methods raise a ValueError if they are not given a
    passphrase although they accept a key_file argument.
    * If a device does not exist, CryptSetup raises an IOError.
    
    Some methods that did suprising things were.
    * is_luks --- it raises an IOError for an unknown device
    * luks_format --- raises a ValueError if it gets a keyfile instead of a
    passphrase
    * luks_remove_key --- raises a CryptoError instead of a RuntimeError
    * luks_status --- returns ints, not booleans
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dfc9142bf7d8ab66b4fa6a564bc9c060f6f0cf3f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 25 07:34:38 2014 -0400

    Replace unnecessarily complicated expression with string multiplication
    
    "".join(["<str>" for n in range(<n>)]) goes to "<str>" * <n>
    
    which is a good deal simpler.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 71a7b20239dc70b7c1ae83972d871ffb25d28de8
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 25 07:30:11 2014 -0400

    Suppress unused variable warning for index in range
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 55dab952c68da5793bf8d69295537aceda9f5f3e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 12:42:02 2014 -0400

    Suppress some unused variable warnings.
    
    Suppress warnings when the unused variable is in a tuple that matches
    the result of a split() or partition() operation and the possibility
    of a failure to match is handled appropriately.
    
    Note that sometimes a failure to match is fine and does not explicitly
    need to be checked for as in matching an optional comment.
    
    Suppress by prepending unused variables with an underscore.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0ae078265968a601f8a58c50c40172e537b87f13
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 10:39:21 2014 -0400

    Suppress some unused variable warnings
    
    Suppose we have some code:
    
    for (x, y, z) in <some list of tuples>:
        # do something with x
        # do something with y
    
    Then z will be reported as an unused variable. But really, there is
    no more elegant way to give x and y names, so it's better to supress
    the warning about z.
    
    We do that by preceding the variable name with an underscore,
    like _z.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3a60f99acf9c1522ec476c13e7700e078ecbb255
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:21 2014 -0400

    Update to the new raise syntax
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6bd241358c43b87f86b6857d6f510aa04b7bb472
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:20 2014 -0400

    Removed an unnecessary semicolon
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 27f1f696c07e4905cd33961fa5ecd6b6ec2d893c
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:19 2014 -0400

    Removed a redundant definition of NoDisksError
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 78a085368db5891466988c3be273e7260b13e8f7
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:18 2014 -0400

    Specify regular expressions containing backslashes as raw strings
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c20624492a22edff358abc00dd8ef81e6a3e490e
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:17 2014 -0400

    Fixed some questionable indentation
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6963ddfdc091b8e7873d0b0fd0e446f595de77cf
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:16 2014 -0400

    Fix logging function string format warnings.
    
    Specify parameters to logging function strings as parameters to the
    logging function so that the format operation does not need to be
    evaluated for message levels that will not be logged.
    
    Signed-off-by: mulhern <amulhern@redhat.com>
    
    Note that this can mean the difference between crashing and not-crashing,
    if your __repr__ function is unkind enough to throw an AttributeError,
    for instance.

commit 5cd8e7824f39e730df73a3ff48b3a9c77ce651a7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 19 14:59:51 2014 +0100

    All size specifications should be Size instances (#1077163)

commit 07724e5da43c42c7e2fe2dc81a48a04ba8c09972
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 19 11:03:45 2014 +0100

    Make sure StorageDevice's self._size is a Size instance (#1077179)
    
    In the size property setting the self._size attribute, we make sure nothing else
    than a Size instance is assigned to self._size, but in the constructor we don't
    do any such check.

commit 674ce64c89972332725b97a7e6b15105235ab786
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 19 11:02:34 2014 +0100

    Allow creating Size instance from another Size instance
    
    Attempt to create Size instance from another Size instance should work and
    result in creation of a copy.
    
    Related: rhbz#1077179

commit 0a370ada60674792d17c4b4554454338b9ec5f1e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 20 12:59:28 2014 -0400

    Force removal of hidden devices (#1078163)
    
    Resolves: rhbz#1078163
    
    An extended partition is considered a non-leaf device if the parted info
    indicates that it contains some logical partitions.
    
    In hide, we need to preserve the parted info, when we are removing existing
    devices, in order to reconstruct it later if we unhide the device.
    
    Therefore, in hide, when removing a PartitionDevice, we are not changing the
    parted information, so we must force the removal to avoid throwing the
    non-leaf exception.
    
    In theory, we only need to force the removal for PartitionDevices that happen
    to be extended, but making the force conditional in that way is probably
    excessive.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3cead3a2f65c1aa054fb48a2699102fb34d990c8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 12 13:11:47 2014 -0500

    Get action_test into working order.

commit cc67d9e71140852feec3a6d87fa0a8143a149898
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 11 13:57:14 2014 -0500

    Update action_test.py to specify sizes using blivet.size.Size.

commit 34ddb8f82e1049ccb0d9fde455513a4b4a65d31b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 12 13:10:14 2014 -0500

    Don't corrupt the environment when setting up StorageTestCase.
    
    Also adds some necessary patching to PartitionDevice related to resize
    so that it does not require setting up a mocked parted.Geometry.

commit 45ec9e12bbdca1703a3df1983dc43605e6a78403
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 12 13:07:25 2014 -0500

    Make minSize, maxSize consistent and correct.
    
    StorageDevice defaults should be dependent on whether the device is
    resizable -- not whether or not the format has known size limits.
    
    Any minSize or maxSize may be zero, meaning there is no known limit.

commit fd64507fbdff8d157194e10038b2cd0779041a30
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 11 13:43:34 2014 -0500

    Don't prevent grow actions on devices with no max size.

commit 14be04de8d8cd9803c8d5f4d90644a6111f9b32e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Mar 20 16:41:38 2014 -0700

    New version: 0.45

commit d5e6175f86eaed9eefb9cb2a6f4db14da4aaac10
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 19 16:02:51 2014 -0400

    Changes to allow pylint checks to be run on a distribution of the source.
    
    That is, we allow for the fact that sometime the top source directory
    may not actually be a git working directory.
    
    Changes taken from anaconda commit 67dd55b7d532dadd5ac05cb89e63435b9d76be39.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 249ad1dd924db5771bc1e6d6cc97c1028cae3cea
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 19 12:35:42 2014 -0400

    Remove non-doing check target
    
    The only task this check target has is a commented out pylint check,
    which has the potential to confuse people.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bb0830f11cc33a5bd06135d64f7d6bc9607a1229
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 19 11:46:41 2014 -0400

    Add a script to relate pylint errors to lines changed.
    
    Note that this does not:
    1) Identify all new errors that pylint has detected that your code introduced.
    2) Omit errors that are in lines that changed but that your code did not
    introduce.
    
    Note that it expects that you have already run the pylint testing script and
    that pylint has logged the output.
    
    You will need to have diff-cover (https://github.com/edx/diff-cover)
    in your path.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9114195686abcee5b48687c8443174b8dcb2e02b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 19 11:16:56 2014 -0400

    Change output format so that it is suitable for diff-cover.
    
    The diff-cover instructions require setting --output-format to
    parseable, but apparently that option is now obsolete.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 696f376db2b462db7f5dd352705700f6b0826402
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 11 11:46:41 2014 -0400

    Do an initial setup for running pylint tests in blivet.
    
    The files are just copied from files in anaconda and anaconda specific
    stuff removed.

commit 34fab6ec53b70b114379f89e791bcdafe3874155
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 13:34:22 2014 -0400

    Handle None in devicePathToName(#996303)
    
    Log "(none)" if devicePathToName returns None so that it's more clear
    what happened.

commit 538b541cc795b710133b45a9282920c8fb8406eb
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Mar 14 15:03:16 2014 -0400

    Remove bootloader.packages from storage.packages (#1074522).
    
    We need to be able to make separate decisions on installing these sets of
    packages.

commit 59e1bdccd99ff277f16727fda9400aa0c2b6c557
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Mar 13 17:47:13 2014 +0100

    Whitespace fixes for the crypto devicelib module

commit fc74a9e7226051b770e3c1095d2503442ebbd795
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Mar 13 17:41:10 2014 +0100

    Use random.choice for generating LUKS backup passphrase

commit c56e8537fd1e5845c24debcb39a8cb6d4270881b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Mar 13 17:24:03 2014 +0100

    Trivial fixes for the lvm devicelib module

commit b9446b31422cedd608cabaf3b5c9be58e151630e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Mar 10 17:39:58 2014 +0100

    Make vginfo work the same way as pvinfo and other LVM functions
    
    All the other LVM devicelib functions return a dictionary.

commit ce8135b26715811629860dcc059fd998a92a788b
Author: David Shea <dshea@redhat.com>
Date:   Sat Mar 8 16:57:50 2014 -0500

    Allow NTFS to be mountable. (#748780)
    
    Back in the time of Fedora 14, anaconda marked NTFS volumes as
    unmountable, because any attempt to mount them would hang in the mount
    wrapper in imount.c. Because NTFS is handled through fuse, an instance
    of mount.ntfs stays running after the mount operation is completed, and
    mount.ntfs does not property daemonize: it leaves stdout and stderr
    open, so we were getting stuck trying to read from what should have been
    closed file descriptors.
    
    mount.ntfs still does this, but the problem has been twice fixed
    elsewhere: /bin/mount closes its stdout and stderr--which closes the
    copies attached to anaconda's pipes--when it exits, and the python code
    we now use in place of imount pays attention to SIGCHLD, so it stops
    trying to read output when mount exits whether the file descriptors are
    still open or not. So we can mount ntfs partitions now if anyone wants
    them.

commit 0c40779fa8f69a6910d781dbad5deefb7b6cdda4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 5 18:08:06 2014 +0100

    Limit the LV size to VG's free space size
    
    When creating the LV we should check its VG free space size and shrink the LV if
    it exceeds the biggest possible size.
    
    Related: rhbz#1072999

commit eb2255f612c40173023f3d4ce69f0ae568489da5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Mar 7 18:31:32 2014 -0800

    New version: 0.44

commit 808d140b079ff29840b398c9ac5a37dfa9a2ab81
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 5 13:52:23 2014 -0600

    Fix an old typo in zeroing out a PReP partition. (#1072781)

commit 137b5fa360802143da07b9deb67e1c4f94154448
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 5 17:45:07 2014 +0100

    Only count with the extra metadata extents in new VGs and LVs (#1072999)
    
    Existing VGs and LVs were likely created by a code that doesn't use the same
    logic for counting with extra metadata for LVM on RAID.

commit e3aba52da4998d25b990be157d454ef9c6a09c4d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Mar 7 10:58:54 2014 +0100

    Use container's parent's name for PV if available (#1065737)
    
    When modifying the PV in the LVMFactory, we want to keep its name.

commit 4546e65608d8764022b1cf11e8a62c03bb704039
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Mar 5 10:01:49 2014 -0500

    Fix traceback with write_dasd_conf. (#1072911)
    
    The list of disks was compared to the wrong data type, so the
    conditional was never true, which led non-s390x systems to attempt to
    write a dasd.conf.
    
    Resolves: rhbz#1072911

commit 6ddcdc45909f8913dcccb009d7bd28fdba57c20e
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 3 12:33:03 2014 -0500

    When copying a root, also copy hidden devices (#1043763)
    
    Related: rhbz#1043763
    
    Otherwise, even if the devices are unhidden the roots mounts or swaps will
    remain empty.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d63efcadfbce7da8eb7148420a08da087ad5a99b
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 3 12:31:23 2014 -0500

    Add hidden flag to devicetree.getDeviceByID (#1043763)
    
    Related: rbhz#1043763
    
    Similar to devicetree.getDeviceByLabel, etc.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 726a37472ec43103af07eecfaa0329e5bb537b64
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 3 10:49:15 2014 -0500

    Only set device for mountpoint if it is not None (#1043763)
    
    Related: rhbz#1043763
    
    Unless the else is there the block above never has any effect.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ae57b318db4fc67cb3126c527730caf12e26bbdf
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 27 16:21:12 2014 -0500

    Extend the list of things to be omitted if moddisk is False (#1043763)
    
    Related: rhbz#1043763
    
    If moddisk is False then avoid removing partitions, but also avoid removing
    logical volumes and subvolumes.
    
    The idea is to leave information about what is on the device intact, but to
    remove it from the list of devices.
    
    Only the top few lines have actually changed, the rest is indentation only.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ab4926083b738e855c9466969b7c7d11fa2ecad8
Author: mulhern <amulhern@redhat.com>
Date:   Wed Feb 26 09:36:55 2014 -0500

    Set req_name to None at the top of initializer (#1043763)
    
    Related: rhbz#1043763
    
    To avoid a has no attribute req_name error.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8675bc63d7271f9dc792d023210cab71bd2d50e1
Author: mulhern <amulhern@redhat.com>
Date:   Tue Feb 25 12:11:13 2014 -0500

    Log action cancelation (#1043763)
    
    Related: rbhz#1043763
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 09ab21a1310f3d5dacc0cc708b136d85ab26b798
Author: mulhern <amulhern@redhat.com>
Date:   Tue Feb 25 11:43:06 2014 -0500

    Make DeviceTree.hide() remove a larger set (#1043763)
    
    Related: rhbz#1043763
    
    If a device is hidden these things now happen:
    1) All actions are canceled. Note that canceling a device create action will
    cause the device to be removed. Note that it should be the case that no
    existing device has a device create action associated with it.
    Previously only a subset of actions were canceled.
    2) The device being hidden is removed using _removeDevice. An additional
    post-processing step adds the name of the device back into self.names.
    Other steps associated with hiding the device remain the same.
    
    Note: The device exists if and only if it has not been removed by the
    cancellation of all actions. So, if it does not exist, then the method
    is done after action cancelation. However, if the device does exist, it should
    be removed, special hiding actions should be done, and its name should be
    inserted back into self.names.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 040f69a9845cae0a7e9bf88d752bdb3e4c0732f0
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Mar 4 15:18:40 2014 -0500

    Re-write the DASD storage code. (#1001070)
    
    This gets rid of the DASD class and instead introduces a small
    number of functions to interface with and manage DASDs. This is
    completely divorced from the anaconda code and much more
    lightweight.
    
    (The corresponding Fedora bug for this is 859997.)
    
    Resolves:rhbz#1001070

commit 496964383a1bfb97073a622d9dd57091276637b8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 27 09:38:49 2014 -0600

    Include image install flag when updating from anaconda flags. (#1066008)

commit f0ed2f46514d5bd9d714780659864c281af68dfe
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Feb 28 17:05:47 2014 -0800

    New version: 0.43

commit b950e909e0d8c9eaf76084ddc9188ed7c5a41ee6
Author: Martin Kolman <mkolman@redhat.com>
Date:   Fri Feb 21 14:21:12 2014 +0100

    Include tmpfs mounts in post-install kickstart (#1061063)
    
    Previously tmpfs mounts created during installation have
    been left out of the post-install kickstart file in
    /root/anaconda-ks.cfg. This is now fixed.

commit df37dc135c3a8b74bac558cf17ca913163f046d6
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Feb 21 11:18:47 2014 +0100

    Count with the extra metadata extents for RAID consistently (#1065737)
    
    When creating an LVM setup on top of RAID, we add some extra extents to make
    sure the metadata will fit in. However, when reporting free space in a VG or
    when creating an LV in a VG the size of which was pushed to the limit, we need
    to take those extra metadata into account as well.

commit 5f1a12b3967624b07a69c2f55c2ed61f3a86bd4e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 20 10:23:51 2014 -0500

    Make partitioning error message more friendly (#1020388)
    
    Resolves: rhbz#1020388
    
    Automatic partitioning is complicated and may fail for a number of reasons
    besides an absolute lack of space. This message is less misleading than
    the previous two because it does seem to blame lack of space or a particular
    partition.

commit 68c354fe4540fd22d2725ddf0bc864b04f8b4917
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 18 14:48:21 2014 -0600

    Fix partition handling across multiple processActions calls. (#1065522)
    
    We replace the parted.Disk instances in all DiskLabel instances every
    time processActions is run, so we need update the parted.Partition
    instances throughout the devicetree accordingly.
    
    Also, we have to make sure that each DiskLabel's _origPartedDisk is
    updated before we update the DiskDevice's originalFormat with a new
    copy of the DiskLabel.

commit bd8860248ab3c4a7af2997090526f6ced953b1e3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 18 13:47:14 2014 -0600

    Let the udev queue settle before populating the devicetree. (#1049772)
    
    In this case we open a LUKS device from the custom spoke in anaconda
    and then call populate, but an LVM PV on the opened LUKS device can
    take some time to get setup.

commit 6c7591e45f8e5c17807ef88a17e7aa077fd7984b
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 18 13:42:38 2014 -0600

    Don't activate or deactivate devices from the action classes. (#1064898)

commit 4f95301f8d80c10cfcd8d8be91ac025f19cf7c99
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 14 16:31:16 2014 -0600

    Improve handling of parted.DiskLabelCommitError slightly.
    
    This approach is more focused in that it only deactivates devices that
    actually use the disk we're trying to commit to.
    
    This brings up something that should probably be addressed at some point:
    We should consider some kind of warning when a partition table change is
    scheduled on a disk with in-use partitions.

commit 9ebcd9cb085b8657cd5bcd0e2c87358a2c1e6d47
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 20 11:47:12 2014 -0600

    Make teardownAll work regardless of flags.
    
    Instead of making it do nothing except in installer mode, just don't call
    it when it doesn't make sense to do so.

commit fbea2f9d5c53b054c12625fb9e31e5b0338279e7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 15:11:31 2014 -0600

    Fix maxSize test when setting device target size.
    
    maxSize can be 0, which means there is no max size.

commit 9119ffe5fcda74852a9c8f531506b1482f9013e8
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 15:12:43 2014 -0600

    Size.convertTo should return a Decimal.

commit 1f35cdd504d1e9c7081f26eb2619e092de0e8190
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 15:12:16 2014 -0600

    Don't use float for anything.

commit 34ab3a1c376e7881e0f5db5127bfd2220480f32a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 14 16:30:20 2014 -0600

    Fix type of block count in PartitionDevice._wipe.

commit ec4533814811b8ac4f4eba14c249dae77b74f752
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 14 16:27:57 2014 -0600

    Fix handling of size argument to devicelibs.lvm.thinlvcreate. (#1062223)

commit dbeb3a34e4c2c9815567c76915632c281f1dc699
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Feb 20 10:10:47 2014 -0800

    return empty set when no matching fcoe nic (#1067159)
    
    When there is no matching nic (or no nics at all) return an empty set
    from dracutSetupArgs.
    
    Resolves: rhbz#1067159

commit 1f8c93ecf1be236fd4ec2f00bf64fd2c69246761
Author: David Shea <dshea@redhat.com>
Date:   Wed Feb 19 11:01:31 2014 -0500

    Return str from Size.humanReadable (#1066721)
    
    The values returned from humanReadable should behave the same as the
    values returned from __str__.

commit 74be8527f704832f6d99b499823a24ebd50bc1bf
Author: mulhern <amulhern@redhat.com>
Date:   Tue Feb 18 12:31:44 2014 -0500

    Add a coverage test target (#1064895)
    
    Resolves: rhbz#1064895
    
    Submitted by: Alexander Todorov <atodorov@redhat.com>
    Revised by: mulhern <amulhern@redhat.com>
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d3c88fb183884ec773d5b29d52226e6745636b0c
Author: mulhern <amulhern@redhat.com>
Date:   Tue Feb 18 10:55:17 2014 -0500

    Filesystem labeling tests will not run without utilities (#1065422)
    
    Resolves: rhbz#1065422
    
    Check that utilities are available before trying to run tests that use them.
    
    Do this check in the setUp() method of the base class.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 73a9855d19b623b3e7dad0825d5f3959a7920264
Author: mulhern <amulhern@redhat.com>
Date:   Sat Feb 15 13:04:03 2014 -0500

    Rename misc_test.py to something more descriptive (#1065422)
    
    Related: rhbz#1065422
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4845146bac91dab5371b464090d7f55e9138e975
Author: mulhern <amulhern@redhat.com>
Date:   Sat Feb 15 12:06:43 2014 -0500

    Refactor labeling tests (#1065422)
    
    Related: rhbz#1065422
    
    There are so many commonalities between tests for different filesystems
    that it is time to factor those out before new stuff is added.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bd15af262068b80d40c9acbd8b4425abf7815d58
Author: mulhern <amulhern@redhat.com>
Date:   Sat Feb 15 10:21:57 2014 -0500

    Move SwapSpace tests into a separate class (#1065422)
    
    Related: rbhz#1065422
    
    Swap space is not like the other things tested here. Moving it into
    a separate class allows abstraction of some of the other tests.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 459dda832d15a435399ff6cca08da53912912a73
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Feb 18 16:38:35 2014 -0800

    New version: 0.42

commit a03a11425f7f0dce1386fc3b4bf769bd9af76203
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 29 10:07:36 2014 -0600

    Wait for udev to create device node for new md arrays. (#1036014)

commit 27ca10973a7e46eda60459c86542a25ec368227b
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 12:09:36 2014 -0600

    Fix detection of thin pool with non-standard segment types. (#1022810)

commit 953bdd136ad88d5569db9b3f4dfba909bf538748
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 09:45:30 2014 -0600

    NFSDevice does not accept the exists kwarg. (#1063413)

commit 210e3f14964b8bb628fce003aa175f702e5456b7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 09:15:37 2014 -0600

    Don't run mpathconf for disk image installations. (#1066008)

commit 6df77b2bfbf561e967ad18f6d8da1022d4793b45
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Feb 12 13:52:56 2014 -0500

    If /etc/os-release exists, check it to identify an installed system.
    
    This should allow us to identify and list installed OSes that do not have a
    redhat-release file (which is most of them), but are new enough to have an
    os-release file (which is probably not yet that many).

commit 3e51ef5940d54b5dd8e66da20e7fa345cf694062
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 14 12:39:31 2014 -0600

    Get the unit tests into a runnable state.

commit 38c8d7bdf8f8d5f62040e1b97aa5c2fcf1b5a9a2
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 12 15:41:06 2014 -0600

    Update Source URL in spec file to use github.

commit d87f610c9d922313a7aeac606fae2ad845228831
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Feb 11 16:35:07 2014 -0800

    New version: 0.41

commit dc6e51b7fdb9e9bc1202ee15347d1bdfe2f8387b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Feb 10 14:53:45 2014 -0800

    ntfs _getSize needs to use Decimal (#1063077)

commit f2afbd51485b8a2a63373cedb2f6cc3fc38acbcc
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 6 10:58:53 2014 -0500

    Separate sanityCheck-ing from doAutoPartition (#1060255)
    
    Related: rhbz#1060255
    
    Moves the sanityCheck call into a separate method. The separate method
    doesn't do much but allows to throw a PartitioningError in some cases where
    that is expected.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dca22733eb6d8cbdd1d1301ceafbb795993c9917
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 6 11:05:04 2014 -0500

    Change messages to SanityExceptions objects (#1060255)
    
    Related: rhbz#1060255
    
    Change string messages returned in sanityCheck tuple and in
    _verifyLUKSDevicesHaveKey to Error objects.
    The major purpose of this is to be able to distinguish and filter them.
    
    Use object type to distinguish warning (SanityWarning) from errors
    (SanityError) instead of passing back a pair of lists.
    
    Also, got rid of that large chunk of commented out code, if we want it, we
    know where to find it.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ae01bddbf964daefcfec55afe229c3f2e8b6cf16
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 6 11:00:57 2014 -0500

    Make a small SanityException hierarchy (#1060255)
    
    Related: rhbz#1060255
    
    Class hierarchy looks like this:
    
    StorageError
       SanityException
          SanityError
             LUKSDeviceWithoutKeyError
             ... more stuff here, as needed ...
          SanityWarning
             ... more stuff here, as needed ...
    
    SanityException should be something generated by blivet.sanityCheck.
    LUKSDeviceWithoutKeyError is currently the only distinguished subclass of
    SanityError. It's special,
    because in some situations where sanityCheck is called, a missing key
    should not be considered fatal, but it's the caller's job to figure out if
    that is the situation.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e10d197e233e7bc5ea3a633a8786434b38236426
Author: mulhern <amulhern@redhat.com>
Date:   Tue Feb 4 18:26:26 2014 -0500

    Remove unused exception class (#1060255)
    
    Related: rhbz#1060255
    
    It is not raised anywhere and seems not to really belong.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 803725f834ea80ed0392d3d074152dad7574a2fb
Author: David Shea <dshea@redhat.com>
Date:   Wed Feb 5 09:24:04 2014 +0100

    Add another .decode("utf-8") to humanReadable (#1059807)
    
    This way Size.humanReadable always returns a unicode object that __str__
    can always convert back to a str.

commit a7c42070c965f349a6cabcd9c22250c455f3152e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Feb 4 17:38:22 2014 -0800

    makebumpver: Any failure should cancel the bump

commit 0c3ffd9f2ad7a1aac9882c023b14c7b99e3a68a2
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Feb 4 17:03:53 2014 -0800

    New version: 0.40

commit 192cb7f50fd7fbc129684e9def4baec58c413b27
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Feb 4 08:07:26 2014 -0800

    makebumpver: Only remove from list if action is not Resolves
    
    If The body contains a Resolves it doesn't need to be removed, since it
    is a set there is only one copy of it and removing it will result in an
    error.

commit 0138dc4ecf8d00a3dcc040c6acf93400d8e418cd
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 31 18:53:00 2014 -0800

    Update bumpver to allow Related bugs
    
    Related bugs that are against a different component will have mismatched
    Fixed-in-version strings, which is to be expected. So if it is Related,
    valid and has an ack override the bad flag and allow it.

commit 0346166c159ca2588513ae79f60929c1e478cab4
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Thu Jan 30 09:19:41 2014 +0100

    Remove all dependent devices of san device becoming multipath (#1058939)
    
    Also change the format to multipath after the devices are removed,
    not before.
    
    Resolves: rhbz#1058939

commit 7aeeedc3998d09e42c21ac958a6af2853e8b50cb
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Thu Jan 23 14:23:58 2014 +0100

    When repopulating multipath members mark them as multipath (#1056024)
    
    Resolves: rhbz#1056024
    
    This is needed when doing (re)populate when some FCoE multipath devices had
    already been added in previous populate. We need to add info["ID_FS_TYPE"] (as
    when the device is scanned/populated for the first time) so that the
    condition excluding multipath menbers in handleUdevDiskLabelFormat is
    applied to the device.

commit 31186ed990dc5829877e9bb2899950428d9139b2
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Jan 24 10:28:10 2014 +0100

    fcoe: parse yet another sysfs structure for bnx2fc devices (#903122)
    
    The patch is needed to parse-out correct parent nic used for FCoE,
    which is used for setting dracut arguments and pre-reboot tweaking
    of ifcfg file of parent device (NM_CONTROLLED=no, ONBOOT=yes)
    
    Related: rhbz#903122

commit bd5b2941ebf561a168b4402d4dc0ad18b35a7f3f
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Jan 6 15:07:41 2014 +0100

    fcoe: add fcoe=<NIC>:<EDB> to boot options for nics added manually (#1040215)
    
    Related: rhbz#1040215

commit 75ac8f2e783ee3675a7c82cffe421c976d6f36ba
Author: David Shea <dshea@redhat.com>
Date:   Mon Feb 3 13:08:42 2014 +0100

    Convert the ntfs minsize to an int (#1060031)
    
    The minsize string needs to be explicitly converted to an int before it
    can be used in a %d format.

commit 66724c49e44302fe576f05d294b6a24437717617
Author: David Shea <dshea@redhat.com>
Date:   Mon Feb 3 10:40:41 2014 +0100

    Convert the string representation of Size to a str type. (#1060382)
    
    The return value of Size.humanReadable is sometimes a unicode, since the
    translated units need to be unicode in order for upper/lower to work.
    Convert the value back to a str so that __str__ conversions don't get
    confused.

commit 34486fef9f6e6b6a7bc0777bc683582742d5d25c
Author: Adam Williamson <awilliam@redhat.com>
Date:   Thu Jan 30 18:34:57 2014 -0800

    don't display stage2 missing error as well if the real problem is stage1
    
    As things stand, if you fail the stage1 check for any reason, I think you will
    always also see the "missing stage2" error message - "You have not created a
    bootable partition." - even though the problem is really the missing stage1.
    This should only display the missing stage2 error if stage1 is OK.

commit d0527ac76b46c82e50b1707c5443cea3fc3601fc
Author: Adam Williamson <awilliam@redhat.com>
Date:   Thu Jan 30 18:34:56 2014 -0800

    Provide a mechanism for platform-specific error messages for stage1 failure
    
    This is a follow-up to "provide a more useful error message if user fails to
    create an ESP". It implements a cleaner, more generic way of doing it: instead
    of stuffing a check for UEFI platform and a platform-specific error message
    into the storage sanity check, it provides a mechanism by which we can specify
    in platform.py an error message to be displayed in the case the stage1 check
    fails.
    
    I've included error messages for each platform, based on the constraints.
    
    I also slightly tweaked the text of the generic error message itself to be
    more accurate to the logic as it currently stands: stage1_device not being set
    doesn't necessarily mean "nothing and no-one tried to set it" any more, it can
    also mean "we tried to set it but couldn't find a valid setting" - in fact,
    that's much more likely. "See below for details" makes it a bit clearer, I
    think, that the platform-specific error message is giving you more details
    about this still-fairly-cryptic message, they're not separate errors. "stage1"
    is pretty jargon-y, probably meaningless to the user, and probably not strictly
    the right term for some of these cases, so I dropped it.

commit f188f8c0fda533a777e0188d93d5a9708877590a
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jan 31 12:50:22 2014 -0500

    Don't add None value to req_disks (#981316)
    
    Resolves: rhbz#981316
    
    If a disk has been removed in the interim it won't be found by a lookup
    in the device tree, but we don't want to include None in our copy.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4ffa575de7224ac73c45da7309aff7f5cd2d73e1
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jan 31 09:06:07 2014 -0500

    Make error message more informative (#1022497)
    
    Resolves: rhbz#1022497
    
    Make the error message indicate the nature of the problem a little better so
    that it is less misleading when it pops up in the GUI.
    
    Making the error message indicate the precise problem is actually kind of
    tricky, since it would involve changing the return values for
    getNextPartitionType() to record this information
    and then propagating those values carefully througout
    a large chunk of allocatePartitions().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c9691150ab9486ac0dfa586f68ff6a747857904b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 29 13:11:50 2014 -0500

    Check that file that loop device is going to use exists (#982164)
    
    Related: rhbz#982164
    
    Catches the non-existance of the file slightly earlier and gives a more
    informative message instead of just failing when losetup is called.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d2dc2f922b76eed739373e45dae5440e22bb39e4
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 29 13:09:56 2014 -0500

    Use os.path.isabs to check whether path name is absolute (#994488)
    
    Related: rhbz#994488
    
    Just to be proper.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ba2bb2d2e553da849cdda0c21749dfee100dfc07
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jan 28 17:08:13 2014 -0800

    New version: 0.39

commit 58be1ec43ede5f79ea4bdbfff3987d4a97470191
Author: Will Woods <wwoods@redhat.com>
Date:   Mon Jan 27 12:05:28 2014 -0500

    escrow: make sure the output directory exists (#1026653)
    
    writeEscrowPackets() gets called from turnOnFilesystems() immediately
    after it mounts all the filesystems. So under normal circumstances, when
    we run writeEscrowPackets() the ROOT_PATH is completely empty.
    
    So when we do device.format.escrow(ROOT_PATH + "/root",...) that path
    doesn't exist yet, and so it ends up raising IOError when it tries to
    open a file there.
    
    The simple solution is to ensure the path exists before we pass it to
    device.format.escrow().
    
    (This won't interfere with the installer; when RPM tries to create
    /root in the course of installing the "filesystem" package it should
    happily just chmod the existing directory to the proper mode and leave
    the contents as-is.)

commit 72d56389fbdf0be1111e0e7d197bcb6b0b37c79d
Merge: 4a32b685 c81cbd05
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jan 27 09:48:07 2014 -0800

    Merge branch 'master' of git+ssh://git.fedorahosted.org/git/blivet
    
    Forgot to push New Version: 0.38

commit c81cbd05a5e29b1c82706fc5a3b09424c087ba0d
Author: Adam Williamson <awilliam@redhat.com>
Date:   Sun Jan 26 23:39:44 2014 -0800

    provide a more useful error message if user fails to create an ESP
    
    If you do a UEFI native installation, use custom partitioning, and fail to
    mount an EFI system partition at /boot/efi, blivet's __init__.py attempt to
    set a stage1 device will fail completely and return our old friend, the
    completely oblique error message "you have not created a bootloader stage1
    target device". With this patch, when that test fails, if the arch is UEFI,
    an additional error message is appended: "For a UEFI installation, your layout
    must include an EFI system partition mounted at /boot/efi". It's always hard
    to consider all possible paths to an error condition, but I don't _think_ it
    would ever be incorrect to display this message when the attempt to set a
    stage1 device fails during a UEFI installation, and usually it will be a
    useful cue for the user.
    
    Signed-off-by: Will Woods <wwoods@redhat.com>

commit 7360b05e1b82d0c1c25623f04e761df60038a79c
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 23 15:07:21 2014 -0600

    Tell lvcreate not to ask us any questions and do its job. (#1057066)
    
    Specifically, new functionality prompts the user whether or not they
    would like to wipe detected metadata when creating a new lv. This
    tells it to go ahead instead of asking.
    
    This is a global setting for lvcreate, but I think we really do want
    to create the new lv in any case, regardless of what lvm might think
    we should stop and talk about first.

commit 4a32b68580bc144838a0d92a0759d761cc13e4e8
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 24 16:56:10 2014 -0800

    New version: 0.38

commit af3ef69b130e0dae86b6e53624276eb368d96a07
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 23 15:29:04 2014 -0500

    Some simple tests for _verifyLUKSDevicesHaveKey (#1023442)
    
    Related: rhbz#1023442
    
    Some very simple tests to execute this one method. Exercising
    sanityCheck itself requires a more ambitious setup.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1a057a43cf07001df60072009bfcfc52df1fc2c9
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 23 12:37:26 2014 -0500

    Verify that LUKS devices have some encryption key (#1023442)
    
    Resolves: rhbz#1023442
    
    This add a check that every non-existant LUKS device has some encryption
    key to blivet.Blivet.sanityCheck.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e649988058b2c3365b298a9401807c4eec922ec3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jan 22 17:42:14 2014 -0800

    New version: 0.37

commit e520ee70b4ef7f21046bc91aeae74e5f68ba9ec6
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 20 14:29:58 2014 -0500

    Only do SELinux context resets if in installer mode (#1038146)
    
    Related: rhbz#1038146
    
    Basically, OpenLMI would prefer they don't happen at all, but anaconda
    needs them.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6d30c24a266799e5b03de2076e0ae142ec10d9b4
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 20 12:44:22 2014 -0500

    Look up SELinux context for lost+found where it is needed (#1038146)
    
    Resolves: rhbz#1038146
    
    Previously the context for lost and found was set at module import as a module
    level file, but it was only used when mounting a filesystem. Now, it is set
    where it is used and the lookup uses a little method in util.py instead of the
    raw selinux method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 59a6db051a46826671c80db92399275b19670d58
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 20 11:49:56 2014 -0500

    Don't reset the SELinux context before the filesystem is mounted (#1038146)
    
    Related: rhbz#1038146
    
    It does not seem to make sense to do this kind of thing before the filesystem
    is mounted.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5b3863c90d4bc07bbc170fc213b4a4c46b3ddc01
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 20 10:13:46 2014 -0500

    Test setting selinux context on lost+found (#1038146)
    
    Related: rhbz#1038146
    
    Just make sure selinux context on lost+found is currently correct.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fa56a9fcb77e060d9c5569a06ad9a5ff4050978d
Author: David Shea <dshea@redhat.com>
Date:   Wed Jan 22 09:34:54 2014 -0500

    Only retrieve the unit specifier once
    
    Use separate variables for the specifier decoded as ASCII and the
    specifier decoded at unicode.

commit 94785c33564f7999172539b87f01a2e87baad926
Author: David Shea <dshea@redhat.com>
Date:   Tue Jan 21 15:18:07 2014 -0500

    Fix the Device.id usage.
    
    Set the id for subclasses of ObjectID during __new__ so that the id is
    available to subclasses during __init__.

commit 76d8e476c9ca4d1ca63c86435b1d57ebd1cd8fc8
Author: David Shea <dshea@redhat.com>
Date:   Mon Jan 20 15:35:37 2014 -0500

    Accept both English and localized sizes in Size specs.
    
    _parseSpec will accept both English and localized size specs, either
    with a period or a localized radix character. Size.humanReadable will
    always return the localized version of a Size.

commit 48e9415f54d8af13362bdbefaf1b7a877bf6088f
Author: David Shea <dshea@redhat.com>
Date:   Tue Jan 21 09:58:25 2014 -0500

    Use a namedtuple to store information on unit prefixes

commit 4e028a6a5f31d692fa2030efff54a6d9d92ef05a
Author: David Shea <dshea@redhat.com>
Date:   Mon Jan 20 14:42:34 2014 -0500

    Remove en_spec Size parameters.
    
    This reverts commit eb4acdf8bdde7904faa9036547b782e1a4b9b388 and changes
    all the Size constructions added since then to use spec= in place of
    en_spec=

commit caf8d3f984d7630cd2b34a934fba9652b4d6a54f
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 20 11:56:28 2014 -0600

    Fix potential traceback in devicetree.populate. (#1055523)
    
    Traceback introduced by commit a11f3a8795ed from master.

commit b2b49838edf07a6bff31cdd2f3559ea6024a5f58
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jan 17 09:39:34 2014 -0500

    Fall back on relabeling app where available (#1038590)
    
    Related: rhbz#1038590
    
    If there is a relabeling app, don't use filesystem creation app to label
    the filesystem, use the relabeling app.
    
    The motivation here is that it is better for labeling to fail separately
    when possible than for filesystem creation to fail due to issues with
    labeling.
    
    The call to writeLabel is inside the if because I'ld rather not log
    a failure due writeLabel() failing to write the label None, which means
    accept the default and do not write a label. I'ld also rather not log
    a failure when the label has already been written by the creation app
    because there is no separate labeling app.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 93fe35306ebfa07ed61311a0a43af3994a177ca9
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 11:43:09 2014 -0500

    Change the meaning of label field values (#1038590)
    
    Related: rhbz#1038590
    
    Now, if FS.label is None that means accept the filesystem default and if it
    is "" that means write an empty label.
    
    If a filesystem exists when the object is created, the label should not be
    None, as that filesystem must have some label even if it is the empty string.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3b4a23442fc58852e55a577e3cb8139cc183a08d
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 15:47:54 2014 -0500

    Enable labeling on NTFS filesystem (#1038590)
    
    Related: rhbz#1038590
    
    Don't test much because NTFS's _formatting field is false, so can not actually
    format a device.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ef0b2f3a071b83890bf5a498d9b3191e476c18d3
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 15:08:55 2014 -0500

    Enable labeling on HFS filesystem (#1038590)
    
    Related: rhbz#1038590
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 23e50ac2789b065ade39b13d69dbbc24288fc4d2
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 14:32:34 2014 -0500

    Add a method that indicates ability to relabel (#1038590)
    
    Related: rhbz#1038590
    
    Some filesystems can only be labeled at creation time, others can be
    labeled subsequently.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2896ab9950079b03eddb2252ad5e3f197aa6cc91
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 14:44:34 2014 -0500

    Use filesystem creation app to set filesystem label (#1038590)
    
    Related: rhbz#1038590
    
    It turns out that every filesystem that has a distinct labeling app
    can also set the label via the the filesystem creation app, so we set the
    label there and do not call writeLabel from doFormat at all any more.
    
    If the label has a bad format for the filesystem, we do not try to set,
    but we do
    log the problem. It turns out that some filesystems creation apps
    will truncate excessively long labels, while others will refuse to proceed,
    but I think it's best that blivet avoid making such nice distinctions
    between different apps and act uniformly for all.
    
    Tests updated to check setting label at creation a little more thoroughly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1be0aede2c123884d2fe94d90427754b2aebadf6
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 10:59:40 2014 -0500

    Import errors so FSError name is resolved (#1038590)
    
    Related: rhbz#1038590
    
    These error are kind of hard to actually make happen, so test code was not
    encountering them, but pyflakes found them.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 72c44a726a78040d540d0b4ba9fae8b26e7cecf6
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 10:52:42 2014 -0500

    Remove BTRFS._getFormatOptions (#1038590)
    
    Related: rhbz#1038590
    
    It can not be called when the the instance is BTRFS because only
    FS.doFormat calls it and doFormat is only called by create which fs.BTRFS
    does not use.
    So, it can not be called at all.
    
    Also, BTRFS is the only class that overrides this method, so it's existance
    is a bit distracting.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 40c4192c5020ed4c7363a694b71064a24dcf7c73
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 10:08:47 2014 -0500

    Make an additional class for labeling abstractions (#1038590)
    
    Related: rhbz#1038590
    
    Many filesystems can be labeled at creation time. Want to distinguish
    abstract notion of filesystem labeling from concrete notion of a filesystem
    labeling application that can label after the fact.
    
    So, refactor abstraction into a separate class, which contains labeling
    application class as a field.
    
    The labeling applications and the filesystem creation apps seem to respect
    the same label formatting so labelFormatOK goes in fslabeling.
    
    The behavior hasn't really changed yet, except that some calls are forwarded.
    All existing tests are passing.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 320624fd651305afa558dbcf9cac87f3717d8e02
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 09:11:52 2014 -0500

    Fix copyright date (#1038590)
    
    Related: rhbz#1038590
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 864cf7c9e97187c20a5be0f53878a2b7d5110cd8
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 17:57:59 2014 -0500

    Remove redundant _defaultFormatOptions field (#1038590)
    
    Related: rhbz#1038590
    
    Ext2FS extends FS, which already sets _defaultFormatOptions to [].

commit 2073463ad784c447fe4bfa2eb0405ded6aad2ea8
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 15:43:48 2014 -0500

    Remove code about unsetting a label (#1038590)
    
    Related: rhbz#1038590
    
    All of the label setting application that we use can unset a label; just
    xfs_admin requires a special syntax.
    
    This means that we can get rid of one function in FSLabelApp and all its
    decendants and that we can get rid of a check in writeLabel.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b7015b3dda590d09c4b581e65886d4d4c516bbcb
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 15:40:38 2014 -0500

    Return None if the filesystem has no label (#1038590)
    
    Related: rhbz#1038590
    
    If the filesystem has no label the regular expression that matches the
    output will match an empty string. Change that to None, because that's
    what it means.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 67c42499320185b97bea4a682fd78c30e2c1cd05
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 13:32:27 2014 -0500

    Removed redundant check for existance of filesystem (#1038590)
    
    Related: rhbz#1038590
    
    The first time it throws an exception if the filesystem already exists.
    
    The second time, it just returns and nothing much happens in between.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 680670013225bd99e6abde3d66ee5f097e346838
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 13:28:00 2014 -0500

    Have writeLabel throw a more informative exception (#1038590)
    
    Related: rhbz#1038590
    
    If the format of the label is one the application can not write,
    have it throw an exception. Previously the system call have thrown an exception,
    but that one would have been much less informative.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 35973fc17df86e0d934f93c4c4492739f8155fb3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 17 17:02:52 2014 -0800

    New version: 0.36

commit 0e70d855eb8c1189a5d566386eaae783729d8ae8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 17 12:19:53 2014 -0600

    Update the TODO list.

commit a11f3a8795edb6f28211e9b05aa8df65c2d91e13
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 16 15:31:57 2014 -0600

    Multipath, fwraid members need not be in exclusiveDisks. (#1032919)
    
    This, combined with commit 07bcfa413f5e4d1fdb8ebcb9ac98834da29f0df2,
    means you can specify a multipath by identifying the multipath itself,
    all of its members, or both.

commit 98d869903e451a41cc1a7685dfdcb8977b86a0ea
Author: David Shea <dshea@redhat.com>
Date:   Wed Jan 15 20:34:45 2014 -0500

    Convert parted getLength values to Size

commit 0235e807f5135e32a2e449c7acd6afe34d5ffb13
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jan 15 14:51:08 2014 -0800

    Last of the Device._id -> Device.id

commit 4cf3ba028458045725e9e6bd34a169b14f11c7bb
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Wed Jan 8 11:12:55 2014 +0100

    iscsi: in installer automatically log into firmware iscsi targets (#1034291)
    
    Resolves: rhbz#1034291
    
    Not all iSCSI offload solutions use iBFT or need network interfaces configured
    by the OS to function.

commit 57b5adc7e6803ea2f2b4c3fc0f9863f30d54ed27
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 15 08:50:29 2014 +0100

    Use isinstance for testing numeric types
    
    This way all subclasses are correctly considered numeric types as well, namely
    the Size instances which may easily appear in that context.

commit f0cbf4fe3c9d00874514f34fe948940ad109d37f
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jan 15 10:13:24 2014 -0500

    Device._id -> Device.id

commit 27641b460ec5c1c93e8e40cd297f93f8d5b298e5
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 13 14:22:54 2014 -0600

    Allow resetting partition size to current on-disk size. (#1040352)
    
    The test to see if the new size is different from the currently
    projected size was erroneously using the currentSize attribute instead
    of the size attribute. The currentSize attribute is the wrong choice
    because it always reflects the device's actual on-disk size, meaning
    it ignores any previously scheduled resize actions and makes it
    impossible to reset the device's targetSize back to its actual on-disk
    size once it has been set to something else.

commit 536040a3807717c56ca73a2403f540a93c029823
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 10 16:13:33 2014 -0800

    New version: 0.35

commit 910ff446cd4881610b9fab46a37e8f63b1f468fe
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 19 15:36:30 2013 -0500

    Convert everything to use Size.
    
    Size essentially stores sizes in bytes and provides methods for
    conversion between various units.
    
    All sizes originating from within blivet are based on binary prefixes
    except where required to interface with other tools (see ntfsresize).
    
    This adds a missing lower bound of 1 MiB to the md raid superblock size
    calculation, which changes some of the mdraid tests.
    
    It also reverses the order of the operands in the various
    RAIDLevel._get_raw_array_size methods to ensure we return a Size instead
    of an int.

commit 33b4cc991cc5c2b7677d302d029d6d49f908eb1e
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Dec 16 11:32:44 2013 -0600

    Allow negative sizes.
    
    There are times, especially when reconfiguring a stack via the device
    factory, when a volume group might have a negative amount free space.

commit d1d8fa728ffc2e23b98281b7ec2da506e2ccab55
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Dec 20 10:23:56 2013 -0600

    Fix return value of Size.convertTo with a spec of bytes.

commit 2dc711562ea57efceaa4cb17d098d88b2f4be20c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 18 13:38:27 2013 -0600

    Discard partial bytes in Size constructor.

commit 3c7a194d38f1ee734cf4e809fdd9f14864a0fd4c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 18 13:37:50 2013 -0600

    Prefer binary prefixes since everything is really based on them.

commit b7d646e6b25a277fec6868516821001e3693275c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Dec 20 10:27:26 2013 -0600

    Fix a few minor problems introduced by recent raid level changes.
    
    This includes a change to the unit test for invalid/missing raid level
    in the md factory. _set_raid_level is only called when the factory is
    operating on a defined MDRaidArrayDevice, which is not the case here.

commit f3c5056b4c4c7336caf75b1375bc237448b67825
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 9 11:39:38 2014 -0500

    Move label setter and getter into DeviceFormat class (#1038590)
    
    Related: rhbz#1038590
    
    DeviceFormat does not have a label but SwapSpace as well as FS does, and
    it is better to put the same restrictions on the label for both.
    Note that the restriction has been reduced to converting "" to None.
    The comments on the setter explain why it is not possible to be more
    restrictive.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0ac1963351684526376aea3b5ffa0a3e4e87a73c
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 9 11:37:45 2014 -0500

    Add a test for labeling swap devices (#1038590)
    
    Related: rhbz#1038590
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit afa282915de576f605a4338840bfe52b60ad7b58
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 9 11:31:52 2014 -0500

    Default to None to mean none, rather than empty string (#1038590)
    
    Related: rhbz#1038590
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 783350b8e7583f55427e72fe540f7a5a0821ca86
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 9 11:04:50 2014 -0500

    Add a labelFormatOK method to the DeviceFormat's interface (#1038590)
    
    Related: rhbz#1038590
    
    Need to expose this information to any client of a DeviceFormat since it's
    really an operational question about the labeling application not about
    the state the DeviceFormat is allowed to have.
    
    In other words, have to allow for a legal DeviceFormat label which the labeling
    application can not handle.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d31444be05c60d9ed637f18c8924faa18a3266a2
Author: mulhern <amulhern@redhat.com>
Date:   Sat Dec 21 12:24:43 2013 -0500

    Indicate whether the filesystem can label (#1038590)
    
    Related: rhbz#1038590
    
    The labeling() classmethod returns False if the filesystem can not be labeled.
    This is really for external programs, that might prefer not to allow a user
    to specify a label if nothing can be done with it.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6e5920e6051eb4180e8fca67390c43315be08a9e
Author: mulhern <amulhern@redhat.com>
Date:   Sat Dec 21 10:26:22 2013 -0500

    Restore ability to write an empty label where possible (#1038590)
    
    Related: rhbz##1038590
    
    This was available in version of writeLabel preceding this patch
    set but was not ever exercised. It's back, but more carefully guarded
    because xfs_admin is actually unable to write an empty label to a filesystem.
    
    A few more tests were added.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7358ac7e7c1468b1570f54e8ad180d504451e98c
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 18 17:01:26 2013 -0500

    More tests to check writing and reading labels (#1038590)
    
    Related: rhbz#1038590
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0b682b09470b5e3aa910f9a903969a0e309e0b64
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 20 15:36:41 2013 -0500

    Remove fsConfigFromFile (#1038590)
    
    Related: rhbz#1038590
    
    It is unused and made more obsolete by the previous changes.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1ff04fc0e33029627f0957fd80e0efba96f1b334
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 17 11:03:34 2013 -0500

    Changes to the handling of filesystem labeling (#1038590)
    
    Resolves: rhbz#1038590
    
    * Change FS.label to a property
    - Want to guard setting the label format, so it matches the requirements of
    the labelfs program that will use it.
    - Don't set label property in writeLabel. writeLabel is only called from
    doFormat, in a context where self.label is guaranteed to be set.
    * Removed _defaultLabelOptions field and defaultLabelOptions property. The
    property is only used in this file, and it is only used by _getLabelArgs.
    The property is set from the field.
    * Remove label parameter from writeLabel method
    - writeLabel is only called in one place and in that place self.label is
    guaranteed to be set, so this change does not change the behavior of the
    program.
    - Since writeLabel uses the label in self.label instead of a parameter
    it is guaranteed that this value has passed the checks in self._setLabel.
    - Other methods that are only called by writeLabel are changed in the same way.
    - writeLabel now throws an exception if it can not set the label because there
    is no program to set it. This does not change the behavior of this program.
    * Factor out filesystem relabeling functionality into a separate package
    * Add the ability to read the filesystem label
    - In some cases, the application that is used to write the label is also
    used to read the label.
    - This is certainly useful for testing, and may come in handy otherwise.
    
    Signed-off-by: mulhern <amulhern@redhat.com>
    
    Conflicts:
            blivet/formats/fs.py

commit 3624a1d989723f257020c7e93be3f05c4ca45561
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 17 12:17:37 2013 -0500

    Add some simple tests for file formats.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3b9912fa3d3441deb5f4e44a5606c35e6f5b0c1f
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 6 12:55:04 2014 -0500

    Give DeviceFormat objects an id (#1043763)
    
    Related: rhbz#1043763
    
    The motivation here is to track DeviceFormat objects across copies
    mostly for tracking down where a default DeviceFormat object which lacks
    a particular field came from.
    
    Makes use of the id in the representation and in the getFormat logging text.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit da0ddba4dbd99e1b51025349898c0c8e01e34433
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 7 13:19:08 2014 -0500

    Refactor to use ObjectID class (#1043763)
    
    Related: rhbz#1043763
    
    Refactor Device and DeviceAction classes to use ObjectID instead of
    their own internally implemented ids.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit da07cee739f0865a88b3d2ff5dc83e404b049ec4
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 6 12:45:32 2014 -0500

    Make a class that creates a unique-per-class id for objects (#1043763)
    
    Related: rhbz#1043763
    
    There are some objects that we would prefer to be able to track across a copy
    or a deep copy. This is most likely when numerous instances of
    more or less indistinguishable objects are created and when they are likely to
    be copied during an anaconda run. DeviceFormat objects are the motivating
    example.
    
    Some objects already have an id, will refactor to use this class.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fb07fba977af647c6c86d36920dd861928c31824
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 8 08:04:24 2014 -0500

    Revert "Make a class that creates a unique-per-class id for objects (#1043763)"
    
    I pushed this only to find that there was room for improvement.
    I'ld rather push the final patch set than the changes so that it matches
    what I'll eventually push to rhel7.
    
    This reverts commit dc139033de80b859e1fb15d8767e751512006c1a.

commit 1f08b82f9ec2ee042d3dfe8304b579cb0f37cac1
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 8 08:02:30 2014 -0500

    Revert "Give DeviceFormat objects an object_id (#1043763)"
    
    I pushed this only to find that there was room for improvement.
    I'ld rather push the final patch set than the changes so that it matches
    what I'll eventually push to rhel7.
    
    This reverts commit 0ee574bf36c3f4d779f3946e6cfab6b052e93916.

commit 570ee1e9ed91188306fd365d99cc20d13b5a4490
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jan 7 15:10:35 2014 +0100

    Make the maximum end sector for PReP boot more benevolent (#1029893)
    
    There is no documentation restricting that value and 10 MB cause issues if
    alignment doesn't put the PReP boot partition to the very beginning of the disk.

commit 0ee574bf36c3f4d779f3946e6cfab6b052e93916
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 6 12:55:04 2014 -0500

    Give DeviceFormat objects an object_id (#1043763)
    
    Related: rhbz#1043763
    
    The motivation here is to track DeviceFormat objects across copies
    mostly for tracking down where a default DeviceFormat object which lacks
    a particular field came from.
    
    Makes use of the object id in the representation and in the getFormat
    logging text.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dc139033de80b859e1fb15d8767e751512006c1a
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 6 12:45:32 2014 -0500

    Make a class that creates a unique-per-class id for objects (#1043763)
    
    Related: rhbz#1043763
    
    There are some objects that we would prefer to be able to track across a copy
    or a deep copy. This is most likely when numerous instances of
    more or less indistinguishable objects are created and when they are likely to
    be copied during an anaconda run. DeviceFormat objects are the motivating
    example.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6a3e3c12ef1d5d86a88d7353a3e7307e9a5cd69e
Author: mulhern <amulhern@redhat.com>
Date:   Fri Nov 8 15:52:30 2013 -0500

    Make get_device_format_class return None if class not found (#1043763)
    
    Related: rhbz#1043763
    
    Previously, get_device_format_class returned DeviceFormat if no precise
    class was found for its argument, fmt_type, now it returns None. This brings
    its behavior into alignment with the expectation of calling code, all of
    which expect that it might return None, except for the one method,
    _parseOneLine discussed below.
    
    getFormat() has been changed so that its behavior is exactly the same as
    before; it handles the return value from get_device_format_class
    differently.
    
    The comments of both functions have been updated.
    
    The only behavioral change is in method _parseOneLine of class FSSet.
    Previously, if no format class was found for "nodev", device was set to a
    NoDevice object.  Now, the device is not set.  This is in line with the
    apparent purpose of the code, which is to set device to a NoDevice object if
    fstype indicates a format that is a subtype of NoDevFs.
    
    For reference the if condition that would allow this function to be
    unchanged in behavior with the changed behavior of get_device_format_class
    is:
    
    if devspec == "none" or fmt_class is None or isinstance(format, fmt_class):
    
    but I think that would not be what was originally intended.
    
    Signed-off-by: mulhern <amulhern@redhat.com>
    
    Conflicts:
            blivet/formats/__init__.py

commit 832b47324d5729e3e314d7f7bb243a7ea9c81821
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 27 15:29:48 2013 -0500

    A few simple unit tests for some formats methods (#1043763)
    
    Related: rhbz#1043763
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 303968a9be79358785dba30830952bd6a48591c2
Author: David Shea <dshea@redhat.com>
Date:   Thu Dec 19 14:25:20 2013 -0500

    Don't translate format names
    
    Until we get a better answer for whether or not this even makes sense,
    leave format names untranslated to avoid problems with all the code that
    expects untranslated format names.

commit 8e539825277d3e6595513b9ee6e9a946d0e0e02b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Dec 19 09:40:19 2013 -0800

    New version: 0.34

commit 5bfadacf611e8ccfd9fbf43c319bdb829e33d026
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Wed Dec 18 11:02:34 2013 +0100

    Forget existing partitions of device becoming a multipath member (#1043444)
    
    Related: rhbz#1043444
    
    For example of iSCSI disk attached in GUI.
    
    When adding rescanned partitions of the (now multipath-member) device
    they will be ignored (as partitions of multipath-member).
    
    Followup of
    commit 9e3f46c964e4c5d6087c2f649c80add0b5ae7e45

commit 40ccd104dab9c288883c1bc08e0a173143806966
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 18 08:14:34 2013 -0500

    Include blivet.devicelibs.raid in the generated documentation.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 885d4a8739df9dcd405da24638fd46d2a4271b28
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 13 19:47:12 2013 -0500

    Upgrade the comments in raid.py to be compatible with sphinx.
    
    Because doing documentation reminded me that RAID was an initialism
    changed some exception messages to use RAID instead of raid and changed
    some tests to match.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 391dc86b1290172bcc1bd3d02aec07e6869f3a60
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Dec 11 12:07:39 2013 +0100

    Make space for LUKS metadata if creating encrypted device (#1038847)
    
    LUKS needs 2 MB of space for its metadata, so we should bump up the size of
    newly created encrypted devices.
    
    Signed-off-by: Vratislav Podzimek <vpodzime@redhat.com>

commit d8d37c52c0e5a8f525ecf6869175d7459926d3b0
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Dec 13 10:55:38 2013 +0100

    fcoe: give error message in case of fail when adding device (#903122)
    
    Related: rhbz#903122

commit a848933d6555b3512cadd511b6a1ec6c729e7b3c
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Wed Dec 11 10:47:31 2013 +0100

    fcoe: adapt bnx2fc detection to changed sysfs path structure (#903122)
    
    Port from rhel6-branch
    
    Related: rhbz#903122
    
    Slightly modified patch by Eddie Wai.

commit 04f8bc750fba882b3f5df72f802a93d1e1235d7c
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Jul 22 15:47:47 2013 +0200

    Update format of iscsi device becoming multipath member (#1039086)
    
    Resolves: rhbz#1039086
    
    We repopulate device tree after add iscsi device dialog in which a login to
    some target happened. One issue with this is that format of iscsi device
    populated earlier that would make a multipath member together with iscsi device
    added in later run of iscsi dialog is not updated to be of multipath_member
    type.
    
    So we'd need either 1) require adding of all multipath members in one add iscsi
    dialog instance, which would require reworking UI to allow adding nodes of more
    targets (ie targets with different IP reachable via different subnets) in one
    iscsi dialog; or 2) update the original iscsi device format in devicetree.

commit 8937effec7a3731fe022d7428e0d6a307478ca7a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Dec 17 17:14:16 2013 -0800

    New version: 0.33

commit 49523b221ed70ec9cd676dfb307b9bee9c9eb60c
Author: d.marlin <dmarlin@redhat.com>
Date:   Thu Dec 12 19:36:58 2013 -0600

    Add initial 64-bit ARM (aarch64) support (#1034435)
    
    Signed-off-by: Brian C. Lane <bcl@redhat.com>
    
    Resolves: rhbz#1034435

commit ea4dcaa16cc26d65e9e8e94677d155ff1116b85e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 17 17:56:04 2013 -0500

    Convert to sphinx docstrings.

commit 28cb7ec94a224240cc7f24fdbd3c8d7779e29b1b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 18 18:50:49 2013 -0500

    Add some documentation.
    
    For now, things are not set up to auto-generate the docs at build time.

commit e8dd58a5d3f670c83878ecb41d5865c23b4b409e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 17 15:58:05 2013 -0500

    Move getActiveMounts from Blivet into DeviceTree.
    
    Blivet is mainly for convenience methods and things specific to
    OS installation. This functionality is fairly central to what the
    DeviceTree does -- especially when not doing an OS installation.

commit 2b01c4145dbd934a8abe2d3cb07e1f5e40d87e24
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 26 19:32:01 2013 -0500

    Add an example of creating lvs using growable requests.

commit 12313cf2a650798e63d357f8a70d5891806a6088
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 17 15:44:16 2013 -0500

    Remove a whole bunch of unused stuff from Blivet.

commit fade52af248633b295c90caeb184d687585c7ccd
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Dec 13 09:23:39 2013 -0600

    Remove usage of float in Size.humanReadable.

commit b79dd6f3e7e2663f62bc4fc3b844fc7dc9759dd3
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Dec 13 09:22:48 2013 -0600

    Add missing abbreviations for binary size units.

commit c1c47d8c2c7b2e61049ae67aa0bc11f1b09b265f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 5 15:47:15 2013 -0600

    Fix shouldClear for devices with protected descendants. (#902417)

commit 0135057ad5e9a1668851f9f9a1ecf36555d19061
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 12 13:02:22 2013 -0500

    Use // division so that it continues to be floor division in Python 3.
    
    Also added some tests and some comments to the affected methods.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5167eb8c7f01e11079dc7407812e4bc795d1c974
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Dec 12 16:00:15 2013 -0800

    New version: 0.32

commit b33960b1fa0ea910c5a1e36fb7038a99d6b283d4
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 10 13:10:37 2013 -0500

    Work on devicelibs.btrfs methods that require that the device be mounted.
    
    Make a small subclass that handles mounting the device before tests
    and unmounting after tests. I pondered making this a more general class
    that can be shared among the different filesystem tests, but there are
    some things about mounting the filesystem that are somewhat btrfs specific.
    
    Otherwise just tests and comments.
    
    subvolume list is pretty configurable and its output can change somewhat
    depending on the version installed. The tests that use it are written
    to be robust to small changes, but could probably be strengthened a bit
    as btrfs settles down.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f1a29e9302249d633e9f87c49d5bffebad1ac58c
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 9 18:12:50 2013 -0500

    Remove some methods from devicelibs.btrfs.
    
    * scan_devices method.
    It is unused in the codebase.
    A sentence on the wiki (https://btrfs.wiki.kernel.org/index.php/Using_Btrfs_with_Multiple_Devices) says:
    btrfs device scan is used to scan all of the block devices under /dev and probe for Btrfs volumes. This is required after loading the btrfs module if you're running with more than one device in a filesystem.
    * take_snapshot
    Totally unused and doesn't do anything.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b3fa21cd5566e92219cd29c4c2ddbec14dccf22d
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 6 11:22:04 2013 -0500

    Add a comment to btrfs.create_volume.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a82179ea97e347da8a707f0411c4878dcd269092
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 9 17:59:55 2013 -0500

    Add a file to run btrfs tests.
    
    Also, add two btrfs functions which get information about the filesystem.
    These are mostly for checking tests results, but may come in useful.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9b48369cb25d8090ab24db98dd608738e8be57f1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 9 15:35:59 2013 -0500

    Remove format.luks.LUKS.removeKeyFromFile.
    
    This method is removed as it will certainly fail if invoked because
    the crypto method it invokes does not have the named parameter del_key_file.
    
    It is not used in the code bases.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dd0925d7b23a3ea7760c5c8d9951fcfd2393dba9
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 9 12:10:34 2013 -0500

    Changes to devicelibs.mdraid.mdactivate.
    
    * Remove super-minor parameter. The reason for this
    is that calling code does not use the super_minor parameter but only the uuid
    parameter, the super_minor parameter is not used in the arguments that are
    passed, to the actual mdadm call, and the mdadm docs tells us that "super-minor
    is only relevant for v0.90  metadata,  and  should not normally be used.
    Using --uuid is much safer."
    * First change makes a few changes in the function body.
    * Some comments were added.
    * Some tests which make use of super_minor parameter were removed.
    * Some other tests were altered.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dca1a7757572ae33152d7e2e35752f1e3fb9f6ac
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 12 11:25:36 2013 -0500

    Restore an import removed in a previous commit.
    
    There was an accidental remove in commit
    9dccccd2fd3e5a49c334e70e9cc6e1e802ac5e52. At this point
    all imports removed in that commit have been restored.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit df4156374d7a93dbcd8e8b328008f5742369c1dc
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Dec 10 12:17:34 2013 -0800

    Add a PE for LUKS metadata (#1038969)

commit 3dae360e4841893f368b8ba67102c4e58c619396
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 5 17:41:45 2013 -0500

    Adjust currentSize methods slightly.
    
    Add some comments that I believe are correct to StorageDevice.currentSize.
    
    Leave BTRFSDevice.currentSize alone at this time.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f61255986607ebf57fcb5b139c4b1d647a7a73b7
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 5 15:07:55 2013 -0500

    Put additional constraints on the ActionResizeDevice initializer.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5ba682f565e799098d57ff77ac751eb6ed311d9f
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 5 14:38:49 2013 -0500

    Remove redundant checks in existing resize() methods.
    
    It is expected that the resize methods will only be called via the
    ActionResizeDevice.execute method. Since this is the case, the removed
    checks are redundant.
    
    If it is possible to call the resize methods not through
    ActionResizeDevice.execute then the checks that were removed
    are not nearly sufficient.
    
    Some comments have been updated, too.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f3eafd12d72f8857de79c83ba54e96471215af39
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 14:50:31 2013 -0500

    Add some baseline unit tests for BTRFS devices.

commit 614be17b5bbb010f89fb6142d2bb79635fac2907
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 4 09:14:18 2013 -0500

    Robustify use of defaultSubVolumeID field.
    
    * Set it to None in the constructor to avoid an attribute error
    if defaultSubVolume is called before _getDefaultSubVolumeID is called.
    * Give it an underscore, to emphasize that it is private.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 11edf1880dfe6e576ecd04c513fbfbb27de09022
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 4 10:40:43 2013 -0500

    Check that a BTRFS subvolume has exactly one parent in constructor.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5154904dee63c0906c6148ef4e03ec890ea07145
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 14:45:31 2013 -0500

    BTRFSSubVolume.volume checks the class of its return value.
    
    If it is not an instance of BTRFSVolume a DeviceError is raised.
    
    It must be a BTRFSVolume because that is how btrfs works and also because
    otherwise the constructor will raise an AttributeError when calling
    _addSubVolume on an object other than a BTRFSVolume.
    
    This change causes the constructor to fail a bit more informatively and a bit
    earlier than it otherwise would.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 68c6264944a141d0b3459fea044e9a64f1c86f39
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 13:35:07 2013 -0500

    Raise ValueError in BTRFS constructor if no parents specified.
    
    Previously the constructed raised an IndexError when calling the super
    class constructor and trying to access its first parent to discover its
    own path. Raising the exception earlier makes the constructor's
    requirements more clear.
    
    Note that the exception is raised if the "parents" keyword argument does not
    exists. Checking that the parents field has been set to an acceptable value
    by the superconstructor leaves it too late, the IndexError will have already
    occurrred by then.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1c9d7bde13477c2b2032328c39c438bf5509516e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 13:17:49 2013 -0500

    Add tests for a couple of additional properties for MDRaidArrayDevice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 46f75fd3ad76cbfa9da14d26e16757a57d18dc5e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 12:44:38 2013 -0500

    Factor state testing behavior into a separate class.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d3635b33d7a9cf455fc1f0ef0135a8e7efca019d
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 11:51:53 2013 -0500

    Remove redundant condition in if statement.
    
    After the if statement is done executing, size is always equal to
    self.targetSize if the first two conditions are True.
    The difference is that size is assigned even in the case where the
    assignment does not change the value.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3db167b0cbe0dced70aa6ddefbe9de23b1b914b4
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Dec 5 14:26:31 2013 -0800

    New version: 0.31

commit 5974ac0985df8a9457c9aa4c82565bb0236ebcd4
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 5 08:34:00 2013 -0500

    Make RAIDLevel an abstract class using abc.
    
    RAIDLevel was, already, an abstract class, but using abc makes this more
    obvious and harder to break.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c0b93f53303def5374aebddb4a07883e621cd64d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 5 09:13:24 2013 -0500

    Restore a util import that was removed in a recent commit.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4870a5cad314cd74630c7620787611c01820f966
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Dec 4 15:50:55 2013 -0800

    New version: 0.30

commit f24a16af484e96b3a7336cf3b7b208c03d96667d
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Nov 25 09:13:59 2013 -0600

    Always run action's cancel method as part of cancelAction.
    
    Related: rhbz#1027947

commit e8a328438cd8dd2655f2d3717e873a31743eff81
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Dec 3 16:58:55 2013 -0800

    Show Invalid Disk Label for damaged GPT (#1020974)
    
    A GPT labeled disk could have a damaged partition table, but still be
    useful. If that is the case we don't want to treat it like an empty
    disk. With these changes it will show up as 'Invalid Disk Label' which
    will be translated.
    
    This patch also checks for partitions in the lvm filter that depend on
    devices being operated on. If a device is in the action list it
    is removed from the lvm reject filter.

commit 5f1124b7f8cb8fd8ff11130108f0941fce51c2cb
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 2 14:09:35 2013 -0500

    Make error message in setDefaultFSType more informative (#1019766)
    
    Related: rhbz#1019766
    
    This has been observed to raise a ValueError a couple of times. Want to
    make the error message more informative in case it happens again.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a7a7517cc8f03ffdce9d896a8329c72e7b0f62ef
Author: Author: Jan Safranek <jsafrane@redhat.com>
Date:   Tue Nov 12 10:21:23 2013 -0500

    Set sysfsPath of LUKSDevice when adding to device tree (#1019638)
    
    Resolves: rhbz#1019638
    
    Previously, the LUKS device set up in handleUdevLUKSFormat did not have
    its sysfsPath field set, now it does, by calling the updateSysfsPath()
    method.
    
    The value of the sysfs_path can not be extracted from the arguments to
    handleUdevLUKSFormat, because the info argument is for the parent of this
    device, not for the device itself.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2fef6b29e990dea6c6e39f049b745449b78685cb
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 27 15:25:55 2013 +0100

    Use given format type as format's name instead of type
    
    Format's type is a strictly set value we define in our classes. Format's name is
    a description that can be presented to users instead of type. If we get type
    from the outside and cannot find a matching class in our formats, we should set
    the type as format's name and let the type unset because many pieces of code
    rely on the type being None in case we don't understand/support the format.
    
    Related: rhbz#1033778

commit 6509729be3cc5f7dead1d579596185d6cb3deb36
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Nov 27 16:42:59 2013 -0800

    New version: 0.29

commit b18524048b56f2317cccde2c40c5e2921ce3d8c8
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Nov 27 11:39:17 2013 -0800

    btrfs and xfs do not support fsck or dump at boot time (#862871)

commit f4ad889fb4f059528ebdb2c35b5b993fae899c9e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 26 10:49:21 2013 -0500

    Removed raid level constants from mdraid.py.
    
    This requires a corresponding change in anaconda.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3cef130a49055d219dc206f6b05cb5567fce834f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 26 08:22:04 2013 -0500

    Remove raidLevel and get_raid_min_members for mdraid.py.
    
    Removed all tests as well.
    
    Since anaconda makes use of these functions, an accompanying anaconda patch
    must go in simultaneously with this patch.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4a7ddb74408c6fd828c7f0f55efda6d3fa079ad0
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 26 07:57:35 2013 -0500

    Remove raidLevelString in raid and mdraid.
    
    This procedure is no longer used. If the user needs a raidLevelString
    they should get the level object and use its name (or nick) field.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6da1bab8211e52fd49168a89c75ec3af68acdd46
Author: mulhern <amulhern@redhat.com>
Date:   Mon Nov 25 17:54:33 2013 -0500

    In devicefactory.py change mdraid procedures call to raid method calls.
    
    The larger changes are:
    
    *size_func_kwargs was removed entirely because the argument that it constructs
    is ignored by lvm.get_pv_space. lvm.get_pv_space was edited so that it
    no longer takes the parameters it ignores, and its calls were updated
    appropriately.
    
    * _get_device_space now constructs its value itself, rather than calling
    mdraid.get_member_space.
    
    * mdraid.get_member_space is removed since it is no longer used anywhere
    in blivet or downstream.
    
    Tests are updated as appropriate.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e5144a501d092eba4ab6f48e60ed3c0c3709b590
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 26 10:30:45 2013 -0500

    Removed mdraid.raid_levels
    
    It is now entirely unused.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b03b584f716f91956bbc564bff193ca575559700
Author: mulhern <amulhern@redhat.com>
Date:   Mon Nov 25 15:10:19 2013 -0500

    Removed mdraid.get_raid_max_spares.
    
    This procedure does not seem to be used by any of our downstream users.
    The functionality is implemented in the raid package.
    
    Tests have been updated accordingly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fd69fafef478254283071f65cba11cb1ca75d395
Author: mulhern <amulhern@redhat.com>
Date:   Mon Nov 25 14:41:17 2013 -0500

    Change MDRaidArrayDevice to use raid package.
    
    The basic change is that the only call to a function in the mdraid
    package is the call to mdraid.getRaidLevel which sets the level field.
    
    After that, all calls are method calls on the level field, so the definitions
    of the methods are in the raid package.
    
    Most of the changes did not change the external behavior of the class.
    
    Significant changes are:
    * The definition of level was changed.
    * rawArraySize now does the same as size and just returns 0 if there
    are no member devices.
    * Instead of logging an error if the level is container, now rawArraySize
    throws an exception, because the definition of the method in the Container
    class throws an exception.
    
    Several tests had to be updated, mostly due to the change in the definition
    of the level property.

commit 9dccccd2fd3e5a49c334e70e9cc6e1e802ac5e52
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 19 12:06:17 2013 -0500

    Changed devicelibs.mdraid to make use of devicelibs.raid.
    
    Added a Container class to represent mdadmin's "container" level.
    Added a Container object to the RAIDLevels object.
    
    Extended raid.RAIDLevels so that it required that all RAIDLevels define
    min_members.
    
    Methods changed are:
    
    * raidLevel
    * raidLevelString
    * get_raid_min_members
    * get_raid_max_spares
    * get_member_space
    
    All the raid constants now depend on raid.
    
    Methods added are:
    
    * getRaidLevel
    
    * raidLevelString was modified so that it takes a flag to use nicknames
    instead of canonical names and so that it accepts any valid descriptor,
    not just a numeric one.
    
    Members removed are:
    
    * isRaid
    * raid_descriptors
    
    Conflicts:
            blivet/devicelibs/mdraid.py

commit 12523452ec7d406cab6760d73b3ba45a88ccf465
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 13 14:22:45 2013 -0500

    Implement a RAID class hierarchy.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4596ee9b3201603d9cba4367b8ef91dabf7d1b8b
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 19 10:42:18 2013 -0500

    A few small tests for MDFactory class.
    
    These tests are added mostly to detect regressions during an anticipated
    refactoring.
    
    These tests are very much after the fact and capture the current
    behavior, not necessarily the intended or correct behavior.
    
    Therefore, it is fairly likely that if some change to the code causes
    a failure, it may be that the test itself, and the code previously, have
    been shown to be wrong.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 22fca7770adf326ba5592aa48e4c14fc5f21dd84
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 19 08:59:48 2013 -0500

    Add some additional unit tests in mdraid_tests.py.
    
    Also, do integer division instead of floating point division for RAID10
    disks.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 02dc89b977b5463784b813d4238dd3de9dce7d08
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 20 12:22:57 2013 -0500

    Make MDRaidArrayDevice initializer not except raid level of None.
    
    Previously, the initializer would succeed if level was None.
    Now, it throws an MDRaidError for None.
    
    Unittests have been updated as necessary.
    
    Code that allowed for the possibility of level being None has been
    removed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1256be6ee0795ade15edcd75bfcdf5eee6cda9d5
Author: mulhern <amulhern@redhat.com>
Date:   Mon Nov 18 07:48:37 2013 -0500

    Add some basic unit tests for MDRaidArrayDevice.
    
    Add some basic tests to check the state of an MDRaidArrayDevice
    after initialization and to check the behavior of some methods.
    
    These tests are added mostly to detect regressions during an anticipated
    refactoring.
    
    These tests are very much after the fact and capture the current
    behavior, not necessarily the intended or correct behavior.
    
    Therefore, it is fairly likely that if some change to the code
    causes a failure, it may be that the test itself is what has
    been shown to be wrong.
    
    In some cases, the class was internally inconsistent, in these cases
    the inconsistency was resolved. In deciding how to resolve these
    inconsistencies more significant methods and simpler code was considered
    to have greater credibility than less significant methods or more
    complicated code. Errors having to do with None having no attribute
    or not being iterable were considered to be unintentional and given
    low credibility.
    
    The changes to the tested code are:
    
    * Check whether a smallestMember actually exists and set
    smallestMemberSize to 0 if one does not exist or if there are no devices.
    Still go through the checks for level even if smallestMemberSize is 0
    in order to catch invalid raid level.
    
    * In rawArraySize for RAID10, divide by 2 instead of 2.0. I believe that
    if there are three disks available then we get only one disk's worth of data.
    Do the same in size.
    
    * A semantics preserving change to initializer.
    This change preserves the semantics of the if statement completely.
    The advantage is that self.level is no longer
    set to any arbitrary value which allows error checking in self.level
    setter itself.
    
    * Make level setter error checking.
    Previously, the level could be set to anything in the initializer.
    Now that this is not true, it is possible to check for invalid values in
    the level setter. Valid values are an integer RAID level, "container", or
    None.
    
    * smallestMember is altered in a semantically equivalent way, except that
    if not self.devices evaluates to True an exception will not be thrown.
    Previously, it would have been thrown if self.devices was not a list.
    It uses min instead of smallest, since we only need the minimum element
    in self.devices.
    
    * totalDevices is also semantically equivalent, but the len of self.parents
    is only calculated if needed.
    
    * description is extended so that it makes a somewhat sensible string if
    self.level is None.
    
    * In initializer,
    use memberDevices setter rather than assigning to _memberDevices
    directly in order to get the error checking in the setter.
    
    * formatArgs now returns its formatArgs value

commit 0ede2eeac1e89b0b5aee78fcc5edc9e7e7bff1a0
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 26 10:47:06 2013 -0500

    Move pyanaconda import into blivet.enable_installer_mode.
    
    Most pyanaconda imports are allready set up this way. Now, so is
    the import of progress_report in deviceaction.py.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fb9310c6e08c42698dfbb38b6219c453c6a08de5
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Nov 25 15:30:10 2013 -0600

    New version: 0.28

commit 0bee1665b6d1f92851453e6d871e1575dac3a5a7
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 20 15:36:22 2013 -0600

    Clear whole-disk formatting before initializing disks. (#1032380)

commit 78edfddb00602b25dc975bc329fbbee318f60a4d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 22 08:53:00 2013 -0600

    Simplify calculation of vol size when adding a btrfs subvol. (#1033356)
    
    The previous method of summing the subvolumes' req_size doesn't work
    when the initial layout is a product of autopart since the base sizes
    do not match the actual sizes due to growth.

commit 21a2e1500c36ff553568d38c9c25dfbfcb33b6df
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 19 13:49:44 2013 -0600

    Handle passing a btrfs volume as device to BTRFSFactory.
    
    Normally the volume is a container, but it is possible that it has
    a mountpoint associated with it, which means it could be passed as
    the device in that case.
    
    Related: rhbz#1016959

commit 4d3b65f187da55dee1358023efc15615b0d63c74
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 13 17:48:32 2013 -0600

    Add support for detecting btrfs default subvolume.

commit 7a9095de206b38a839e0b38a1dd3d33485253ae3
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 13 14:09:02 2013 -0600

    Handle nested btrfs subvolumes correctly. (#1016959)
    
    Subvolumes are nested. That is to say that removing subvolume foo
    will also remove subvolumes foo/bar and foo/bar/baz.

commit de804e542e7d8831cc82e25c667b95c47596ba0f
Author: David Shea <dshea@redhat.com>
Date:   Thu Nov 21 15:33:02 2013 -0500

    Mark all format names as translatable

commit eb4acdf8bdde7904faa9036547b782e1a4b9b388
Author: David Shea <dshea@redhat.com>
Date:   Fri Nov 22 11:34:46 2013 -0500

    Add parameters for untranslated Size specs.
    
    Add en_spec parameters to Size.__init__ and Size.convertTo. spec=
    strings passed to these functions will be treated as strings in the
    current language, while the en_spec strings will always be treated as
    English.

commit 398b47c1da1f3c95cd266c7ee0be86255e0ec2b4
Author: David Shea <dshea@redhat.com>
Date:   Thu Nov 21 15:33:01 2013 -0500

    Fix usage of _ vs N_
    
    For strings initialized at the class or module level, mark them as
    translatable but don't translate until they are used. Translate strings
    that were marked for translation but not later translated.

commit bde4dcedd4f90e0504a812115e5d387f86381e7d
Author: David Shea <dshea@redhat.com>
Date:   Thu Nov 21 15:33:00 2013 -0500

    Added a i18n module for gettext functions.
    
    This keeps the gettext function definitions all in one place, and makes
    it easier for other software to import blivet.i18n to get
    blivet-specific translation functions.
    
    Removed unused translation functions.

commit 95c6e74a8c8b85bc808187afe13070d8266d02d1
Author: David Shea <dshea@redhat.com>
Date:   Thu Nov 21 15:32:59 2013 -0500

    Allow non-ASCII characters in the size spec

commit e6a66f39454f4be8c71a0a71979ac1d1bc714ea3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 19 11:01:30 2013 -0600

    New version: 0.27

commit b3042c63e93fe84fe3a22ff1666fe04216b3d270
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Oct 28 13:16:10 2013 -0500

    Specify btrfs volumes by UUID in /etc/fstab.

commit 944ed1ee7cfc93e641233dfc5486a2f95e655581
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 14 14:44:55 2013 -0600

    Catch any exception raised by findExistingInstallations. (#980267)

commit 3b125f996b515816f249b0e37f1e8b85fb6d8dbe
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 14 14:43:37 2013 -0600

    Prevent md_node_from_name from raising OSError. (#980267)

commit aacc900d5182157ba79bef45aa087e59d019fb1f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 13 11:18:44 2013 -0500

    Tidy up tests in devicelibs_test directory.
    
    The main change is a refactoring that moves any test that does
    not currently require the setup and teardown methods in
    devicelibs_test.baseclass.DevicelibsTestCase into a separate class that
    just extends unittest.TestCase instead of extending DevicelibsTestCase.
    This way, these tests can be run w/out the root privileges that
    are required by DevicelibsTestCase.
    
    There are also some small import changes.
    
    Some tests that previously checked for a generic ValueError now check for
    MDRaidError.
    
    __init__.py files have been added to encourage unittest discovery to
    examine subdirectories.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ca2e233b2409fe245253b3d1a1daefade0874794
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 12 09:15:49 2013 -0600

    Preparation for lv resize is a subset of that for lv destroy. (#1027682)

commit 8c457e1379589ba3bf9d67c8e23bf82ca174aff0
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 12 09:14:24 2013 -0600

    Make sure new values of targetSize are within bounds.

commit fb378f963ed6dcece47c22578efcac774fedada7
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 12 09:11:56 2013 -0600

    Devices with non-existent formatting are resizable. (#1027714)
    
    Marking an existing device for reformat was causing it to no longer
    show as resizable. This combination of operations was not supported
    in anaconda's old user interface, but it seems useful.

commit 9212ee1234b5f48ea9a09590cdeb8f310939624d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 8 09:45:49 2013 -0600

    Do not hide non-existent devices. (#1027846)
    
    We do not want to play the game of "saving" a planned layout for a
    subset of disks and then trying to reconcile that with the contents
    of the other visible disks when the user chooses to unhide one.

commit e1c9102db3253c90995b625cebca1c1d9897dfc8
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Nov 11 10:18:34 2013 -0800

    Change XFS maximum to 16EB (#1016035)
    
    Resolves: rhbz#1016035

commit c53cfec6bd3f3efce1e8bb4a123a06f448499a41
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Sep 25 15:28:40 2013 +0200

    Add tmpfs support (#918621)
    
    Add support for creating tmpfs mounts, mounting/unmounting
    them, checking free space on them and adding them to fstab.
    
    Tmpfs is a filesystem that lives in the Kernel page cache
    and stores data primarily in RAM and in swap once RAM runs out.
    
    Data stored on tmpfs mounts will not survive a system
    reboot/crash/shutdown.
    
    About tmpfs mount size:
    - if no size is specified, the size will be 50% by default
    - if size is specified, the mount will have this size
    -> there is no limit on the size on tmpfs mounts
    -> just note that once it fills RAM (and any swap),
    the system will grind to a halt
    - grow and maxsize are not supported
    - you can use use filesystem options to set size in percent:
    
    fsopts == "size=25%"
    
    This will make the tmpfs mount take up
    to 25% percent of system RAM.
    
    What operations are supported:
    -> adding tmpfs mounts to fstab
    -> mounting and unmounting tmpfs mounts
    -> checking free space on mounted tmpfs mounts
    -> resizing mounted tmpfs mounts
    
    Resolves: rhbz#472127

commit 35f37673f2f2c8120b6324b5bd62e027b8d2519f
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Oct 9 14:50:38 2013 +0200

    Add support for returning machine word length
    
    Add support for returning machine word length to
    the arch module.
    
    This is needed as some filesystems, such as tmpfs,
    have maximum filesystem size that depends on the
    machine word size.
    
    Related: rhbz#918621

commit e417b513c4fc8e369635fe6a602f150135a748fb
Author: mulhern <amulhern@redhat.com>
Date:   Thu Nov 7 17:05:18 2013 -0500

    Require cryptsetup instead of cryptsetup-luks (#969597)
    
    Resolves: fed#969597
    
    cryptsetup-luks was an independent package but now is provided by the
    cryptsetup package; therefore it is the cryptsetup package that should
    be required in the spec file and elsewhere.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c1b77a2261a478f7a0eab4cbf29bec5506e3460c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 1 10:47:14 2013 -0500

    Fix initialization of disks containing sun or mac disklabels.

commit a3bff73119413fb1ea49febfc0d58bf318003ad8
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 29 13:00:49 2013 -0500

    Newly formatted devices are used unless mountpoint is empty. (#966078)
    
    The previous algorithm was only including filesystems with mountpoints
    and swap devices, ignoring new prepboot, biosboot, &c.

commit 6897f50181662d91d1b6c84e749afe3ec48d2310
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 1 10:42:14 2013 -0500

    Fix detection of lvm setups. (#1026466)
    
    Fixes two regressions introduced by
    commit 8ef070b7b6fe4f270cc0120e5425299abf90b8cd
    
    Because of how space is calculated, setting copies to 0 means the LV
    occupies no space in the VG, which is obviously not so.
    
    Also, the spare metadata LV's size is handled as part of the 20% pad
    in the VG for pool metadata. Counting it in both places causes more
    problems since we didn't take it into account when creating the pool.

commit 548055e53fe5ab50b45054c4000de8ec1a9f8c07
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 1 10:39:05 2013 -0500

    Fix handling of overcommitted thin pools in thinp factory. (#1024144)

commit df756b7e2b68d55d308afb14ef8654591239fcd7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Oct 28 14:26:39 2013 -0500

    Fix name checking for new thin lvs. (#1024076)

commit 716f262b77c66b33e1cb35c73343f828b7eb3d1e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 30 17:17:00 2013 -0700

    New version: 0.26

commit d5f4d4285ac77a2bf871688f26fbfd86905106c2
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Oct 28 16:43:16 2013 -0700

    Add macefi format type (#1010495)
    
    macefi is a hfs+ formatted fs mounted at /boot/efi and labeled with
    'Linux HFS+ ESP'

commit 0e7c4e7928c834d6d0c40860c02f47191a6e7d6c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Oct 28 16:22:11 2013 -0700

    Allow hfs+ boot devices to have their name set (#1010495)

commit 5ce2f7fd66aa1e3e78056ae7d26f9e1dee68b77b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 25 15:35:15 2013 -0500

    Update parted partitions on hidden disks when copying a Blivet. (#1023556)

commit 603d80232f9415b7052c15b391c699450a7c246a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Oct 25 14:53:01 2013 -0700

    Add ack flag checking to makebumpver
    
    If the branch starts with rhel the script will check to make sure there
    is a flag named rhel-X.*.* set to + for each bug found. This can be
    skipped with -s or --skip-acks passed to makebumpver. Set SKIP_ACKS
    environmental variable to skip it during make bumpver

commit 9a5167fdbaf20b687020ef059d081da0cdd24b3b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Oct 25 12:16:04 2013 -0700

    Add makebumpver script
    
    Add a modified version of the makebumpver script from anaconda, it
    handles bumping the version number, checking bug states, and adds
    Related and Resolves to the spec changelog.

commit 537b4c5fe46582c73cac75905988334d95aa66fd
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Oct 25 17:18:32 2013 -0700

    New version: 0.25

commit 089ac45422f0a8332782f6f0c20ce91cd9d78e9e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 23 14:35:09 2013 -0500

    Remove requirement for btrfsctl which no longer exists. (#1012504)
    
    We aren't supporting btrfs resize now anyway, so this only serves to
    make the supported property correctly return True for btrfs during
    OS installation.

commit 69867ea3a0a7bdfc9e1ecccfb7c846d16ccba667
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 23 11:12:55 2013 -0500

    Allow for adjustment of factory vg after removal of thin pool. (#1021890)

commit f9c024b13e915b7e24f64ada520d42e1f21a6034
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Thu Oct 24 09:39:10 2013 -0400

    Add boot description for "disk" devices on s390. (#867777, #903237, #960143)
    
    iSCSI and multipath devices should be treated as normal disks on s390x; this
    adds "disk" as a valid boot description to essentially expose iSCSI and mpath
    as devices we can opt to boot from.
    
    Resolves: rhbz#867777
    Resolves: rhbz#903237
    Resolves: rhbz#960143

commit 3f76716b7c840e805bc816cd2f00abde51fb8a1d
Author: Dennis Gilmore <dennis@ausil.us>
Date:   Mon Oct 21 17:07:15 2013 -0500

    Add initial spport for aarch64 as we only plan to support UEFI this should be enough
    
    Signed-off-by: Dennis Gilmore <dennis@ausil.us>

commit ef3feb95310abbaeba9560df5254c4a4ba54f02f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 16 17:03:06 2013 -0500

    New version: 0.24

commit dc64a4d3c74fd90f6196bcdb7e816ca3ab025b6e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 8 10:27:49 2013 -0500

    Close file descriptors other than stdin,stdout,stderr on exec. (#1016467)

commit 1fd4683b26383172d61d7920db892fa899ff3bd6
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 8 10:26:13 2013 -0500

    Don't use hardcoded /tmp paths. (#1004404)

commit 8ef070b7b6fe4f270cc0120e5425299abf90b8cd
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Oct 7 12:00:51 2013 -0500

    Fix detection of lvm thinp setups. (#1013800)
    
    Instead of trying to figure out how to sort the lvs by attr (probably not
    possible) just allow for adding building-block volumes on demand.

commit 3d31ebebffed1007b4ca905fb4b9f74bea00b4c5
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 1 15:32:18 2013 -0500

    Generate a name if necessary when reconfiguring a factory device. (#1019500)

commit 0cff29f7432816fd8c8ca100b5b726f91a2f98d5
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 18 09:29:24 2013 -0500

    Handle anaconda's cmdline option to disable mpath friendly names. (#977815)

commit 2e87835166c41b041ef6fd601c212330579a1a41
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Oct 3 16:04:26 2013 +0200

    Allow specifying which swaps should appear in fstab
    
    Not all swaps should be used by the system in some cases.
    
    Related: rhbz#1011391

commit 801960a26dd7921f0bf974fa921b617f2ec623d8
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Oct 9 14:28:25 2013 +0200

    Do not limit swap size to 10 % of disk space for hibernation
    
    If --hibernation is used there should be enough space on the disks to create
    large enough swap for hibernation.
    
    Related: rhbz#1016673

commit bbb091da04d2a5ba2efbc377413409cc53113be7
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 9 16:48:10 2013 -0700

    New version: 0.23

commit ecd49a6803aa9652fa3a2735df20a64877bbca9e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Oct 3 12:02:41 2013 -0700

    Make sure bootloader is setup after autopart (#1015277)
    
    Autopart, or user changes may change what disks are suitable for a
    bootloader (eg. changing a raw formatted disk to a partitioned disk).
    Make sure that bootDisk is setup after all the other changes have been
    done.
    
    Related: rhbz#1015277

commit 3cbf76f396cc811624989f31230f0cee25dfd79e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 2 14:50:31 2013 -0700

    Let setUpBootLoader raise BootloaderError (#1015277)
    
    This allows callers to deal with bootloader errors.
    
    Related: rhbz#1015277

commit 637a0ae31b9f376c41d2c1e96dacf41220dccb8c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Oct 8 15:38:05 2013 +0200

    Limit the maximum swap size to 10 % of disk space (if given)
    
    On e.g. virtual machines with smalls disks and high amount of
    memory it doesn't make sense to create large swap space leaving
    only a little for the system and user data.
    
    Related: rhbz#1016673

commit 25be7b9ca3189e1609c609c95b62fffacbdf2f30
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Tue Sep 24 14:19:26 2013 -0500

    support ppc64le architecture
    
    Support PowerPC little endian architecture.

commit 646928edf5a3b7b87aac94bddb79b1e5bbd0f32e
Author: David Shea <dshea@redhat.com>
Date:   Tue Sep 24 08:37:22 2013 -0400

    Don't call handleUdevDeviceFormat without udev device (#1009809)

commit 077a49e5e6136b6cd22c7840194b640adbc52c47
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 6 14:07:59 2013 -0500

    New version: 0.22

commit c3b66ad9a33a03584bedc2a59c25f0b543bc8955
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 22 17:11:08 2013 -0500

    Allow implicit inclusion of multipath/fwraid by including all members.
    
    Resolves: rhbz#984826

commit b02453d07cfed13fce550a7458f2f6a42ae79b2f
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 6 12:51:20 2013 -0500

    If a device has been removed, omit it from the copied root. (#1004572)

commit 5f7ea1e4b16183641a876d7f0bb6a6c9ab98ba1d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 6 12:50:43 2013 -0500

    Thinp metadata and chunk size default to 0 -- not None. (#1004718)

commit 662239fc324661a48bb8105643b6b6eed0f4efc5
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 6 12:49:47 2013 -0500

    Revert "Do not try to align partitions to optimal_io_size. (#989333)"
    
    This patch is wrong. The drive in the associated bug is reporting
    bogus numbers.
    
    This reverts commit d505b411c54d3d11bb744ccc2ddfd400546e43b1.

commit 33ba4243e9578e471c8cfc913ac9854c510cf306
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Sep 5 17:20:50 2013 -0700

    New version: 0.21

commit 03dc526141b9958be2ac7f083975ca7549a69bec
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 28 11:29:03 2013 -0500

    Only force luks map names to include UUID during OS installation. (#996457)

commit c28f8313ea8107966457b4a104f5e665d03fde92
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 28 11:25:47 2013 -0500

    Allow DiskLabelCommitError to reach the caller. (#1001586)

commit d505b411c54d3d11bb744ccc2ddfd400546e43b1
Author: Gustavo Luiz Duarte <gustavold@linux.vnet.ibm.com>
Date:   Fri Aug 16 18:46:20 2013 -0300

    Do not try to align partitions to optimal_io_size. (#989333)
    
    Use minimum_io_size instead.
    
    optimal_io_size corresponds to the OPTIMAL TRANSFER LENGTH field in the scsi
    spec. It is an upper limit for optimal transfer length and it may be too big to
    try to align to it. Use minimum_io_size instead, which corresponds to the
    OPTIMAL TRANSFER LENGTH GRANULARITY field in the scsi spec. It is the minimum
    size for optimal transfer speed.
    
    Signed-off-by: David Lehman <dlehman@redhat.com>

commit 83805b87d10e873e703418c02148dbcc345e5f05
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Aug 23 17:34:42 2013 -0700

    Fix rpmlog make target

commit fa346d471e87726c9ca7989ec85b061f291e6a73
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Aug 23 17:33:54 2013 -0700

    Add missing changelog lines to spec

commit 01e88cd16321d34a2aa74b62c4d1cdc3a88613ff
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Aug 23 17:11:51 2013 -0700

    New version: 0.20

commit 976902149bcfa31627335a2bf3f4004dbfe9923a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 14 15:54:01 2013 -0500

    Fix typo in examples/list_devices.py

commit 235e04e017a3b4ed0fa3d76f94ddf311a219eb0b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 8 14:06:46 2013 -0500

    Use iscsi-iname instead of trying to reimplemnt it in python.
    
    Resolves: rhbz#966903

commit 728c141706a8310585942f9ef95adb3b25bc3c1e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 8 12:25:50 2013 -0500

    Catch exceptions raised while finding old installations. (#981991)

commit 0c20316d055df3ed1fb593043dc7f2da7ae2d7c1
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 8 11:25:50 2013 -0500

    Keep the dasd list in sync with the devicetree's device list. (#965694)

commit 3a1060ed5116a80e5c702dc59216359259581d75
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 13 10:49:31 2013 -0500

    Don't save luks keys unless installer_mode flag is set. (#996118)

commit 3edfda89f440e2642aedd3ffacfa0b534c9bab7c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Aug 1 13:16:32 2013 +0200

    Pass mount options to resolveDevice in _parseOneLine (#950206)
    
    This is needed for correct handling of BTRFS subvolumes.

commit 0aeea915736936e72dc75b433467a3fc2b6e1e4f
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Aug 5 12:13:59 2013 -0500

    Fix handling of devices in detected installations in Blivet.copy.

commit 0947d07e17817ef068ba9b5ca1d33bdcf7192504
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Aug 5 12:12:02 2013 -0500

    Clean up detection of lvm raid.
    
    Related: rhbz#873281

commit f41a26472474e13a3fd603b54775af40794353f6
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Aug 5 12:05:48 2013 -0500

    Tag the first build of each version without the release.
    
    Also sign the tags we create.
    
    So blivet-0.20-1 will get tagged as both blivet-0.20 and blivet-0.20-1,
    while blivet-0.20-2 will only get tagged as blivet-0.20-2. This will
    give us a direct association between tag and tarball name.

commit 1fe5e121019f5975bd68011af507d94e1f37eb1b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 1 16:31:13 2013 -0500

    Remove dangling code block from commit 737169b75af1.

commit eeb35216ec514dd408b644d909d15250cc8fc8c5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jul 31 17:26:18 2013 -0700

    New version: 0.19

commit 737169b75af157e9256186aeb7dc93903ddbb977
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 30 11:13:57 2013 -0500

    Don't waste time looking for devices dependent on leaf devices.
    
    Also remove hack to include logical partitions as deps of extended
    partitions from before they had a proper dependsOn relation.
    
    Related: rhbz#890171

commit 4f1e1874f3ed9af8922aa26eb20230dbee5e6d73
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 24 18:24:07 2013 -0500

    Add some example code for creation of disk partitions.

commit fcdf871ded352b3e2f6927230c4c02301d932e13
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 23 15:11:54 2013 -0500

    Don't manipulate partition boot flags except in installer mode.

commit e3f39aca6d5210b005abbea5d1a05965e75aafd1
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 22 15:59:09 2013 -0500

    Add an example of DeviceFactory usage.
    
    Also add examples/common.py which contains convenience functions for
    use in examples.

commit db5115bbbc095038ba5de11f7d8f184e1b45243c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 23 12:36:13 2013 +0200

    Cosmetic changes for the arch module

commit 53a11712a7a867d37c392029baeb4784559e7a74
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 23 11:47:39 2013 +0200

    No more sparc support
    
    This fixes a traceback introduced with changes to the blivet/arch.py module
    without modifying blivet/platform.py.

commit 33f8ab31962ac31e8a6f3bb9e2cc00d8a79415f3
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Fri Jul 19 12:16:23 2013 -0500

    Cleanup arch.py reredux
    
    Clean up arch.py to have a common style, consistent indentation, removed the obvious
    C to Python rewrite, removed the globals and function short circuiting, and import
    the logger.

commit 13e33194aae0c61518a71cd39b7d06f79959669d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 17:31:52 2013 -0500

    Allow explicit requests for extended partitions. (#891861)
    
    As of now this only works if you process the actions immediately after
    allocating the empty extended.

commit 743c31d59d35b03ba7fe7022410f98e3aba3646f
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 17:30:35 2013 -0500

    Fix disklabel handling for multiple calls to processActions.

commit 0a3f73d7c9f657c028c5c561515d3e0d4636e724
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 12:56:59 2013 -0500

    Add support for explicit start/end sectors in partition requests. (#881025)

commit 9e24cea4891ca22d644de8e1f6983997f7d00875
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 09:52:11 2013 -0500

    Store current mount options in getActiveMounts. (#914898)

commit 47288306a681d5029fc6faed804c75813e312dd0
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 10 17:03:08 2013 -0500

    Lack of formatting does not preclude device resize.

commit 2ba1d2bbbf163e846cf67b33810567cd94297cc2
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 5 16:48:45 2013 -0500

    Handle negative sizes correctly.

commit 27e2b06be98b790cb599cd334978a59ffdc3431c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 09:45:09 2013 -0500

    Fix handling of clearpart type linux in shouldClear.

commit 49c86eff59c719102a9d7f34b9e87c5b39127d05
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 11 18:32:35 2013 -0500

    Add some tests for clearpart and related functionality.

commit 01c6949ee336e3bb3861a9e94280f5ec1dcc62b4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 10 17:09:46 2013 -0500

    Update unit tests and add a make target to run them.

commit d617113dc3ecc56aaf755e94b716666a9879b4c2
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 8 17:12:03 2013 -0500

    Don't pass dracut args for lvm thin pools.

commit 08774dfc4f6c62ad3d6a182ec9a0d886f3a939e1
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 10 17:10:10 2013 -0500

    Update the TODO list.

commit 0bd5ae68585b413d29d36f0e1d334bb31bd24d2b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 17:31:10 2013 -0500

    Fix a copy/paste error.

commit c4ad4476bb091b5a6854a5e18ef95955d1d503a0
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 9 10:23:11 2013 -0500

    Remove transifex-client BuildRequires.

commit a6b1626f636c411c75ea96f756ff782e43ec383a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jul 9 16:29:56 2013 -0700

    New version: 0.18

commit e139494ca8011f2ec717ba0ce401c709c176a4e7
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Jul 9 13:01:38 2013 -0400

    Raise XFS max size limit to 100TB.

commit 0ee9ef28de515ac7677bc0ee6938b0907f2cb4a2
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:11:16 2013 -0500

    Add a device factory class for thinly-provisioned lvm.
    
    Two limitations are imposed by this factory class. First, only one pool
    will be managed per volume group. Second, overcommit is not supported at
    all.

commit cb69681d516187df00ff92ac7c8ee7b6021ae3fb
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:10:44 2013 -0500

    Add support for automatic partitioning using lvm thin provisioning.
    
    The layout starts out the same as the normal lvm autopart layout up to
    the vg configuration. A normal swap lv is created the same way as in
    normal lvm autopart, and the remainder of the vg is allocated to a
    thin pool. From that, we allocate thin lvs for root and possibly home
    using the same logic as for normal lvm. So, same as normal lvm autopart
    except that root and home are thin lvs.

commit 2eb2dd371fe688aa9d3102c931d76f2cad12490b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:10:04 2013 -0500

    Add convenience methods related to lvm thin provisioning.

commit 7b76a40be3e27208476d9c7e370ea6d830f3545b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 7 13:16:15 2013 -0500

    Add support for detection of lvm thinp setups.

commit 3d49c5d18d1779ad6f0760e0c6b8d12321ac5952
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:09:23 2013 -0500

    Add classes for lvm thin pool and thin volume.
    
    This is another layer of lvm that provides thinly-provisioned volumes.
    A thin pool is a special kind of lv that is a container for thinly-
    provisioned lvs. The sizes of the thin lvs are not constrained by the
    size of the pool that contains them except at the point where they
    actually contain/use that much data/space.

commit 91eaee3a114b13555fa533ded0f32a579fbe50f7
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:08:58 2013 -0500

    Add backend support for lvm thinp operations.

commit f1eb90c55bed727e8230f0849b9ee0e3e6217c1a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 20 13:01:41 2013 -0500

    Fix return value of get_pv_space for size of 0.

commit 378e4b448388b1f0fbe9ad4986784476810889b3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 25 14:55:40 2013 -0500

    Fix ksdata for lvm created in custom spoke based on autopart.

commit 725a5ef5ff3024227b83ee0cf6fcd2b7923dbc6c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 19 08:28:13 2013 -0500

    Only put max size in ksdata if partition is growable.

commit 06e64a2da5b5f9099a5f5965ce0354a8a4916b63
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 18 18:36:52 2013 -0500

    Allow subclasses to inherit ksdata classes.

commit cd51fe0354e6dc62c341cc1bf3ad595a0df23488
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 24 14:23:52 2013 -0700

    New version: 0.17

commit b5266e1dfeaaf43bf7f95577f744f4a0e0c644c3
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Fri Jun 21 22:36:28 2013 -0500

    Used Python type instead of variable name (#968122)
    
    It seems there are a number of issues with blivet/arch.py:
    
    1) A variable is called type in some places and _type in others. This is inconsistent and also overrides a builtin Python keyword.
    2) Some places call find to search for a substring and others call "in."
    3) Some places use two spaces for indentation instead of the standard four.
    
    However, since we are in shutdown mode for Fedora 19, I propose that arch.py be rewritten for Fedora 20, and we only fix the bug
    (I am adding extra comments because it is not obvious that this is a substring search.

commit f6af515489ab0369eb6d25ae77a8385a4899b591
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 11 18:08:50 2013 -0500

    Fix detection of valid EFI system partition during autopart.
    
    Part of the validation checks that it has the /boot/efi mountpoint,
    but we can never know if the partition is suitable for this mountpoint
    unless we can validate it without checking the mountpoint. Exhausting.

commit 655539333dbc66b8447ed6c0bb5f99f0c6c60416
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 13 17:04:19 2013 -0700

    New version: 0.16

commit 9b321f2ca8e915ad0af3b3294a3125235f92f256
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 30 14:12:38 2013 -0500

    Install utilities for all devices -- not just those being used. (#964586)
    
    Related: rhbz#910506

commit 5dbf6eb71e96345f0fadfcd1a99ec39bd655b12e
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 7 14:11:25 2013 -0500

    Add a method to apply Blivet settings to ksdata.
    
    Related: rhbz#929119

commit 65c3f57a784a4bc8820821741c31895bb3e2c2ea
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 24 10:01:57 2013 -0500

    Increase padding for md metadata in lvm factory. (#966795)
    
    I hoped one extent per disk was enough. It seemed to be, but I didn't
    try it with raid5. I'm increasing that padding to 500% because I don't
    have time for these games.

commit 2438280b89c279586705fef9ae5c3b018c1299b3
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 16 13:37:03 2013 -0500

    Move lvm-on-md into LVMFactory.
    
    Having it as a separate class was unnecessary and complicated the
    matter of creating a factory class for lvm thin provisioning.

commit 5c56b548addbfa6ad5e957ffa63ded76b95fcf80
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 6 14:37:10 2013 -0500

    Switch to a minimum of four members for raid10. (#888879)

commit 3f57980eba9eed941d50637dda57fdea493ac386
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 4 10:58:24 2013 -0500

    Update the TODO list.

commit b4caa583debfc59c27f6c370559f66bca5e1ddd8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 29 13:40:22 2013 -0500

    Deactivate devices before hiding those on ignored disks. (#965213)

commit 8d451e7e85815fcedabbf64a93e39587b05653f4
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Tue Jun 11 13:09:24 2013 -0500

    Allow udev queue to settle after writing zeros to disk. (#969182)
    
    If a udev device is created with the watch option, then a change uevent
    is synthesized and we need to wait for things to settle.

commit f85814a467e756b56cd4cfc1040ba3400c763080
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jun 11 16:32:53 2013 -0700

    Run lsof when umount fails
    
    We are seeing some intermittent reports of umount failing. When this
    happens try to get an idea of what is keeping it busy. Output will be
    logged to program.log

commit 0c18c8b7f940873e96058f0bf97f616201f2df55
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jun 11 16:32:35 2013 -0700

    Run udev settle before umount

commit 176a09a0e8bd08cfb17cec23158245727454b4cf
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 3 16:37:06 2013 -0700

    New version: 0.15

commit 70cbbff3806fc1755d9877154e327869868f30f8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 29 14:49:11 2013 -0500

    Switch to the LGPLv2+.

commit 7f3fc5ffcd5bb29d6c74881069217a2e47015d53
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 28 13:33:49 2013 -0500

    Clear md arrays' sysfs path after deactivating them. (#954062)
    
    Without an mdadm.conf to refer to, mdadm makes no effort to associate
    minors with specific arrays.

commit f56d06d5b11e9d71ae51f6e0c626d38755303340
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 24 15:26:10 2013 -0500

    Factories with existing containers use the container's disk set.

commit 14614f6c22acf6eb0239ad79aae4d04b3ac4e6a9
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 24 15:25:33 2013 -0500

    Don't set up a child factory if the container is set and exists.

commit a1ac9470d72a4cc3c40fa1a8620a48e1dcb3b6fc
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:12:11 2013 -0500

    Set a non-zero size for new btrfs subvols in an existing volume.
    
    A size of zero means you're adjusting a container after removing a device
    from it, and short-circuits the code that actually creates/modifies the
    subvol.

commit e3e6b40f3f30fd0216f93f0c537908b869845b32
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:07:18 2013 -0500

    Open as many luks devs as possible with any given passphrase. (#965754)

commit 2b5fca5e8b7bd9e5fb647fdb5a2ecaa9289b9449
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:06:25 2013 -0500

    Make sure container changes worked before applying device changes. (#965805)

commit 89d23305af35c9a3da0b6eef9be1fed4ba07c89e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 23 10:52:46 2013 -0700

    Re-initialize platform in storageInitialize (#962104)
    
    The problem is that parts of blivet get initialized very early in
    anaconda, before flags are setup. For this specific bug the gpt flag
    wasn't getting passed on from anaconda. So we need to be able to reset
    the platform object after the anaconda flags have been setup.

commit 88921f04d65799519ddd67a5969525bcac32b726
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 21 15:49:38 2013 -0400

    Make a copy of devicetree._devices before using the append operator.
    
    Otherwise, any call to getDeviceBy* with hidden=True will get all the hidden
    disks included in both the hidden list and in the regular devices list.  This
    breaks an awful lot of stuff.

commit 9a830ef3771d29042f047d8fa7a365d5750a5f11
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 21 14:23:05 2013 -0400

    Handle incomplete devices becoming complete on device rescan.

commit aee36ec780bbdb2a5c80635b706bfd28c34af9d0
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 21 14:22:47 2013 -0400

    Don't allow a device to be on the hidden list more than once.

commit 8faf12cc94cb1489d181936de26879180b962fbd
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 15 13:55:45 2013 -0500

    New version: 0.14

commit 09b1cae186219e0ca18e042a3be9360fe8a10593
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed May 15 10:39:35 2013 -0700

    total_memory calculation needs to round up (#962231)
    
    This matches the logic used by Anaconda's isys total_memory function.

commit 116fd3d3abfaa4c73b0ff42de153ced6f1187f01
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed May 15 13:44:18 2013 -0400

    The dev.node attribute for iscsi devices is not copyable (#962865).
    
    libiscsi doesn't provide a way to copy this, so when we copy it, the new
    attribute ends up filled with garbage.

commit d9e0351fe1588ae9bb2579513de1e17a215512fa
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue May 14 16:27:06 2013 -0700

    Wipe partitions before they are created (#950145)
    
    If a partition is created in the same position as a previous filesystem,
    eg. a LVM pv, udev will activate it and cause the device to be busy,
    preventing us from using it.
    
    This uses the parted information from parted to calculate the start of
    the partition and calls dd to write zeros to the first 1MiB of the
    partition.
    
    This also rescans the pv to make sure things stay in sync with the
    filesystem when creating and removing pvs.

commit 0e3de4edbb876e9f2ea51e5ae71e33499e05c388
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 14 16:51:43 2013 -0400

    Pass ROOT_PATH as an argument instead of importing it.
    
    Right now, it's being set before enable_installer_mode is called which means
    ROOT_PATH is still set to / when iscsi.write is called, which causes the
    contents of the installation media to be deleted.
    
    Related: rhbz#962865

commit 6325a9bfc10e811668e1672143475ac108767184
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 14 15:06:37 2013 -0400

    If no iscsi nodes are discovered, return an empty list instead of None.

commit b8d721675ac821ee315c7399f18f56c16b763a13
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 9 11:19:32 2013 -0700

    New version: 0.13

commit ab8c8c0293429848194dc06605fa08e9dea71ed7
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 9 10:19:52 2013 -0700

    Make sure createBitmap is updated when level changes (#960271)

commit 4864a0f21407c78b57faff8e2b4cf0ae99ea304f
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed May 8 10:27:20 2013 -0700

    Update biosboot error message (#960691)

commit 90f8cf74af2795c8fa9a88ca70130d558a811490
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 3 14:53:09 2013 -0500

    New version: 0.12

commit 9a70bf44520a55cd2fa2e030748deadd8b9d3998
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 2 12:14:59 2013 -0500

    Fix a bug in renaming lvm lvs.
    
    We were adding in the vg name, eg: test-old -> test-test-new

commit 08805cec0e99603e7f64d5741a08adb9c034675a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 1 18:37:02 2013 -0500

    Add container size policies for unlimited growth and fixed size.

commit 51808e3ce33c957fc39b3c3a3e55838697f86d07
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 1 18:35:49 2013 -0500

    Remove device factory methods to change container name.
    
    They are unused and dangerous given that the container is specified
    by name instead of by passing in a StorageDevice instance.

commit 906f2ac600ab31b17157db5f803e25d0a5bea464
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 1 18:34:02 2013 -0500

    Override any default subvol when mounting main btrfs volume. (#921757)

commit 86f0f65fb496405e693248a7ec1ec165496e6430
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 24 14:23:17 2013 -0500

    Fix detection of multipath. (#955664)
    
    - Get wwid from a valid source
    - Use addUdevDMDevice for multipath partitions
    - Trim 'p' delimiter when converting dm partition name to dm disk name

commit b93687d7ae05d5b05642e8a50baffb98228b6536
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed May 1 16:57:29 2013 -0400

    When a btrfs subvol's name is changed, change its subvol argument too.
    
    Related: rhbz#892363

commit 61e52c6eb68d94a7414842b948d8210eddb90ee1
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 24 13:54:41 2013 -0400

    Allow returning hidden disks from the getDeviceBy* methods, if asked.
    
    Related: rhbz#929299

commit f720c3015c3260670358ec1e19d974fc1f6e72f6
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Apr 29 16:55:51 2013 +0200

    Fix fipvlan -f argument once more and for good (#836321)
    
    Port from rhel6-branch

commit b8432fcdbc1038f54f0f43a11eb3c0da53020331
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Mar 25 11:10:26 2013 -0400

    Remove the intf parameters from the iscsi class.

commit e81bbced788176075788e259826c1b8b55d7fbcd
Author: Jan Safranek <jsafrane@redhat.com>
Date:   Fri Apr 12 16:55:39 2013 +0200

    Don't relly on /proc/mdstat when enumeraing RAID levels.
    
    This patch simply removes parsing of /proc/mdstat. It is assumed that
    the running kernel will have the modules available.

commit f503e148a557b9e1e0ffe34e1c103d652eef31a6
Author: Jan Safranek <jsafrane@redhat.com>
Date:   Fri Apr 12 14:33:41 2013 +0200

    Set product names in non-installer mode.
    
    It's used by suggestContainerName and new{LV/VG/MDRAID} to create default
    names for MD RAIDs and volume groups etc. and having shortProductName=''
    makes the default volume group name '' too -> errors.
    
    In installer mode, these values are set by enable_installer_mode().
    
    Resolves: rhbz#922832

commit 2b22b4f33771614b3d33da220eda5598905800ec
Author: Jan Safranek <jsafrane@redhat.com>
Date:   Fri Apr 12 14:33:34 2013 +0200

    Fixed checking status of MD RAID which was just deleted.
    
    The state_file still exists, but returns 'Device or resource busy' upon
    reading.
    
    Resolves: rhbz#923788

commit 71aa2ae223d70dd6f6c90d65d08f05b3b94a60ff
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:43:33 2013 -0500

    Account for the fact that md's metadata usage is unpredictable.

commit a56b1ef804e6200a44ec6b5dbccb4600d66e61da
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:40:19 2013 -0500

    Remove members from their containers before destroying them.
    
    Otherwise you are trying to remove a non-leaf device.

commit 4673309bdb182f43862a140aa88d54b4c2900e14
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:38:35 2013 -0500

    Make get_container work even if there are duplicate names.

commit 3b3bdadfcfdb85de6dc90cc4af70871d48af8302
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:37:31 2013 -0500

    LVMFactory with a container_raid_level means use LVMOnMDFactory.

commit 5fe04b838eae6955778295aa6bb902c3fb99fb37
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:36:21 2013 -0500

    Add a check for enough raid members after allocating partitions.
    
    It is possible the user specified an adequate number of disks but some
    of those disks were unusable because of a lack of free space.

commit 4a7a6864298f92d0276e63cbeef243a87fbb4d5e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:34:37 2013 -0500

    Make parent_factory an attribute of the DeviceFactory instance.
    
    This allows us to access it from anywhere and also to stop passing
    it around explicitly.

commit a241374ee2a3b33f1c42c501e688184402addcae
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:28:29 2013 -0500

    All container settings use container_ kwargs.
    
    This goes along with the changes to anaconda's custom spoke to expand
    its container management and improve separation between device-level
    settings and container-level settings.

commit c4c66bb891c8855082970c5f016e198e08534516
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 11 18:08:27 2013 -0500

    Add ability to find raid level of an lvm vg.

commit 3f766a6621be7badf205f3fce05a339c8cfe90eb
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:03:34 2013 -0500

    Always pass -f to wipefs since it lies about in-use devices. (#953329)

commit 1e0539281dfe7fc8f497b3b40e006a806f40ce59
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 13:57:16 2013 -0500

    Fix a bug extended partition management. (#951765)
    
    This bug was introduced/revealed by commit 1b53e3fb3d9b23422.
    
    We can't destroy the extended since there is a logical on that disk, so
    we need to update that extended's partedPartition first/instead. Also, by
    updating the already-defined PartitionDevice representing the extended
    first, we save some unneeded destroy/create action pairs.

commit d09369a6dff44975045880a261a21f3e924b4426
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:47:14 2013 -0500

    Don't return incomplete devices from getDeviceByFoo methods by default.

commit 079052764a68b9db7f906f8911d11e9c386cec90
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 13:51:44 2013 -0500

    Don't traceback when degraded md raid arrays are present. (#953184)

commit 8269730a755c61a82c9690d65ed9f56695ebabec
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 15 15:35:39 2013 -0500

    New version: 0.11

commit ff12619e4137ed604ef3595caeba7e4173185162
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 11 18:55:16 2013 -0500

    Fix handling of isohybrid media. (#950510)
    
    I broke this with commit e35af4fc7a75764b9c7a8aa082dc0e3a3fa791d8.
    
    Media made by isohybrid looks like a disk with both a valid disklabel and
    a valid iso9660 filesystem on it. What you're supposed to do is pick one
    because they're both technically true, which is nuts. We always want to
    pick the iso9660, which means ignoring any partitions on the disk.

commit fb57d36d3a55cef8d49f3bd9f9f4eabe4c858db6
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 11 18:06:36 2013 -0500

    Fix getting dracut setup args from dasd.conf. (#950964)

commit d31115b558bf83fc5d99ecb539e69858437d4f8e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 9 16:55:58 2013 -0500

    New version: 0.10

commit 1b53e3fb3d9b2342240984be10370e741a0a6bf9
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 9 12:42:20 2013 -0500

    Extended partitions containing logical partitions are not leaves. (#949912)

commit b6f8ce908e6306dbab208e801391b7e188849fa0
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 9 12:43:24 2013 -0500

    Remove devices in reverse order in Blivet.recursiveRemove. (#949912)
    
    This is just to make things look nicer when multiple logical partitions
    are being removed.

commit 898a7d779977319516a35749944e2c3b9568c8e2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 28 08:52:28 2013 -0600

    Rewrite the DeviceFactory classes.
    
    The main change here is the addition of nested factories to enable
    more complex stacks like lvm with an md pv and, later, lvm thin
    provisioning. This is accomplished by allowing factory classes to specify
    a child factory class. For example, MDFactory.child_factory_class is
    PartitionSetFactory.
    
    The management of a partition set as is used for lvm, md, and btrfs
    member devices has been moved into its own factory class. It is
    slightly different from the others in that it cannot have a child
    factory and cannot either be a top-level factory.
    
    The management of container devices like lvm vg or btrfs volume is
    handled within the factory classes for lvm lv and btrfs subvolume,
    respectively. There is not a separate set of factory classes for the
    container types since they are closely tied to the leaf device types.
    
    The factories can be used to modify/adjust non-existent devices, but
    are still not intended for use with preexisting devices. The exception
    to this is that preexisting container devices can be used as-is.
    
    The error handling has also changed. If an error occurs, the entire
    devicetree is restored from a backup, which means that references to
    devices in the old tree must be updated in this event.

commit dae7d9734749700d577b8a5f2f4d4f90ded332d8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 5 10:08:19 2013 -0500

    Hook up error handling in installer-specific methods. (#948250)

commit e5109b0b8027288a88fe241e7434ddeaacef595d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 5 10:06:57 2013 -0500

    Don't traceback if fcoe.startup is called without fcoe utils present.

commit f032079f18387e18011953a1ac4cb26ded6a5d42
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 5 10:05:00 2013 -0500

    Fix logic error that causes us to ignore disks in exclusiveDisks.

commit e96f76a91c1c16c21b992211b5e341d34f985041
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 3 17:50:59 2013 -0500

    Slightly improve currentSize for btrfs volumes.
    
    It's better than the size of the first member device. This was leading to
    a max size smaller than the current size for multi-device btrfs
    filesystems.

commit e35af4fc7a75764b9c7a8aa082dc0e3a3fa791d8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 8 11:24:20 2013 -0600

    Simplify multipath handling.
    
    Let systemd/udev/multipathd do it.
    
    This means we will now be writing a very simple multipath.conf to the
    target system. It will contain only "find_multipaths yes" and an entry
    for the chosen value of user_friendly_names.

commit e7dd559ac187f5bb1a5e87556e1f8c0379136234
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 8 11:14:03 2013 -0600

    Don't expect anaconda udev rules to be in use.

commit d6b00843a135ddd23f3d2a5210b52d8f2167d7de
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 3 17:44:15 2013 -0500

    Drop requires for things only needed for OS installation.
    
    Resolves: rhbz#947864
    Resolves: rhbz#947137

commit 944c1bb10c35a203dd2838f38d10a4e5c13b340b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Apr 2 11:35:13 2013 -0700

    New version: 0.9
    
    Catch up with missing build from commit
    60ffd1962d8bc61e9a1b7e2f23a9ef5f5894ffd2

commit 79aaf8b48487cc9951a521f8e83c7b54fc752621
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 22 09:23:35 2013 -0500

    Only install packages for devices and filesystems used by the OS.
    
    Resolves: rhbz#910506

commit dad0a0c4c66db163ba02b6aaf79695a540222799
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 20 15:58:54 2013 -0500

    Fix LVMLogicalVolumeDevice.maxSize.

commit 10cf99de1a2e0e952ae0e8b75f0dfaaecb26ef1e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 20 11:58:04 2013 -0500

    Fix handling of name=None in newLV, newMDArray, newVG.
    
    Getting name=None is the same as not getting a name at all.

commit 7fc4a624c9fd6047e3dfebb8e3e57acfd1824b4d
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 12 14:30:11 2013 -0500

    Allow calls to suggestDeviceName with only a prefix argument.
    
    Prior to this fix, you'd end up with a trailing underscore in the name.

commit 9ebf98e650e68a5e21bf2901a1a4b02cdda10a6c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 12 14:29:35 2013 -0500

    Move mdadm superblock size calculation into devicelibs.mdraid.

commit 60ffd1962d8bc61e9a1b7e2f23a9ef5f5894ffd2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 21 15:08:05 2013 -0500

    NTFS.minSize is supposed to be a property. (#924410)

commit e0dac45cd77ab1bade8b6a5dd95b32434635437b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Mar 20 17:08:17 2013 -0700

    Mount /run during install and fix /sys mount (#922988)
    
    dracut needs these mounted so that it sets up the new initrd correctly.

commit b578b058dd821fd2b88ed1c2f4ffafe369b243fd
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Wed Mar 6 14:31:16 2013 -0600

    Fix two excptions triggered by calls to copy_to_system.

commit 6feb1e1564b08ee658ec683c84af21c69b33d752
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 13 10:35:33 2013 -0500

    New version: 0.8

commit 04d5abe07d9088b6811b92f2273671bb51782eb2
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Tue Mar 12 16:56:01 2013 +0100

    Check for "ip=ibft" cmdline option, not for "ibft".

commit 9da8bad998e175de1fd0e40478b887fd40f412e7
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 12 09:00:51 2013 -0500

    run_program returns an int. (#920584)

commit 73b3729cc531d76989698019b1801a4ed80d9cd6
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 11 11:43:13 2013 -0500

    Fix units for lvs output.

commit 48b1999e8a346cd6a8b3cfb20d1c1d9062d4e655
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 11 10:21:08 2013 -0500

    Don't pass an intf arg to ISCSI.stabilize. (#920041)

commit bd50069e55faffa19b944c5140d467a7bb402e43
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 8 14:13:48 2013 -0600

    Add __version__ to blivet/__init__.py.

commit 2f829e55fccdece73da7c14856054196ae1f6f04
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 8 13:00:00 2013 -0600

    Only run info prog (eg: dumpe2fs) once per filesystem.
    
    Outside installer mode, don't collect info about current/min size
    automatically. This information can be obtained by calling the format's
    updateSizeInfo method.
    
    Related: rhbz#914896

commit ba675f7f3aae57033bb4e11b665234113e1703c2
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 8 11:28:31 2013 -0600

    Processing of a PV with no VG metadata is easy.

commit c802e57dc2ae711895530e76fb78aabeb2d812a5
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 7 14:41:06 2013 -0600

    Add some convenience properties for displaying DeviceAction info.

commit 8f546f3532a42103b1b50b779099c9620729e1d4
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Mar 4 10:37:59 2013 -0500

    Ignore MTDs, as we do not have the tools to write to them (#916771).

commit 14251e9ec2c641aa4785c486a11088ee8424bf39
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 28 09:48:20 2013 -0600

    Include udev's list of symbolic links in StorageDevice. (#914724)

commit e411bd44f47d85c237dcb06353455e4be157d1e7
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 28 08:54:55 2013 -0600

    Set a DeviceFormat instance's type attribute to the requested type.
    
    It will still be a DeviceFormat instance, but it will have a type that
    is not None and will reflect what was requested.

commit f16b2b80503a088a87ce6fa9309101d36adddc7c
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 28 08:53:56 2013 -0600

    Allow size specs that do not include a 'b' or 'B'. (#888851)

commit 183cc7dbedee0d46087902260ca091297c0d36ef
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Feb 24 11:08:37 2013 +0100

    Fix reference to 'factory' from within DeviceFactory class.
    
    This is caused by an error in commit e3ceb9b553fb0b69.

commit c791db5f65c6fd3e81867ee392968a1bf26403b8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 22 14:54:55 2013 +0100

    Fix problems detecting lvm and md devices. (#914730)
    
    This fixes breakage caused by commit 912306651fc433.

commit 2a3d7d607222014439f7e358b5484f252b380ba0
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 22 12:11:45 2013 +0100

    Allow passing size=None to device factories for unbounded growth.
    
    Related: rhbz#906906
    Related: rhbz#906908

commit f970eb793766a138236168e3f6c64d84343f8a9c
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 21 13:46:58 2013 +0100

    Provide a way to set the default fstype for a Blivet instance. (#838145)

commit 8e7b7223fef647e1d732cfc976a5a4eb78bb4259
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 21 13:16:46 2013 +0100

    Allow changing the size of encrypted devices via DeviceFactory. (#913169)

commit 714f8037fc44f1b7dcadf7916650c61f2401c310
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 18 13:54:43 2013 +0100

    Don't dump storage state except in installer mode.

commit 1df426e6f6ff8b0ff7c7777bc7f1ca17912ac6da
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 12:05:53 2013 -0600

    Fix device resolution for btrfs.

commit aab4aedace406366d9764567568957852ef0a656
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 12:04:56 2013 -0600

    Fix device resolution to find named md devices.

commit 75d9bd5ee15108dcf9858344767e85ccd9ae2c0b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 12:04:00 2013 -0600

    Account for active mounts in normal mode. (#914898)
    
    Also adds support for representing the system's nodev filesystem mounts.
    
    The include_nodev flag must be set to True prior to calling
    Blivet.getActiveMounts, which is called from within Blivet.reset (if
    flags.installer_mode is False).
    
    There can be multiple mounts of any given nodev filesystem type, which
    presents a problem in terms of looking up devices by name. The chosen
    solution is to add a unique identifier to each NoDevice instance's name.

commit e4b346e9f1c982dc61d497798e4befbc2f7b4f0d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 12:00:37 2013 -0600

    Add an example script which lists all devices.

commit 65bb9f323868abfa63076ef2a9afdec70913e2a4
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Feb 20 11:14:01 2013 -0800

    Add scripts/makeupdates script
    
    Create a blivet updates.img for use when booting the installer image.

commit 199f3ebd9ec9f72dcbd0bc0aaf42f5dc32596fa1
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Feb 21 09:03:21 2013 -0800

    New version: 0.7

commit 8d2310919d21c38805aa34a70b454d8fc7187a33
Merge: da3f1bce 4a07c18a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Feb 21 08:44:56 2013 -0800

    Merge branch 'master' of git+ssh://git.fedorahosted.org/git/blivet
    
    Forgot to push version change.

commit 4a07c18a4721949d837855a8170472b008d31456
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 21 15:12:26 2013 +0100

    Bring in productName from pyanaconda in installer mode. (#913559)

commit da3f1bceddc0a76274d6a9fb7dabf876607fdd0f
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Feb 20 13:32:47 2013 -0800

    New version: 0.6

commit 61b1abe60200cb5f91267c48879c679652ffa380
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Feb 20 10:24:58 2013 -0800

    parse buffer output from resize (#913141)

commit 3d15f939b8d9f1a2f5c7f10e3e891ae637a0e751
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Feb 20 11:33:03 2013 -0500

    prevent traceback when root device is not defined #rhbz883768
    
    root defined as None was causing tracebacks when attempts to
    determine root device's properties were run later in sanityCheck
    
    resolves: rhbz#883768

commit 588f02ce8637f0d2c6dfca6935e28394d27e0228
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Feb 18 10:51:55 2013 -0500

    Move empty_disk to a top-level function, and rename.

commit 728253a24449fdaf257a490e4d0b9dbae9b5f99d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 17:36:52 2013 -0600

    Add some high-level comments to DeviceFactory.configure_device.

commit f96627924691a2f88f0fb0d2d4e8b5910e79e552
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 17:25:08 2013 -0600

    Refactor DeviceFactory.set_container_members for clarity.

commit 38eeb9641b45e4f2bda73eb7c771477f2a704a32
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 14:17:57 2013 -0600

    Rename the main blivet logger from "storage" to "blivet".

commit 45f3e262f4ba22e2844e55f83b4654be74501a81
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 14:17:08 2013 -0600

    Use the blivet domain for translations.

commit e3ceb9b553fb0b696f1330fe063c4b2618ec926b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 14:07:46 2013 -0600

    Move DeviceFactory classes and related code into a new file.

commit 8b70cc34b14198a29201903f648ec97b37d1a7b1
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 8 15:00:50 2013 -0600

    New version: 0.5

commit 99356563c13762cf4513c77f37eb577739d5de17
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Feb 8 09:34:58 2013 -0800

    Add mountOnly to turnOnFilesystems
    
    This allows us to mount filesystems like dev, proc, ... to
    /mnt/sysimage without activating the rest of storage.

commit f31a081544006ee813989da6ebea86b31de83f2d
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 5 16:31:46 2013 -0600

    Update lvm scanning to account for new ignored device handling.

commit fea12c2233feddcf80d0acfdfe76abdc256f7dea
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 13:28:25 2013 -0600

    Scan in all devices and then hide those that use ignored disks.

commit c084f5046805e08b8e91d83bfae2bce9e8e62ed6
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 5 14:41:34 2013 -0600

    Adjust child counts correctly when unhiding a device.

commit c072c544c800787c3588672d2473a73ab76e4767
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 1 11:41:00 2013 -0600

    Generate lvm config args each time they're needed/used.
    
    Also adds support for read-only locking for commands that only gather
    info.

commit 912306651fc433c19e7f71b357ce0e69e5001d5b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 1 11:34:55 2013 -0600

    Add ability to grab 70-anaconda.rules udev data directly.
    
    This means blivet can run with or without 70-anaconda.rules.

commit 086d80ce0de16604e55706861ffb9d990527edda
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 1 11:50:48 2013 -0600

    Add support for active luks mappings at populate time.
    
    There will be no passphrase or key until/unless one is provided to
    the luks format instance.

commit e9a37ffc4a7b1b7288fb4f618cc2190fba520132
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 30 13:16:40 2013 -0600

    Don't require nss, required only for escrow key support.

commit 9507672bb775f722863a1eb852026479faee6b68
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 1 11:32:13 2013 -0600

    Update the TODO list.

commit adec91898024f9db375680e60ade793952c4a260
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 31 11:57:54 2013 -0600

    Add missing constant DMI_CHASSIS_VENDOR.

commit bd40ab4eec434af28f40d651c2d43dc9c23c7d7a
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 13:44:06 2013 -0600

    Allow for multiple calls to DeviceTree.processActions. (#881023,#846573)
    
    Any commit of a DiskLabel will now trigger an update of its
    origPartedDisk attribute so it always reflects the on-disk state.

commit 72c9a669a203e3b9780e0cd06fcf958fc73c65a3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 13:26:38 2013 -0600

    Use CGit snaphot URL for Source in specfile.
    
    Thanks to Jan Safranek for the idea.

commit 4f3bbddf8010e55564a5b8b0c03305381ac05a35
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 12:53:49 2013 -0600

    Streamline some logic in storageInitialize.

commit 22f045a675562ed576d5814ecc7074f26e99e968
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 12:24:49 2013 -0600

    Don't re-add deleted or hidden devices during DeviceTree.populate.

commit 3c7429724c8ac3313dfa4628b249a94e7c8f11be
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 11:51:01 2013 -0600

    Only run findExistingInstallations and start iscsi, &c in installer mode.

commit f98464e851b9ac59f07b68fc2643ea3b24c1954f
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 28 15:30:26 2013 -0600

    Do not change device status during populate in normal mode. (#817064)

commit 8f1420f02410251bf82480fe6de9ab842622baf5
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 28 15:02:21 2013 -0600

    Drop old code related to saving clearPartType from pre-f18.

commit 35f8fd5aaaa8c6b6da4d457db19bba342c383bdc
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Feb 1 16:04:21 2013 -0800

    check for skipping bootloader in doIt
    
    Skipping bootloader install should also skip setting partition flags.

commit 24f0ec502b32482a6c0a81cb04c620000279951c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Feb 1 16:03:21 2013 -0800

    check for stage1 when not installing bootloader (#882065,#895232)
    
    When not installing a bootloader stage1_device may not be set, need to check
    before using it.

commit b9ada5dda0085dfb00ea73266d7a98b4efbb0af3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jan 31 16:25:41 2013 -0800

    explicitly detect iso9660 on a disk (#903158)
    
    Previously we were relying on parted to raise an error when trying to
    examine a disk with an iso9660 image written to it. The reason for this
    was that isohybrid was writing an incorrect mbr, which has now been
    fixed. parted will now return the dos mbr from the hybrid iso.
    
    This skips handleUdevDiskLabel if the device format is iso9660, allowing
    it to be selected instead of the mbr.

commit 5b2622f90d8ee2f6680031fe0ad9841b938afed0
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 25 12:49:24 2013 -0600

    Fix several problems in python-blivet.spec.
    
    - Changed license to GPLv2+.
    - Remove BuildRoot.
    - Remove %clean.
    - Add missing versioned requires macros.
    - Remove anaconda requires.
    - Add pykickstart requires.

commit 8311939c9e1051e4962f9f60475e7b33879cf6e9
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 25 11:53:21 2013 -0600

    Remove #!/usr/bin/python from tsort.py

commit 292b2de06dd58f635ab98e55d5f593791806606b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 25 11:52:59 2013 -0600

    Update COPYING file.

commit c9941a8c32b45d8026fcc36ad55fa8a31b9810f7
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 25 12:46:07 2013 -0600

    Add a Requires for dmidecode on x86.

commit b1bd77461553b2ec2ff3fddbfcbe7a8512ee985b
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 14:39:57 2013 -0600

    New version: 0.4-1

commit 31c5331bc353c560dfe4db72a0000872a1c18f98
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 14:28:12 2013 -0600

    Use a two-part version number instead of three.

commit 67e13f11ad3f60729da5afece3a08fd5245493da
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 12:01:19 2013 -0600

    Rename the rpm package from blivet to python-blivet.

commit c1a04500da886e26caef32a37cbb10c1c034badd
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 11:59:28 2013 -0600

    Move get_mount_device, get_mount_paths from pyanaconda.packaging to util.

commit 4e19ea25476462be666cac5fda6c0534c9077ae0
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 11:59:02 2013 -0600

    Update the TODO list.

commit d6fe8f4ee3752e39dd8f884151cc3f0e2e970b6a
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 11:58:09 2013 -0600

    Carry over s390 exclusion of fcoe-utils from anaconda.

commit 6da359a13a51a2c48fd597cc63ff5dc24ecbf72f
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 11:56:49 2013 -0600

    Enable translations via transifex.

commit 20e5c9991e69f5f06a9f59b6d0e7abe64cc42c5a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 18 15:10:10 2013 -0600

    New version: blivet-0.3-1

commit d6495c2f8adc7efe442861dd6e2f1016968bfd2f
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 18 15:05:49 2013 -0600

    Add Requires: iscsi-initiator-utils, fcoe-utils, device-mapper-multipath.

commit 1ba3eda6279b3ef743cddeece6957d700af1e754
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 18 15:04:47 2013 -0600

    Use a threading lock to control program log output.

commit e8421079301555479cf5e2dd0430394d6cf90f72
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 16 09:39:22 2013 -0600

    Fix reference to data to refer to ksdata in Blivet constructor.

commit 92922ecb04ed5466e670259e4c22ac06c903c1fc
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 16 09:38:57 2013 -0600

    Remove the loop around proc.communicate in util._run_program.

commit f652de40b16f239d12d5206bc3e37906b7497609
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 15 13:37:35 2013 -0600

    New version: 0.2-1

commit 48d9be09cf93695f5c34da48ef0f8f8c386781f2
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 15 13:32:52 2013 -0600

    Add .gitignore, MANIFEST.in, po/Makefile, and update the pot file.

commit 97fc5303e0d771af8f8f6dd59736d9b743ada1c8
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 15 13:32:21 2013 -0600

    Update the TODO list.

commit c4b9c8c0d7b8fb4b3221089411de5a4ddd141893
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 14 18:04:51 2013 -0600

    Rename Storage->Blivet and Blivet.data->Blivet.ksdata.

commit 6437c11ce74de8a761b08a477b892bc6b0c6553f
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 14 17:55:38 2013 -0600

    Remove unused functions undoEncryption and getLUKSPassphrase.

commit 9c4712df3d94d348ace0e1aa1b3bb5511fd9f1f7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 14 17:40:33 2013 -0600

    Add the storage unit tests from anaconda.
    
    They won't be runnable as-is, but this is where the code belongs until
    I get it into shape.

commit 2a56c2f3a3b21fb625751dbb488a2cd39c81a0ad
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 14 17:39:43 2013 -0600

    Update storage code from pre-split anaconda.

commit 50c0f5254fa6d6962d5825d276c111e456c2a3d9
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 8 11:54:37 2013 -0600

    Initial version
